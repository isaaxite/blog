{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"source/images/avatar.jpg","path":"images/avatar.jpg","modified":1,"renderable":0},{"_id":"source/images/wechat_qrcode.png","path":"images/wechat_qrcode.png","modified":1,"renderable":0},{"_id":"source/images/wechat_qrcode.jpg","path":"images/wechat_qrcode.jpg","modified":1,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/css/noscript.styl","path":"css/noscript.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo-algolia-nebula-blue-full.svg","path":"images/logo-algolia-nebula-blue-full.svg","modified":1,"renderable":1},{"_id":"themes/next/source/js/bookmark.js","path":"js/bookmark.js","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/js/comments-buttons.js","path":"js/comments-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/comments.js","path":"js/comments.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/motion.js","path":"js/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/config.js","path":"js/config.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/next-boot.js","path":"js/next-boot.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/pjax.js","path":"js/pjax.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/schedule.js","path":"js/schedule.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/fancybox.js","path":"js/third-party/fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/quicklink.js","path":"js/third-party/quicklink.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/pace.js","path":"js/third-party/pace.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/analytics/baidu-analytics.js","path":"js/third-party/analytics/baidu-analytics.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/analytics/google-analytics.js","path":"js/third-party/analytics/google-analytics.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/analytics/matomo.js","path":"js/third-party/analytics/matomo.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/analytics/growingio.js","path":"js/third-party/analytics/growingio.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/changyan.js","path":"js/third-party/comments/changyan.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/disqus.js","path":"js/third-party/comments/disqus.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/disqusjs.js","path":"js/third-party/comments/disqusjs.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/gitalk.js","path":"js/third-party/comments/gitalk.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/isso.js","path":"js/third-party/comments/isso.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/chat/chatra.js","path":"js/third-party/chat/chatra.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/livere.js","path":"js/third-party/comments/livere.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/utterances.js","path":"js/third-party/comments/utterances.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/chat/gitter.js","path":"js/third-party/chat/gitter.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/chat/tidio.js","path":"js/third-party/chat/tidio.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/math/mathjax.js","path":"js/third-party/math/mathjax.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/math/katex.js","path":"js/third-party/math/katex.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/tags/pdf.js","path":"js/third-party/tags/pdf.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/tags/mermaid.js","path":"js/third-party/tags/mermaid.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/statistics/firestore.js","path":"js/third-party/statistics/firestore.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/statistics/lean-analytics.js","path":"js/third-party/statistics/lean-analytics.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/search/algolia-search.js","path":"js/third-party/search/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/search/local-search.js","path":"js/third-party/search/local-search.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/_posts/hexo：从0开始与踩坑实录.md","hash":"13d8827f80e70a3353944e726bb4b661b0551096","modified":1676573905373},{"_id":"source/categories/index.md","hash":"e8e5364929517e7cd431c68a4175320d30399a05","modified":1676573905399},{"_id":"source/tags/index.md","hash":"e7cf6395863ce64f3cf8bf08d736f49b39d823ab","modified":1676573905401},{"_id":"source/images/avatar.jpg","hash":"ca49e5cfc0d31651c3a2b8d0148204ecdbd0b133","modified":1676669688958},{"_id":"source/_posts/面试题46-把数字翻译成字符串.md","hash":"00dbfca2d29304b6b83ace375b7ea343534f34c0","modified":1676573905396},{"_id":"source/_posts/面试题62-圆圈中最后剩下的数字.md","hash":"0a973f69d2b290d442630197d3455219f561fdb5","modified":1676573905397},{"_id":"source/_posts/hexo：从0开始与踩坑实录/Snipaste_2023-02-14_21-58-08.png","hash":"5df7db65a5cb90909a924f0516166079d8d6bc34","modified":1676573905375},{"_id":"source/images/wechat_qrcode.jpg","hash":"b951c872f7fa231629d71a6f63e78f49d51db6fb","modified":1676670941049},{"_id":"source/images/wechat_qrcode.png","hash":"39a9d13496251800b07f63b98c8298ee08cd9d1f","modified":1676670622902},{"_id":"source/_posts/Rust学习.md","hash":"b969c71f267bb75076d9b810b6c320a02e99ebd6","modified":1676573905373},{"_id":"source/_posts/hexo：从0开始与踩坑实录/Snipaste_2023-02-16_13-28-44.png","hash":"c739e75d121aca4cbf9a4e74b767249c81d84a25","modified":1676573905394},{"_id":"themes/next/.editorconfig","hash":"8570735a8d8d034a3a175afd1dd40b39140b3e6a","modified":1675225243000},{"_id":"themes/next/.eslintrc.json","hash":"9c0762486f24a8c5e60f8b6c875e4c4728942649","modified":1675225243000},{"_id":"themes/next/.gitattributes","hash":"ec43734985e1cafd53d88ded3020103f7416123c","modified":1675225243000},{"_id":"themes/next/.gitignore","hash":"417520c4dbbeab9c7e3ab10d944da0886366a0ee","modified":1675225243000},{"_id":"themes/next/.stylelintrc","hash":"dedb8dd4d454cb1bb6aba594ef2cbd05ec2427d8","modified":1675225243000},{"_id":"themes/next/_config.yml","hash":"c82dfaf54789a87a426cacd2a495894e765547d3","modified":1676671608620},{"_id":"themes/next/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1675225243000},{"_id":"themes/next/_vendors.yml","hash":"48ae2854826d6ad46cca5a5fdfcc13f09870c8b2","modified":1675225243000},{"_id":"themes/next/package.json","hash":"3b8084a2e1cb83ca6bbb1066599ead017c4202f3","modified":1675225243000},{"_id":"themes/next/renovate.json","hash":"cb29cc16e61b0b8a6dac34657d76822ae29ad5aa","modified":1675225243000},{"_id":"themes/next/README.md","hash":"36c4b25587ca494102323dab5a38de5490451a64","modified":1675225243000},{"_id":"themes/next/.githooks/install.js","hash":"4d77dbddf2eac1f3fc78f151d12ed22208ed655b","modified":1675225243000},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"21cbff565a0445d3a880fff1ee417e309740a9ab","modified":1675225243000},{"_id":"themes/next/.github/config.yml","hash":"7984e665e9de481a0e0e51fca5668337713f810b","modified":1675225243000},{"_id":"themes/next/.githooks/pre-commit","hash":"f473eac1aaaa96c947d67988bbed140bbab1a821","modified":1675225243000},{"_id":"themes/next/.github/issue_label_bot.yaml","hash":"fca600ddef6f80c5e61aeed21722d191e5606e5b","modified":1675225243000},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"330656d93b6c03df9fb1f2f0e3534c971969473b","modified":1675225243000},{"_id":"themes/next/.github/release.yml","hash":"112310b81f959747f8eaafc2ca2150e1dcf916d8","modified":1675225243000},{"_id":"themes/next/.github/label-commenter-config.yml","hash":"1097fc47beeacfc1edb0248c27b17bf64bde3565","modified":1675225243000},{"_id":"themes/next/.github/labeler.yml","hash":"5c4bc2bd561e6d9b33ee118cc12218c5de46f72d","modified":1675225243000},{"_id":"themes/next/languages/README.md","hash":"b2567e32805dda79601157351a07e5ca9fe01315","modified":1675225243000},{"_id":"themes/next/languages/ar.yml","hash":"46026e98fe279a9db5d68bf91afa5d8e41f9ccfb","modified":1675225243000},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"fa76760856429b6421abc54e63b2d3c815372900","modified":1675225243000},{"_id":"themes/next/languages/de.yml","hash":"c4fc18c338309271d1afe737e6c404a6fa313bbc","modified":1675225243000},{"_id":"themes/next/docs/AUTHORS.md","hash":"a648823121563c34a177ae91f5a774b5e29f01a0","modified":1675225243000},{"_id":"themes/next/languages/bn.yml","hash":"74133a827c104d1d84509177f283947fe9327a80","modified":1675225243000},{"_id":"themes/next/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1675225243000},{"_id":"themes/next/languages/es.yml","hash":"8b6d4a8a056df4362d20ae1f6ac7a590dd7246e5","modified":1675225243000},{"_id":"themes/next/languages/en.yml","hash":"4bbdb4284afe495437cf7817b97b45f60e12d1e4","modified":1675225243000},{"_id":"themes/next/languages/fr.yml","hash":"2436942610e38b73b175cb0f8ed1f8f23d42a7ce","modified":1675225243000},{"_id":"themes/next/languages/fa.yml","hash":"1e256c8df039ddeba66526c5eb2d6c79177a7fc6","modified":1675225243000},{"_id":"themes/next/languages/id.yml","hash":"c4bad93b23c7eefa730fd7fec5b05ace3ce9ca4d","modified":1675225243000},{"_id":"themes/next/languages/ja.yml","hash":"a0906702d3c87d0e1661e300ad0bdf7e679a3d91","modified":1675225243000},{"_id":"themes/next/languages/it.yml","hash":"4d6efcdaea89dfe751b7707d91858bf33d3538b7","modified":1675225243000},{"_id":"themes/next/languages/ko.yml","hash":"25ee0d5b9a0464a91af7d2efb33293c09ad5abdf","modified":1675225243000},{"_id":"themes/next/languages/nl.yml","hash":"8a4da307b4a19e3c96b90a07a2da8dc5d50e5d9e","modified":1675225243000},{"_id":"themes/next/languages/pt-BR.yml","hash":"10d80915c41328f31a4f2d8ac736bba020f373d8","modified":1675225243000},{"_id":"themes/next/languages/si.yml","hash":"034c5a0df49144e8f16ae2300dba9fde58b9329e","modified":1675225243000},{"_id":"themes/next/languages/ru.yml","hash":"16b96783ba363255b4c8156c3e1efebdb37676f8","modified":1675225243000},{"_id":"themes/next/languages/pt.yml","hash":"fa7c43ec872aee2739b25dd7260e0764ea9e26fd","modified":1675225243000},{"_id":"themes/next/languages/th.yml","hash":"4fac74a39d3906c4a727476be4750530a505933a","modified":1675225243000},{"_id":"themes/next/languages/tk.yml","hash":"37d9af426b040004841273d163059cd49cd67d65","modified":1675225243000},{"_id":"themes/next/languages/tr.yml","hash":"890f87f6a33ad8452b771607d4c3ff14810b35fa","modified":1675225243000},{"_id":"themes/next/languages/uk.yml","hash":"fbaed3039ed8605b81422003a4ecb2a6514e339d","modified":1675225243000},{"_id":"themes/next/languages/vi.yml","hash":"a6ba04c743a5b494ac56612ce6b858d9ae3ae1bd","modified":1675225243000},{"_id":"themes/next/languages/zh-TW.yml","hash":"9fdce9d316e205fc132b2181254ef3b04007a97d","modified":1675225243000},{"_id":"themes/next/languages/zh-CN.yml","hash":"5cebea74f3198a4a20cacf23069c3b91e4f03d85","modified":1675225243000},{"_id":"themes/next/languages/zh-HK.yml","hash":"8ab7219563dab13885840207a86055000d173465","modified":1675225243000},{"_id":"themes/next/layout/_layout.njk","hash":"fc0a45112f2dcfc2642404e8934ea32a793c3bd7","modified":1675225243000},{"_id":"themes/next/layout/archive.njk","hash":"d759f4d2cf5ddc6875ea250113a00662c1caf6d1","modified":1675225243000},{"_id":"themes/next/layout/category.njk","hash":"c68b7343d0f8145010f93351908cc36ef6212ec1","modified":1675225243000},{"_id":"themes/next/layout/index.njk","hash":"dd63e488ae8cc144335a5958acedf6a16edd7a92","modified":1675225243000},{"_id":"themes/next/layout/page.njk","hash":"b0660b2af0ac7d3fda14ca4d9f2c9e79ef06c6f9","modified":1675225243000},{"_id":"themes/next/layout/post.njk","hash":"0bfce9f133f501a9a4837257e3b862b3bbca15be","modified":1675225243000},{"_id":"themes/next/layout/tag.njk","hash":"9e16ba20c28a7f2c6bc75aa427f48122301a30aa","modified":1675225243000},{"_id":"themes/next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1675225243000},{"_id":"themes/next/test/index.js","hash":"6bf0289846538be3e9a63809af98f00e1fbdd90b","modified":1675225243000},{"_id":"themes/next/.github/ISSUE_TEMPLATE/config.yml","hash":"c40ae7903b6cc99f94c9d45ac7ba8c2850bb1309","modified":1675225243000},{"_id":"themes/next/docs/LICENSE.txt","hash":"f5b14f791b7cfa1d16da981d929152e088a5d1b8","modified":1675225243000},{"_id":"themes/next/.github/ISSUE_TEMPLATE/bug-report.yml","hash":"3f19cbf0c2b2fee6bf3788870b842c9ccc1425ca","modified":1675225243000},{"_id":"themes/next/.github/ISSUE_TEMPLATE/feature-request.yml","hash":"fbc3062cd4591c8329fab9db72803746f0d11920","modified":1675225243000},{"_id":"themes/next/.github/workflows/label-commenter.yml","hash":"434cc0674290958b1e9bbc46c3486f073c0722db","modified":1675225243000},{"_id":"themes/next/.github/workflows/labeler.yml","hash":"e9d51e93f239a2d4b69722c69db3463b4baf0f4c","modified":1675225243000},{"_id":"themes/next/.github/workflows/lock.yml","hash":"f1bf7f86c11419b63323bd21e388e6bdaf24d27d","modified":1675225243000},{"_id":"themes/next/.github/ISSUE_TEMPLATE/other.yml","hash":"10eca518b91a19984f6a5a912d41222042f61d63","modified":1675225243000},{"_id":"themes/next/LICENSE.md","hash":"68fc9a03d50fd4b5ea97092b05967d1819dea2c4","modified":1675225243000},{"_id":"themes/next/.github/workflows/tester.yml","hash":"80a20c3a7522249f051a48239db41d1317e9b552","modified":1675225243000},{"_id":"themes/next/.github/workflows/codeql.yml","hash":"8da13d7c325addb6b7c1d9ac3683dafd43e3709a","modified":1675225243000},{"_id":"themes/next/.github/workflows/linter.yml","hash":"2ab8720e4b9534e48ba324b73b0b58cb54df689f","modified":1675225243000},{"_id":"themes/next/docs/ru/README.md","hash":"ac3c4a7616ea80f0d32d68d6e53233952ba756dc","modified":1675225243000},{"_id":"themes/next/.github/workflows/pr-reminder.yml","hash":"3ab3e8d9dc0e1d9bd54f44fba476792fb1ee190d","modified":1675225243000},{"_id":"themes/next/layout/_macro/post.njk","hash":"7e8268fd5cbd552322b276f52459fd187c2453d2","modified":1675225243000},{"_id":"themes/next/layout/_macro/post-collapse.njk","hash":"1a30d751871dabfa80940042ddb1f77d07d830b9","modified":1675225243000},{"_id":"themes/next/layout/_macro/sidebar.njk","hash":"547c62ab14d9e05d2d9116db9048a677fbe1fb6d","modified":1675225243000},{"_id":"themes/next/layout/_scripts/vendors.njk","hash":"be80b9fe415a9a09d74c28e230995fd292dfc123","modified":1675225243000},{"_id":"themes/next/layout/_scripts/index.njk","hash":"6668878a0f9a1166c6a879755f54a08d942da870","modified":1675225243000},{"_id":"themes/next/layout/_partials/comments.njk","hash":"d0c470b0f6690aa217e9ada848c5e2e73fb27c6f","modified":1675225243000},{"_id":"themes/next/layout/_partials/footer.njk","hash":"c40760b559c516677c8b11a00ba50c011f2079fd","modified":1675225243000},{"_id":"themes/next/layout/_partials/languages.njk","hash":"e43f22198cccb5f6e306b1ce0d28d12a4fb891f8","modified":1675225243000},{"_id":"themes/next/layout/_partials/pagination.njk","hash":"bc719473ed5948ab6859449d60b8d36cfc1542b4","modified":1675225243000},{"_id":"themes/next/layout/_partials/widgets.njk","hash":"e7f988ecddb2159313699a00827a45eca5622bd4","modified":1675225243000},{"_id":"themes/next/layout/_third-party/index.njk","hash":"aa37f8e98208177b63e3328d6e53b022c6edf3b2","modified":1675225243000},{"_id":"themes/next/layout/_third-party/pace.njk","hash":"d7ad5714079f7f65446f880baf14722435ca9061","modified":1675225243000},{"_id":"themes/next/layout/_third-party/fancybox.njk","hash":"844559f46e2ff1c8be234d5763703106e2072a7b","modified":1675225243000},{"_id":"themes/next/layout/_third-party/quicklink.njk","hash":"0efed71ed530447718c4ea5bbd5fc8695b0b0d5f","modified":1675225243000},{"_id":"themes/next/scripts/helpers/engine.js","hash":"d292b78485e8e8055712b0ed6de7cf559c5fbdcd","modified":1675225243000},{"_id":"themes/next/scripts/helpers/navigation.js","hash":"78107021101553c3d23e89290f7530b60cf4aa86","modified":1675225243000},{"_id":"themes/next/scripts/helpers/font.js","hash":"3394185a7f0393c16ce52c8028f90da3e9239c55","modified":1675225243000},{"_id":"themes/next/scripts/helpers/next-paginator.js","hash":"e86c764b546e4fbb87970cabc4135a56f9ef9fe1","modified":1675225243000},{"_id":"themes/next/scripts/helpers/next-vendors.js","hash":"afdd6a188a74c188f0dd154fac70efd4080ca262","modified":1675225243000},{"_id":"themes/next/scripts/helpers/next-config.js","hash":"226fccbe9c93265e65a300e3cb4bf6f9065cfdd7","modified":1675225243000},{"_id":"themes/next/scripts/tags/button.js","hash":"c6ad2ed544fbb25ecb5d820c36e76302504271b7","modified":1675225243000},{"_id":"themes/next/scripts/helpers/next-url.js","hash":"fd24abfaba4d91923ddb6aecf0268b216678c8bd","modified":1675225243000},{"_id":"themes/next/scripts/tags/caniuse.js","hash":"935a311142a409c1896b3ae3f01fe7a9e2db1134","modified":1675225243000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"92c19d796bdb3320df9caea59bf52df7a95d9da9","modified":1675225243000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"9ed799c329abf830f623689d7e136991256a24ca","modified":1675225243000},{"_id":"themes/next/scripts/tags/label.js","hash":"8a73348186113bae0a51ea2f891c1bb882fab05a","modified":1675225243000},{"_id":"themes/next/scripts/tags/link-grid.js","hash":"18a483c2d5afd701f6080ffdddf2d1321370336c","modified":1675225243000},{"_id":"themes/next/scripts/tags/mermaid.js","hash":"4fb01ca650fa8b256b8d48f50dc1b18350bd3d6d","modified":1675225243000},{"_id":"themes/next/scripts/tags/index.js","hash":"17f9451ce1f10f78437f52218757d38d4e1591b0","modified":1675225243000},{"_id":"themes/next/scripts/tags/note.js","hash":"7b94ddb46b7d4b0fe815f2fbe4bd375f07f55363","modified":1675225243000},{"_id":"themes/next/scripts/events/index.js","hash":"bd9ea82376cd87df611ea3ae077875c7c595a3df","modified":1675225243000},{"_id":"themes/next/scripts/tags/video.js","hash":"2ee926448583be8f95af1f2884ae2c9c4830151d","modified":1675225243000},{"_id":"themes/next/scripts/tags/tabs.js","hash":"0eabe51da40b4b13e16419c8fe02452d9a4fef73","modified":1675225243000},{"_id":"themes/next/scripts/tags/pdf.js","hash":"344636b6fd7e27e8831c1e194039afc0d61931cd","modified":1675225243000},{"_id":"themes/next/scripts/filters/default-injects.js","hash":"872f01cb10e422a648ea505436532e776e92926b","modified":1675225243000},{"_id":"themes/next/scripts/filters/locals.js","hash":"9eb5310664759931287dd28ea39165dfb67f12ed","modified":1675225243000},{"_id":"themes/next/scripts/filters/post.js","hash":"fdc8a0af90035e89c3fcb754a0eb189b8951a2bc","modified":1675225243000},{"_id":"themes/next/scripts/filters/minify.js","hash":"ce8477e7fb226525bae5872cd68a1c2c23ad50c8","modified":1675225243000},{"_id":"themes/next/source/css/_colors.styl","hash":"3c6798c10cc220d83481cb3f3782e78558cee789","modified":1675225243000},{"_id":"themes/next/source/css/_mixins.styl","hash":"04a07a4dbeb00683d783eff26c44492c35b924e0","modified":1675225243000},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"a089f7a8368ab0b7d7b9b7ec0ac3767a453435df","modified":1675225243000},{"_id":"themes/next/docs/zh-CN/README.md","hash":"9bbdbb0656505acceef9b9895a576164175fe888","modified":1675225243000},{"_id":"themes/next/source/css/main.styl","hash":"921a58577f411cf4eb5cfd66db0a241f8f88578c","modified":1675225243000},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7a06d443f374bd1e84294067a0ac796afd9fbe60","modified":1675225243000},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1675225243000},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1675225243000},{"_id":"themes/next/source/css/noscript.styl","hash":"dadc81256afb127b77eac6763d5ee0ec9c77f0a3","modified":1675225243000},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1675225243000},{"_id":"themes/next/source/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1675225243000},{"_id":"themes/next/source/images/logo.svg","hash":"099e11ab995a2c8981427a85476d082609848c77","modified":1675225243000},{"_id":"themes/next/source/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1675225243000},{"_id":"themes/next/source/js/bookmark.js","hash":"0f563ffbf05fad30e854e413ab17ff7164ab5a53","modified":1675225243000},{"_id":"themes/next/source/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1675225243000},{"_id":"themes/next/source/js/motion.js","hash":"770d63c26f22705311028a36b52e999cc8a2da82","modified":1675225243000},{"_id":"themes/next/source/js/next-boot.js","hash":"da0f07f9eaaa83de70128b0feaea3fdadb90457a","modified":1675225243000},{"_id":"themes/next/source/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1675225243000},{"_id":"themes/next/source/js/pjax.js","hash":"90fb7f346f777434ea68ab4e4be1d7b999ad63ac","modified":1675225243000},{"_id":"themes/next/source/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1675225243000},{"_id":"themes/next/test/helpers/index.js","hash":"63ba28afed697f7b3574436b1133b8ecc9c0c357","modified":1675225243000},{"_id":"themes/next/source/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1675225243000},{"_id":"themes/next/source/js/utils.js","hash":"af59257e46d25dda62967c35a65e2efcbd90d3bc","modified":1675225243000},{"_id":"themes/next/test/helpers/font.js","hash":"342ef3c6fd2dcca2a8802a516ed6d7f389fd2ca2","modified":1675225243000},{"_id":"themes/next/test/tags/center-quote.js","hash":"7667342fd1a1417eaf6a254012b84ae40e8d13dd","modified":1675225243000},{"_id":"themes/next/test/helpers/next-url.js","hash":"a91d880cb75e0a8e65a7be4c7362b2c8ebfb7c4f","modified":1675225243000},{"_id":"themes/next/test/tags/index.js","hash":"e8779e54f0979b221858f8bb74dd081bb503b910","modified":1675225243000},{"_id":"themes/next/test/tags/label.js","hash":"4ebf3698c258ca978b997acbdd0dece44069c09d","modified":1675225243000},{"_id":"themes/next/test/tags/mermaid.js","hash":"ab77be5f3c6d9a57c7b9dda6decf1906a736fef9","modified":1675225243000},{"_id":"themes/next/test/tags/button.js","hash":"48f2aa4c513e9e24bd6a811410520b74cd7ea88b","modified":1675225243000},{"_id":"themes/next/test/tags/caniuse.js","hash":"aa5e728445caeaf7c2ccd0f3fcb2cad0c93ca6d1","modified":1675225243000},{"_id":"themes/next/test/tags/group-pictures.js","hash":"5c68ae0184f9da6e00ba199f2554d503d8e6da71","modified":1675225243000},{"_id":"themes/next/test/tags/video.js","hash":"b796fc4dceb20a30e730c322bb5474c0162464cc","modified":1675225243000},{"_id":"themes/next/test/tags/pdf.js","hash":"fd6ea5123560a90f7e7c1eface23dbe1455db25f","modified":1675225243000},{"_id":"themes/next/test/tags/link-grid.js","hash":"43d298fafb7c45a874b766d443843bd26346e689","modified":1675225243000},{"_id":"themes/next/layout/_partials/head/head.njk","hash":"5388b157bba4a40b9312f4a45c6678974ccf0837","modified":1675225243000},{"_id":"themes/next/layout/_partials/header/brand.njk","hash":"dd9c4c03e99dfde0dfb8edefcb2c933f2f560efc","modified":1675225243000},{"_id":"themes/next/layout/_partials/head/head-unique.njk","hash":"8da52a144060db1a0a088ccb2e6cc8376d1fce70","modified":1675225243000},{"_id":"themes/next/layout/_partials/header/index.njk","hash":"650de421a8ce4cf685428ffbe0087ff84cbd1356","modified":1675225243000},{"_id":"themes/next/layout/_partials/header/menu-item.njk","hash":"41a8b0cc16f60fa085cb719d07216d86b6bc4bf8","modified":1675225243000},{"_id":"themes/next/layout/_partials/page/breadcrumb.njk","hash":"89825e75cc45e9709fa6ba89883669eedaff6f46","modified":1675225243000},{"_id":"themes/next/layout/_partials/header/sub-menu.njk","hash":"06480d8ec5f0b87eafd47f082f07968d7282dd5c","modified":1675225243000},{"_id":"themes/next/layout/_partials/page/categories.njk","hash":"17156d99941f28a225951ffdcfa9a115e20dc2d2","modified":1675225243000},{"_id":"themes/next/layout/_partials/header/menu.njk","hash":"ee6fc2f111572d3eeab0a2fecbb2d6b3e37ab26b","modified":1675225243000},{"_id":"themes/next/layout/_partials/page/page-header.njk","hash":"7ed4f102a1825195cff8d7995bf9219f323a9034","modified":1675225243000},{"_id":"themes/next/layout/_partials/post/post-copyright.njk","hash":"133942922e34abae9e4de7ea5591d77c0caa4b37","modified":1675225243000},{"_id":"themes/next/layout/_partials/page/schedule.njk","hash":"0f4bc8e257da60f77c0c1738607b2bde55810684","modified":1675225243000},{"_id":"themes/next/layout/_partials/post/post-followme.njk","hash":"c1e33b4889f75acc490af3c8bde0ec56c518ff41","modified":1675225243000},{"_id":"themes/next/layout/_partials/page/tags.njk","hash":"a18d1598e36cc72f2b0b24c3cc3c5990dfaa3254","modified":1675225243000},{"_id":"themes/next/layout/_partials/post/post-meta.njk","hash":"9fa47e4fb342811da590ee4adc91cf81118c0a39","modified":1675225243000},{"_id":"themes/next/layout/_partials/post/post-reward.njk","hash":"e8b8a7c41e9ec612d0c0c73419529d55d1c16256","modified":1675225243000},{"_id":"themes/next/layout/_partials/post/post-related.njk","hash":"e0986db00a0201dd3c60570f964829c84ba5bc68","modified":1675225243000},{"_id":"themes/next/layout/_partials/post/post-share.njk","hash":"3f28cc4411c0ffc0e41b7970d5ab329c7e46f497","modified":1675225243000},{"_id":"themes/next/layout/_partials/search/algolia-search.njk","hash":"efb2b6f19df02ba5ae623a1f274fff52aed21e6f","modified":1675225243000},{"_id":"themes/next/layout/_partials/search/index.njk","hash":"8f6f256ab3b351ffc80f1f3f1d9834e9a7cfac31","modified":1675225243000},{"_id":"themes/next/test/tags/note.js","hash":"3dcfcd65bf9f326972ea7571fdb1444200f5d07e","modified":1675225243000},{"_id":"themes/next/layout/_partials/sidebar/site-overview.njk","hash":"70342218473a6e6aa9148de06bfffe121afb8548","modified":1675225243000},{"_id":"themes/next/layout/_partials/search/localsearch.njk","hash":"661f7acae43f0be694266323320f977d84119abe","modified":1675225243000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.njk","hash":"6215309aee028dcb734452beec448c5afb6c63fc","modified":1675225243000},{"_id":"themes/next/layout/_third-party/analytics/cloudflare.njk","hash":"a5b8297c2c383124dd6a56e256ecc0c0dcf489be","modified":1675225243000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.njk","hash":"d89066ff53879693f023e540d59c86137172c529","modified":1675225243000},{"_id":"themes/next/layout/_third-party/analytics/microsoft-clarity.njk","hash":"9dc00fcb0a05899f048eace9f9160b78956655d5","modified":1675225243000},{"_id":"themes/next/layout/_third-party/analytics/growingio.njk","hash":"8afaa772c390bd9d53a5cff9645ac3168334eb98","modified":1675225243000},{"_id":"themes/next/layout/_third-party/analytics/index.njk","hash":"f900306497b133e8b098bd9f4b96b93d1d96c185","modified":1675225243000},{"_id":"themes/next/layout/_third-party/analytics/matomo.njk","hash":"4e89648a8ec8194c5823064cbca39c938a799006","modified":1675225243000},{"_id":"themes/next/layout/_third-party/analytics/umami.njk","hash":"181f69b6718c7a8642a88652260cc0a26084a3ee","modified":1675225243000},{"_id":"themes/next/layout/_third-party/chat/chatra.njk","hash":"d7263fca16d0278ccf1f6aa1c6df6902a6344a09","modified":1675225243000},{"_id":"themes/next/layout/_third-party/analytics/plausible.njk","hash":"ef9f2bb7110507f1c4336800af9157d5fa9765bd","modified":1675225243000},{"_id":"themes/next/test/tags/tabs.js","hash":"d63722919f9da2e44d6b952801e10a2915ea9c12","modified":1675225243000},{"_id":"themes/next/test/validate/index.js","hash":"5a95ccc8598667535bd022e988055c0e019f3670","modified":1675225243000},{"_id":"themes/next/layout/_third-party/chat/gitter.njk","hash":"f8cc14b7aa949999a1faaeb7855e2f20b59a386d","modified":1675225243000},{"_id":"themes/next/layout/_third-party/comments/disqusjs.njk","hash":"0749cb6902baecdfd01f779a2a2513f6d2f6a823","modified":1675225243000},{"_id":"themes/next/layout/_third-party/chat/tidio.njk","hash":"02aab857c27fc103216029be991688b12a73a525","modified":1675225243000},{"_id":"themes/next/layout/_third-party/comments/disqus.njk","hash":"9375b19a89b7fa9474e558d085af5448d4c5c50c","modified":1675225243000},{"_id":"themes/next/layout/_third-party/comments/gitalk.njk","hash":"b63b7e2ede0d3e66e732fa1a06bda9b19e1e85d4","modified":1675225243000},{"_id":"themes/next/layout/_third-party/comments/isso.njk","hash":"64cc3bdaf644fd32c0d0a247f29f5b6904da9af3","modified":1675225243000},{"_id":"themes/next/layout/_third-party/comments/livere.njk","hash":"3b13b09fba84ec6000886890a6710736a2b8fafe","modified":1675225243000},{"_id":"themes/next/layout/_third-party/comments/utterances.njk","hash":"5a94032bc3512a10ad4328fc19ec07b819a1d687","modified":1675225243000},{"_id":"themes/next/layout/_third-party/math/katex.njk","hash":"1ebf658690468ea197bdd0416eb7cfa4bd0b083a","modified":1675225243000},{"_id":"themes/next/layout/_third-party/math/index.njk","hash":"abf37fc55aa86702118e8fdf5bf2d389dd589aa0","modified":1675225243000},{"_id":"themes/next/layout/_third-party/search/algolia-search.njk","hash":"24ed76e0c72a25ac152820c750a05826a706b6f4","modified":1675225243000},{"_id":"themes/next/layout/_third-party/math/mathjax.njk","hash":"3677017fd4572b158311f5f5d870590ab25184e0","modified":1675225243000},{"_id":"themes/next/layout/_third-party/statistics/busuanzi-counter.njk","hash":"a4bc501da0f22f7e420f0ca47e83988ce90b1368","modified":1675225243000},{"_id":"themes/next/layout/_third-party/statistics/lean-analytics.njk","hash":"2446e748cdc102c78492216319ac02148db7daf6","modified":1675225243000},{"_id":"themes/next/layout/_third-party/search/localsearch.njk","hash":"e45ea3542cdc9ed7ec8447b5e6f35df4c5e82758","modified":1675225243000},{"_id":"themes/next/layout/_third-party/statistics/index.njk","hash":"568ddf7955d11d93fb5e842b403a7ac8b1b7fdb1","modified":1675225243000},{"_id":"themes/next/layout/_third-party/tags/mermaid.njk","hash":"099e031f52fb8e47b3af5b2684737efc9e643ee7","modified":1675225243000},{"_id":"themes/next/layout/_third-party/tags/pdf.njk","hash":"2c81984cc4f5123103460442f6e046f5b6c97127","modified":1675225243000},{"_id":"themes/next/scripts/events/lib/config.js","hash":"9ec51eb61f7fee612ffc5252f489003a0fa301fc","modified":1675225243000},{"_id":"themes/next/scripts/events/lib/highlight.js","hash":"6aec7b2c38c50989a23bfaa0d560e75c7f553e12","modified":1675225243000},{"_id":"themes/next/layout/_third-party/statistics/firestore.njk","hash":"d32ebe94560fa95824478ebbff531bffc47b194d","modified":1675225243000},{"_id":"themes/next/scripts/events/lib/utils.js","hash":"ec996d0673f766167c86df0966e9da1ae036e103","modified":1675225243000},{"_id":"themes/next/scripts/events/lib/injects.js","hash":"d987709267a1bc6e5014411e9983d7c49c102c16","modified":1675225243000},{"_id":"themes/next/scripts/events/lib/vendors.js","hash":"64e4024376b51fe81be7ad80235abdf0a83853bd","modified":1675225243000},{"_id":"themes/next/scripts/filters/comment/common.js","hash":"19a402a225c31edffc50f202a14e0d582d3db23e","modified":1675225243000},{"_id":"themes/next/scripts/events/lib/navigation.js","hash":"dd3562686d95a50375e6fd32e717ccb0d99c1e3d","modified":1675225243000},{"_id":"themes/next/scripts/filters/comment/disqus.js","hash":"7f71d6b271ba65ff333d5682e7575711d368c0d2","modified":1675225243000},{"_id":"themes/next/scripts/filters/comment/changyan.js","hash":"5798cfc8f63665031dd3e01debed051628cec319","modified":1675225243000},{"_id":"themes/next/scripts/filters/comment/disqusjs.js","hash":"a600a98e7436edeb31e291abca359885567df3c9","modified":1675225243000},{"_id":"themes/next/layout/_third-party/comments/changyan.njk","hash":"d1c950f8fbdf85e7a3eae5463767a89e858e8220","modified":1675225243000},{"_id":"themes/next/scripts/filters/comment/default-config.js","hash":"93ee5f9109dad885dc38c49bcee630c10f9dce6e","modified":1675225243000},{"_id":"themes/next/scripts/filters/comment/gitalk.js","hash":"7bb7dafdd7f6bca8464b54e17e552ce7f1714195","modified":1675225243000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"48f4f277946a168d0db1ea02804e85c22ca2c7db","modified":1675225243000},{"_id":"themes/next/scripts/filters/comment/isso.js","hash":"ff8b5b5145220a17d0ecd9508ba9bd2d3b2da47d","modified":1675225243000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"9845209c54174a42cbff5b5efd5e2e2fb7e60589","modified":1675225243000},{"_id":"themes/next/source/js/third-party/fancybox.js","hash":"c098d14e65dd170537134358d4b8359ad0539c2c","modified":1675225243000},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"96e0a7c2a65ce68215e17e369085b2ea2f1334f2","modified":1675225243000},{"_id":"themes/next/source/js/schemes/muse.js","hash":"0c490e9ba82efbb8bdf8465e6b537fafd51e1ed7","modified":1675225243000},{"_id":"themes/next/scripts/filters/comment/livere.js","hash":"5a07d8bb52bc1d51a624ca8db54be144566c306b","modified":1675225243000},{"_id":"themes/next/source/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1675225243000},{"_id":"themes/next/scripts/filters/comment/utterances.js","hash":"d3bded697bc32dace689d2a6dfb6eb7514169d15","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"7664491542046df9a3887cf40a06e00c0b4086a9","modified":1675225243000},{"_id":"themes/next/source/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/index.styl","hash":"2298e521253b3bf376a2412271bc2a7d305051f3","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/reading-progress.styl","hash":"90a86045a33c1bae49fc2f6fa1e1b53170c7f77b","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/index.styl","hash":"8e34df131830d4fa3725e4590a672ba1cf1903e5","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/mobile.styl","hash":"64775c729512b30b144ab5ae9dc4a4dfd4e13f35","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"d0a7c99095f490b0d2ed6b1be43d435960798cec","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/buttons.styl","hash":"a042571d85ff7265f799004239a45f36b716b8a6","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/comments.styl","hash":"e4fecc889ba3317a64e9abba5842c79dff9b7827","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/pagination.styl","hash":"f4228c759db4a650c8d38745c2edd1dc83c45687","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"9dfe853c901bdc52fc950bacdf15484dbb9bf140","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/index.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"e840b23d33023e6d45e018f6e84b683dd56efd8d","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/toggles.styl","hash":"782ee1fc5e669d3ddbfeb82b73ad7fe561f1a4fb","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"7fecfb76420f786d6bf60218a81705bb48fb1d18","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Muse/_header.styl","hash":"d856127cd7e0a28a88edf0b2eb860ede9c3fdb60","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1675225243000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"e3be898f5ebcf435a26542653a9297ff2c71aeb0","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Muse/_sidebar.styl","hash":"cef9c5f9524fd01b59b0a89e51904b42cbdedc8c","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"b7f48be3c43bfa393d62142544a5487a67871713","modified":1675225243000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"a1418c9dc8c0f1a0ad4ded0f4627c45bf0db1a10","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"77b85d4de5ab747e04008ab31200311b29748740","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Pisces/_header.styl","hash":"ac2dc0ce9c775a83ef7132ae957b54539366ac9c","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Mist/_layout.styl","hash":"fa4fd8f76464e214fb7318f325b13c2b62f4b478","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"ab16a3dcdc0393b9b582ef59dcc13db9320e917c","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"4266eed6f75625bb30ef0280dc5d4093e7c3beb1","modified":1675225243000},{"_id":"themes/next/source/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"72dc825c50357402c342d62ab60fc0c478ab6bc1","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"778ed2ad5643b93970c95626b325defeb586733f","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"91dbf3ca5c3a613d4e30618c120da535bf2d0336","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"8000075b227749a7495eaf417cac6ccfbe441580","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"fb550935d374e0bdf1097fce187337dc05cad3e1","modified":1675225243000},{"_id":"themes/next/source/js/third-party/analytics/matomo.js","hash":"c6a25b26a1443caa70b47fd3dfa282271574deb5","modified":1675225243000},{"_id":"themes/next/source/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1675225243000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expand.styl","hash":"485d23ccb42c0d0c8ead7ea8930dd3e06d79a285","modified":1675225243000},{"_id":"themes/next/source/js/third-party/analytics/google-analytics.js","hash":"59684383385059dc4f8a1ff85dbbeb703bcdbcb5","modified":1675225243000},{"_id":"themes/next/source/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1675225243000},{"_id":"themes/next/source/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1675225243000},{"_id":"themes/next/source/js/third-party/comments/disqus.js","hash":"da361917d65e5dca8362f8cdeb6c8cc0e8316cec","modified":1675225243000},{"_id":"themes/next/source/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1675225243000},{"_id":"themes/next/source/js/third-party/comments/disqusjs.js","hash":"1e826dea3f684c0515f362dc1352447a1f0eae71","modified":1675225243000},{"_id":"themes/next/source/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1675225243000},{"_id":"themes/next/source/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1675225243000},{"_id":"themes/next/source/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1675225243000},{"_id":"themes/next/source/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1675225243000},{"_id":"themes/next/source/js/third-party/chat/gitter.js","hash":"cc38c94125f90dadde11b5ebac7d8bf99a1a08a2","modified":1675225243000},{"_id":"themes/next/source/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1675225243000},{"_id":"themes/next/source/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1675225243000},{"_id":"themes/next/source/js/third-party/tags/mermaid.js","hash":"f27d817b0c2138dd3215b1f46af0753f60a008f3","modified":1675225243000},{"_id":"themes/next/source/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1675225243000},{"_id":"themes/next/source/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1675225243000},{"_id":"themes/next/source/js/third-party/statistics/firestore.js","hash":"6e0682bb42170d61b13b786295f45f9c785f8b73","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"8afdc311c6b8db121758371f95cf1c5e77354f42","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"b6e2eb1550a7845cb2adf86081a4ab6c7bde1e68","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"6b816c2511242ee503fb5f34cd3e4dcdafc06b85","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/pages/index.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/pages/tag-cloud.styl","hash":"1a81d1a71fcf0699629ce6e72dfd0a15f3a2dd0a","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/post/index.styl","hash":"098d4bd034e986fcf7e443eac4fc2193935461b7","modified":1675225243000},{"_id":"themes/next/source/js/third-party/statistics/lean-analytics.js","hash":"835cbf54c49ef1327f47df70ff2636ad36b6f57d","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/post/post-body.styl","hash":"d757768a58743601d0d84158ba955eb15d4c3c01","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"ec37a36e94ba791663607a5022f763915778578f","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/post/post-footer.styl","hash":"11497388f124bfbb4001495a67d3629a9f618405","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/post/post-followme.styl","hash":"1ecfd64507954810b07a9d21fb5305b5378feda0","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"aa366d37389760c8595529b850f461569577a1c5","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"9ac6f477177264c26a46e8333b8456720a0444dc","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"04cf4a69537fc14d3b8904f965d283356853847f","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/post/post-header.styl","hash":"010c901e4ef49a606f8a350efbf09044e76d2ff3","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/third-party/disqusjs.styl","hash":"877a537d5b95beb048142e4fdee6f17e6ef9c7bb","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/third-party/gitalk.styl","hash":"8f094c4ac17e2ab45569b12d157747f9c7333c12","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/third-party/gitter.styl","hash":"35104dc6883a61c31e0e368dac8ac2f697be62fe","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/third-party/index.styl","hash":"77550e0d3e029b7458e35d8c5ae1fbd612c9673b","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"40c9839d3288c3b7de0bf38ac2e18f6c8eba6227","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/third-party/math.styl","hash":"9d995eb4871a6c273d9d51558676a1fdabf69e72","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/third-party/search.styl","hash":"e72799ce3f9b79753e365b2f8c8ef6c310668d4a","modified":1675225243000},{"_id":"themes/next/source/css/_common/components/third-party/utterances.styl","hash":"56d90ae0559caa55b75f3c300ff2711f9ed65fc4","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/header/bookmark.styl","hash":"e74f4bb47a101b014ee2a1783c87f3b87323f9a0","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/header/github-banner.styl","hash":"38c64c2d04e46848382bfa246a0e9c508294767b","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/header/index.styl","hash":"6e0d0796ef7fbbb62ffdfb448753a850de82c74f","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/sidebar/index.styl","hash":"da5e88f8debd5ac8d7af5c6ba6240df66104955f","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/sidebar/related-posts.styl","hash":"b05908f04ef95f2d91e6eba89b12411c378d050f","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"52fc98b1435129eb3edb9293ced9e507741f1350","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/header/menu.styl","hash":"b750af2fb833c10c4313b5a4258237161a7833d7","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"5b38ac4a0f1ade0e681aff0e3366c481d9cf3dcd","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"b926e368f702f8686aaa2eb98d3d2e533418958c","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"c6a27beb3f741211a14576026f3b4cfc44cc6407","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/header/site-nav.styl","hash":"bf3ad8b4268f763a1e26377681644887694bc009","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"f3506fd0c0303ea365de1c7774d98a1a3f3027cf","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"021a37cf178440cc341940a299d3bca359996c6b","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/header/site-meta.styl","hash":"a851e9d5aefcd027c95eeb323860b6da70f202d1","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/sidebar/site-state.styl","hash":"26dd0adfcb1db6df29c6090c8d7e9b5a43583fb0","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"9a7c71560fbdc936ad4e736fe15063ea3e8a644b","modified":1675225243000},{"_id":"themes/next/source/css/_common/outline/footer/index.styl","hash":"0c79462439b1361034a03590cd69a8abb3a678a6","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/highlight/index.styl","hash":"9056be572ec1cfa429abb22be4b45a662d5b0fb1","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"d6418fd2bbfba7b73ddf11ec62db9637fdf5d8af","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/tags/index.styl","hash":"3f76c73a891bbc10679753e702feba9e8a5ffdd2","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"393ff96234e4196b569d4b11496774eb78e147de","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/tags/label.styl","hash":"debee14539272fbe3835a7d3853af2230baa3501","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/tags/link-grid.styl","hash":"7f8a7345e6537a62cd9e9a94c8f7065b541d9b04","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/tags/mermaid.styl","hash":"48d35dba575a7c9e8845b16652e76b7d4a4646de","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/tags/note.styl","hash":"98d4c20aff0f0fcfe1824017fb06ab21ef0d218e","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/tags/tabs.styl","hash":"7a39bcce7274284e87388743db62afc847fe6897","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/tags/pdf.styl","hash":"b6654a1d7cf82577d8263faffee8af3ad4a5c0e8","modified":1675225243000},{"_id":"themes/next/source/js/third-party/search/algolia-search.js","hash":"fdb7b7cef1a147d897e7f7cd8903b58368ec2062","modified":1675225243000},{"_id":"themes/next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"670fc109b56a010b166b86b616823a1aae97a738","modified":1675225243000}],"Category":[{"name":"Rust","_id":"cle932v640004pknr5y6rcunm"},{"name":"hexo","_id":"cle932v680008pknr8nrl07a7"},{"name":"算法题","_id":"cle932v69000bpknr1rkebizg"}],"Data":[],"Page":[{"title":"categories","date":"2023-02-14T08:56:26.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2023-02-14 16:56:26\ntype: \"categories\"\n---\n","updated":"2023-02-16T18:58:25.399Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cle932v5v0000pknr0led6zim","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2023-02-14T09:18:56.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2023-02-14 17:18:56\ntype: \"tags\"\n---\n","updated":"2023-02-16T18:58:25.401Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cle932v620002pknreag359wf","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Rust学习","date":"2023-02-14T16:56:17.000Z","_content":"\n# 前言\n\nRust 是一种 预编译静态类型（ahead-of-time compiled）语言，这意味着你可以编译程序，并将可执行文件送给其他人，他们甚至不需要安装 Rust 就可以运行。\n\n<!-- more -->\n\nRust 是 静态类型（statically typed）语言，也就是说在编译时就必须知道所有变量的类型。\n\nRust 通过所有权系统管理内存，编译器在编译时会根据一系列的规则进行检查。如果违反了任何这些规则，程序都不能编译。\n\nRust是内存安全、没有GC(垃圾回收)的高效语言。\n\n-------------------\n\n\n# 安装\n\n```shell\n[root@f8ac270c7b6b workspace]# curl --proto '=https' --tlsv1.3 https://sh.rustup.rs -sSf | sh\n```\n安装成功！\n```\ninfo: default toolchain set to 'stable-x86_64-unknown-linux-gnu'                 \n                                                                                 \n  stable-x86_64-unknown-linux-gnu installed - rustc 1.65.0 (897e37553 2022-11-02)\n                                                                                 \n                                                                                 \nRust is installed now. Great!                                                    \n                                                                                 \nTo get started you may need to restart your current shell.                       \nThis would reload your PATH environment variable to include                      \nCargo's bin directory ($HOME/.cargo/bin).                                        \n                                                                                 \nTo configure your current shell, run:                                            \nsource \"$HOME/.cargo/env\"                                                        \n```\n\n刷新当前shell配置\n\n```shell\n[root@f8ac270c7b6b workspace]# source ~/.bashrc\n\n[root@f8ac270c7b6b workspace]# rustc --version\nrustc 1.65.0 (897e37553 2022-11-02)\n```\n\n--------------------\n\n# Hello World\n\n- Code\n- 编译\n- 执行\n\n## Code\n\n文件名：hello_world.rs\n\n使用的是 `.rs` 后缀！\n\n```\nfn main() {\n  println!(\"Hello, world!\");\n}\n```\n\n安装 vs code的 rust 扩展！\n\nExtension ID：dustypomerleau.rust-syntax\n![image](https://user-images.githubusercontent.com/25907273/204077420-7c3a88eb-57d2-4393-ae55-5ad625521997.png)\n\n## 编译\n\n`rustc xxx.rs` 编译rust程序！\n\n```shell\n[root@f8ac270c7b6b rust-learn]# rustc hello_world.rs\n[root@f8ac270c7b6b rust-learn]# ls\nhello_world  hello_world.rs\n```\n\n## 执行\n\n直接执行编译后的文件！不需要启动程序！\n\n```\n[root@f8ac270c7b6b rust-learn]# ./hello_world\nHello, world!\n```\n\n----------\n\n# 构建系统和包管理器，Cargo \n\nCargo 是 Rust 的构建系统和包管理器。它可以为你处理很多任务，比如构建代码、下载依赖库并编译这些库\n\n使用官方方式安装，会自带 Cargo！\n\nCargo的详细命令可以使用 `--help`，也可查看 [附录](https://github.com/isaaxite/blog/issues/296#issuecomment-1327996209)\n\n```shell\n[root@f8ac270c7b6b rust-learn]# cargo --version\ncargo 1.65.0 (4bc8f24d3 2022-10-20)\n```\n\n- 创建项目\n- 编译项目\n  - 开发时编译\n  - 生产时编译\n- 执行项目\n- 快速检测\n- 小结\n- 参考\n\n## 创建项目\n\n使用 `cargo new <new dir name>`\n\n产物结构\n\n![image](https://user-images.githubusercontent.com/25907273/204089591-b2abeda6-5cdc-4bda-8498-3a06cf746f4a.png)\n\n生成一个配置文件，是toml文件。\n\n这个文件使用 [TOML](https://toml.io/) (Tom's Obvious, Minimal Language) 格式，这是 Cargo 配置文件的格式。\n\n还生成一个src以及src下的z=主文件main。\n\n![image](https://user-images.githubusercontent.com/25907273/204089548-adadc8f1-ff1a-48e5-826b-68257e30cb6f.png)\n\n## 编译项目\n\n- 开发时编译\n- 生产时编译\n\n### 开发时编译\n\n切换到 项目目录下（此处是 hello_cargo），执行build命令。\n\n```shell\ncargo build\n```\n\nbuild 结果如下：\n\n![image](https://user-images.githubusercontent.com/25907273/204089646-b505984f-8cf6-4fae-b221-cbb47c59dcbb.png)\n\n增加了 `Cargo.lock` 和 `target/` 目录！\n\n\n### 生产时编译\n\n在开发时编译的基础上增加 `--release`。\n\n编译的产物会放在 `target/release` 中！详细参考 [附录](https://github.com/isaaxite/blog/issues/296#issuecomment-1327996209)\n\n```shell\ncargo build --release\n```\n\n![image](https://user-images.githubusercontent.com/25907273/204099490-4309d4b8-7122-44d0-a7e7-2668d1940238.png)\n\n\n\n\n## 运行项目\n\n使用 `run` 命令\n\n```shell\ncargo run\n```\n\n![image](https://user-images.githubusercontent.com/25907273/204089972-fb695c14-1456-4863-8c09-fb8e5184a9bd.png)\n\n\n## 快速检查\n\n在项目根目录下执行以下命令：\n\n```shell\ncargo check\n```\n\n![image](https://user-images.githubusercontent.com/25907273/204100025-89f68fa1-26a0-4303-a32f-3a240ae04503.png)\n\n该命令快速检查代码确保其可以编译，但并不产生可执行文件！\n\n通常 cargo check 要比 cargo build 快得多，因为它省略了生成可执行文件的步骤。如果你在编写代码时持续的进行检查，cargo check 可以让你快速了解现在的代码能不能正常通过编译！\n\n\n## 小结\n\n- `cargo new`，创建项目。\n- `cargo build`，构建项目。\n- `cargo run`，一步构建并运行项目。\n- `cargo check`，在不生成二进制文件的情况下构建项目来检查错误。\n- 有别于将构建结果放在与源码相同的目录，Cargo 会将其放到 target目录，默认在 `target/debug`，生产时在 `target/release`。\n\n## 参考\n\n- [Rust 程序设计语言 简体中文版 —— Hello, Cargo!](https://kaisery.github.io/trpl-zh-cn/ch01-03-hello-cargo.html#hello-cargo)\n\n\n\n---\n\n# 语法概念\n\n- 结束符号\n- 注释\n- 变量/常量\n- 数据类型\n- [函数定义](https://github.com/isaaxite/blog/issues/296#issuecomment-1328515749)\n- [控制流](https://github.com/isaaxite/blog/issues/296#issuecomment-1330017240)\n\n## 结束符号\n\n使用分号（`;`）作为结束符号\n\n\n## 注释\n\n```rs\n// 这是一段注释\n```\n\n## 变量/常量\n\n### 变量\n\n变量默认是不可重复赋值！\n如果要重复赋值可以使用`mut`配合声明。\n变量是可以重复声明的！\n\n使用 `let` 声明标量！\n\n```rs\nlet foo = 1;\n```\n需要重复赋值时声明\n\n```rs\nlet mut foo = 1;\n\nfoo = 2\n```\n可以重复声明变量\n\n```rs\nlet foo = 1;\n// 在此之前foo=1\nlet foo: u8 = 2;\n// 解析来foo = 2\n```\n\n### 常量\n\n使用 `const`声明，与变量不同，它声明之后总是不可重复声明与赋值！\n\n```rs\nconst FOO = 1;\n```\n\n\n## 数据类型\n\n- 数据类型的分类\n\n### 数据类型的分类\n\n数据类型的分为*标量（scalar）*和*复合（compound）*，以及其他\n\n**标量（scalar）** 类型代表一个单独的值。Rust 有四种基本的标量类型：\n\n- [整型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328102385)\n- [浮点型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328105183)\n- [布尔类型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328105689)\n- [字符类型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328111816)\n\n**复合类型（Compound types）** 可以将多个值组合成一个类型。Rust 有两个原生的复合类型：\n\n- [元组（tuple）](https://github.com/isaaxite/blog/issues/296#issuecomment-1328122358)\n- [数组（array）](https://github.com/isaaxite/blog/issues/296#issuecomment-1328195135)\n\n其他类型包含：\n\n- [引用类型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328463936)\n- [Slice类型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328510984)\n\n\n-----------------\n\n#  所有权（ownership）\n\n- 前言\n- 所有权的规则\n- 变量作用域\n- 变量与数据交互的方式\n- 引用与借用\n\n## 前言\n\n[栈（Stack）与堆（Heap）内存。\n\n栈以放入值的顺序存储值。\n\n堆是缺乏组织的：当向堆放入数据时，你要请求一定大小的空间。内存分配器（memory allocator）在堆的某处找到一块足够大的空位，把它标记为已使用，并返回一个表示该位置地址的 指针（pointer）。\n\n入栈比在堆上分配内存要快，因为（入栈时）分配器无需为存储新数据去搜索内存空间；其位置总是在栈顶。相比之下，在堆上分配内存则需要更多的工作，这是因为分配器必须首先找到一块足够存放数据的内存空间，并接着做一些记录为下一次分配做准备。\n\n\n## 所有权的规则\n\n1. Rust 中的每一个值都有一个 所有者（owner）。\n2. 值在任一时刻有且只有一个所有者。\n3. 当所有者（变量）离开作用域，这个值将被丢弃。\n\n\n## 变量作用域\n\n`{}`，每个花括号包含的代码块都是一个作用域！\n\n注意，这不包含 struct 的花括号！\n\n```rs\nfn var_scope_main() {\n  {                     // s 在这里无效, 它尚未声明\n    let s = \"hello\";    // 从此处起，s 是有效的\n    \n    // 使用 s\n  }                     // Rust 在结尾的 } 处自动调用 drop, 释放内存\n                        // 此作用域已结束，s 不再有效\n}\n```\n\n## String 类型\n\nRust 有第二个字符串类型，String。这个类型管理被分配到堆上的数据，所以能够存储在编译时未知大小的文本。可以使用 from 函数基于字符串字面值来创建 String。\n\nString类型有别于字面量字符串，它是可修改的！\n\n```rs\nlet mut s = String::from(\"hello\");\n\ns.push_str(\", world!\"); // push_str() 在字符串后追加字面值\n\nprintln!(\"{}\", s); // 将打印 `hello, world!`\n```\n\n对于 String 类型，为了支持一个可变，可增长的文本片段，需要在堆上分配一块在编译时未知大小的内存来存放内容。这意味着：\n\n- 必须在运行时向内存分配器（memory allocator）请求内存。\n- 需要一个当我们处理完 String 时将内存返回给分配器的方法。\n\n### 变量与数据交互的方式\n\n使用堆内存的变量，他们之间的数据交互方式！\n\n![图片](https://user-images.githubusercontent.com/25907273/204480696-4188bc14-809f-49dd-be12-3ef7868d3b0e.png)\n\n- 转移\n- 拷贝\n\n#### 转移\n\n为了确保内存安全，在 let s2 = s1 之后，Rust 认为 s1 不再有效，因此 Rust 不需要在 s1 离开作用域后清理任何东西。\n\n相当于 s1 赋值给 s2，就将数据转移到s2。不是浅拷贝（将引用复制给s2），也不是深拷贝！\n\n```rs\nfn heap_var_main() {\n  let s1 = String::from(\"hello\");\n  let s2 = s1;\n  print!(\"s1 is {}\", s1);\n  print!(\"s2 is {}\", s2);\n}\n```\n\n![图片](https://user-images.githubusercontent.com/25907273/204481489-09ebb4e5-5fb3-413c-83a6-36a528ed980a.png)\n\n#### 拷贝\n\n使用一个叫做 [clone] 的通用函数。\n\n```rs\nfn clone_main() {\n  let s1 = String::from(\"hello\");\n  let s2 = s1.clone();\n\n  println!(\"\\ns1 = {}, s2 = {}\", s1, s2);\n}\n```\n\n![图片](https://user-images.githubusercontent.com/25907273/204489601-c2e6f02b-4aa7-46bc-97d5-e707e7643458.png)\n\n\n## 引用与借用\n\n引用（reference）像一个指针，因为它是一个地址，我们可以由此访问储存于该地址的属于其他变量的数据。 与指针不同，引用确保指向某个特定类型的有效值。\n\n`&` 符号就是 引用，它们允许你使用值但不获取其所有权。\n\n![图片](https://user-images.githubusercontent.com/25907273/204947997-bd4878ea-b295-47fd-bd0d-895d2f703fc1.png)\n\n```rs\nfn ref_main() {\n  let s1 = String::from(\"hello world!\");\n\n  fn calculate_length(s: &String) -> usize {\n    return s.len();\n  }// 这里，s 离开了作用域。但因为它并不拥有引用值的所有权，\n  // 所以什么也不会发生\n\n  let len = calculate_length(&s1);\n\n  println!(\"\\ns1 len = {}\", len);\n}\n```\n\n`&s1` 语法让我们创建一个 指向 值 s1 的引用，但是并不拥有它。因为并不拥有这个值。\n\n我们将创建一个引用的行为称为 借用（borrowing）。\n\n\n### 可变引用\n\n正如变量默认是不可变的，引用也一样。（默认）不允许修改引用的值。\n\n```rs\nfn mut_ref_main() {\n  let mut s = String::from(\"hello\");\n\n  change(&mut s);\n\n  print!(\"\\ns = {}\", s);\n\n  fn change(some_string: &mut String) {\n    some_string.push_str(\", world\");\n  }\n}\n```\n\n**注意：可变引用有一个很大的限制：如果你有一个对该变量的可变引用，你就不能再创建对该变量的引用。**\n\n这个限制的好处是 Rust 可以在编译时就避免数据竞争。\n\n[clone]: https://doc.rust-lang.org/std/clone/index.html\n\n\n---------------\n\n\n# 包、crate和模块\n\nuse 关键字: 在一个作用域内，use关键字创建了一个成员的快捷方式，用来减少长路径的重复。在任何可以引用crate::garden::vegetables::Asparagus的作用域, 你可以通过 use crate::garden::vegetables::Asparagus;创建一个快捷方式，然后你就可以在作用域中只写Asparagus来使用该类型。\n\n\n外部模块的寻址过程 \n\n1. 内联；\n2. 在文件 `src/<mod>.rs`；\n3. 在文件 `src/<mod>/mod.rs`。\n\n内联模块：\n\n```rs\nmod front_of_house {}\n```\n\n\n---------------\n\n\n# 附录\n\n- 参考\n- cargo --help\n- cargo编译后的产物\n- Rust内存布局\n\n## 参考\n- [The Rust Programming Language](https://doc.rust-lang.org/book/#the-rust-programming-language)\n- [Rust 程序设计语言 简体中文版](https://kaisery.github.io/trpl-zh-cn/ch01-01-installation.html)\n- [Rust入门秘籍](https://rust-book.junmajinlong.com/)\n- [Rust 中文教程等相关资源列表](https://www.rustwiki.org.cn/docs/)\n\n## cargo --help\n\n```shell\n[root@f8ac270c7b6b rust-learn]# cargo --help                                                    \nRust's package manager                                                                          \n                                                                                                \nUSAGE:                                                                                          \n    cargo [+toolchain] [OPTIONS] [SUBCOMMAND]                                                   \n                                                                                                \nOPTIONS:                                                                                        \n    -V, --version               Print version info and exit                                     \n        --list                  List installed commands                                         \n        --explain <CODE>        Run `rustc --explain CODE`                                      \n    -v, --verbose               Use verbose output (-vv very verbose/build.rs output)           \n    -q, --quiet                 Do not print cargo log messages                                 \n        --color <WHEN>          Coloring: auto, always, never                                   \n        --frozen                Require Cargo.lock and cache are up to date                     \n        --locked                Require Cargo.lock is up to date                                \n        --offline               Run without accessing the network                               \n        --config <KEY=VALUE>    Override a configuration value                                  \n    -Z <FLAG>                   Unstable (nightly-only) flags to Cargo, see 'cargo -Z help' for \n                                details                                                         \n    -h, --help                  Print help information                                          \n                                                                                                \nSome common cargo commands are (see all commands with --list):                                  \n    build, b    Compile the current package                                                     \n    check, c    Analyze the current package and report errors, but don't build object files     \n    clean       Remove the target directory                                                     \n    doc, d      Build this package's and its dependencies' documentation                        \n    new         Create a new cargo package                                                      \n    init        Create a new cargo package in an existing directory                             \n    add         Add dependencies to a manifest file                                             \n    run, r      Run a binary or example of the local package                                    \n    test, t     Run the tests                                                                   \n    bench       Run the benchmarks                                                              \n    update      Update dependencies listed in Cargo.lock                                        \n    search      Search registry for crates                                                      \n    publish     Package and upload this package to the registry                                 \n    install     Install a Rust binary. Default location is $HOME/.cargo/bin                     \n    uninstall   Uninstall a Rust binary                                                         \n                                                                                                \nSee 'cargo help <command>' for more information on a specific command.                          \n                                                                                                \n```\n\n## cargo编译后的产物\n\n- 开发时产物\n- 生产时产物\n\n### 开发时产物\n\n```shell\n[root@f8ac270c7b6b hello_cargo]# tree                      \n.                                                          \n|-- Cargo.lock                                             \n|-- Cargo.toml                                             \n|-- src                                                    \n|   `-- main.rs                                            \n`-- target                                                 \n    |-- CACHEDIR.TAG                                       \n    `-- debug                                              \n        |-- build                                          \n        |-- deps                                           \n        |   |-- hello_cargo-84cd33c7f338469a               \n        |   `-- hello_cargo-84cd33c7f338469a.d             \n        |-- examples                                       \n        |-- hello_cargo                                    \n        |-- hello_cargo.d                                  \n        `-- incremental                                    \n            `-- hello_cargo-aokenuaryvra                   \n                |-- s-gfry8e3ogd-1vtypym-2e5m3t5mj48xn     \n                |   |-- 1b24fot1ksjfohwq.o                 \n                |   |-- 2pcmwubz98u8588d.o                 \n                |   |-- 2skhc1xjwld6hx4y.o                 \n                |   |-- 387f08navk0xr9hq.o                 \n                |   |-- 41zl1lnzyfy87gmq.o                 \n                |   |-- 4gfj2nd48vmsnha0.o                 \n                |   |-- dep-graph.bin                      \n                |   |-- query-cache.bin                    \n                |   `-- work-products.bin                  \n                `-- s-gfry8e3ogd-1vtypym.lock              \n                                                           \n9 directories, 18 files                                    \n```\n\n### 生产时产物\n\n```shell\n[root@f8ac270c7b6b target]# tree                   \n.                                                  \n|-- CACHEDIR.TAG                                   \n|-- debug                                          \n|   |-- build                                      \n|   |-- deps                                       \n|   |   |-- hello_cargo-84cd33c7f338469a           \n|   |   `-- hello_cargo-84cd33c7f338469a.d         \n|   |-- examples                                   \n|   |-- hello_cargo                                \n|   |-- hello_cargo.d                              \n|   `-- incremental                                \n|       `-- hello_cargo-aokenuaryvra               \n|           |-- s-gfryfk4nh1-10dc9z2-2e5m3t5mj48xn \n|           |   |-- 1b24fot1ksjfohwq.o             \n|           |   |-- 2pcmwubz98u8588d.o             \n|           |   |-- 2skhc1xjwld6hx4y.o             \n|           |   |-- 387f08navk0xr9hq.o             \n|           |   |-- 41zl1lnzyfy87gmq.o             \n|           |   |-- 4gfj2nd48vmsnha0.o             \n|           |   |-- dep-graph.bin                  \n|           |   |-- query-cache.bin                \n|           |   `-- work-products.bin              \n|           `-- s-gfryfk4nh1-10dc9z2.lock          \n`-- release                                        \n    |-- build                                      \n    |-- deps                                       \n    |   |-- hello_cargo-42d24d7ef33ef483           \n    |   `-- hello_cargo-42d24d7ef33ef483.d         \n    |-- examples                                   \n    |-- hello_cargo                                \n    |-- hello_cargo.d                              \n    `-- incremental                                \n                                                   \n12 directories, 19 files\n```\n\n## Rust 内存布局\n\n<img width=\"100%\" src=\"https://user-images.githubusercontent.com/25907273/204198140-44b47b88-e8ed-43b0-a554-181ebdd3ef0c.png\" />\n\n","source":"_posts/Rust学习.md","raw":"---\ntitle: Rust学习\ndate: 2023-02-15 00:56:17\ntags:\n- Rust\n- 旧文迁移\n\ncategories:\n- Rust\n---\n\n# 前言\n\nRust 是一种 预编译静态类型（ahead-of-time compiled）语言，这意味着你可以编译程序，并将可执行文件送给其他人，他们甚至不需要安装 Rust 就可以运行。\n\n<!-- more -->\n\nRust 是 静态类型（statically typed）语言，也就是说在编译时就必须知道所有变量的类型。\n\nRust 通过所有权系统管理内存，编译器在编译时会根据一系列的规则进行检查。如果违反了任何这些规则，程序都不能编译。\n\nRust是内存安全、没有GC(垃圾回收)的高效语言。\n\n-------------------\n\n\n# 安装\n\n```shell\n[root@f8ac270c7b6b workspace]# curl --proto '=https' --tlsv1.3 https://sh.rustup.rs -sSf | sh\n```\n安装成功！\n```\ninfo: default toolchain set to 'stable-x86_64-unknown-linux-gnu'                 \n                                                                                 \n  stable-x86_64-unknown-linux-gnu installed - rustc 1.65.0 (897e37553 2022-11-02)\n                                                                                 \n                                                                                 \nRust is installed now. Great!                                                    \n                                                                                 \nTo get started you may need to restart your current shell.                       \nThis would reload your PATH environment variable to include                      \nCargo's bin directory ($HOME/.cargo/bin).                                        \n                                                                                 \nTo configure your current shell, run:                                            \nsource \"$HOME/.cargo/env\"                                                        \n```\n\n刷新当前shell配置\n\n```shell\n[root@f8ac270c7b6b workspace]# source ~/.bashrc\n\n[root@f8ac270c7b6b workspace]# rustc --version\nrustc 1.65.0 (897e37553 2022-11-02)\n```\n\n--------------------\n\n# Hello World\n\n- Code\n- 编译\n- 执行\n\n## Code\n\n文件名：hello_world.rs\n\n使用的是 `.rs` 后缀！\n\n```\nfn main() {\n  println!(\"Hello, world!\");\n}\n```\n\n安装 vs code的 rust 扩展！\n\nExtension ID：dustypomerleau.rust-syntax\n![image](https://user-images.githubusercontent.com/25907273/204077420-7c3a88eb-57d2-4393-ae55-5ad625521997.png)\n\n## 编译\n\n`rustc xxx.rs` 编译rust程序！\n\n```shell\n[root@f8ac270c7b6b rust-learn]# rustc hello_world.rs\n[root@f8ac270c7b6b rust-learn]# ls\nhello_world  hello_world.rs\n```\n\n## 执行\n\n直接执行编译后的文件！不需要启动程序！\n\n```\n[root@f8ac270c7b6b rust-learn]# ./hello_world\nHello, world!\n```\n\n----------\n\n# 构建系统和包管理器，Cargo \n\nCargo 是 Rust 的构建系统和包管理器。它可以为你处理很多任务，比如构建代码、下载依赖库并编译这些库\n\n使用官方方式安装，会自带 Cargo！\n\nCargo的详细命令可以使用 `--help`，也可查看 [附录](https://github.com/isaaxite/blog/issues/296#issuecomment-1327996209)\n\n```shell\n[root@f8ac270c7b6b rust-learn]# cargo --version\ncargo 1.65.0 (4bc8f24d3 2022-10-20)\n```\n\n- 创建项目\n- 编译项目\n  - 开发时编译\n  - 生产时编译\n- 执行项目\n- 快速检测\n- 小结\n- 参考\n\n## 创建项目\n\n使用 `cargo new <new dir name>`\n\n产物结构\n\n![image](https://user-images.githubusercontent.com/25907273/204089591-b2abeda6-5cdc-4bda-8498-3a06cf746f4a.png)\n\n生成一个配置文件，是toml文件。\n\n这个文件使用 [TOML](https://toml.io/) (Tom's Obvious, Minimal Language) 格式，这是 Cargo 配置文件的格式。\n\n还生成一个src以及src下的z=主文件main。\n\n![image](https://user-images.githubusercontent.com/25907273/204089548-adadc8f1-ff1a-48e5-826b-68257e30cb6f.png)\n\n## 编译项目\n\n- 开发时编译\n- 生产时编译\n\n### 开发时编译\n\n切换到 项目目录下（此处是 hello_cargo），执行build命令。\n\n```shell\ncargo build\n```\n\nbuild 结果如下：\n\n![image](https://user-images.githubusercontent.com/25907273/204089646-b505984f-8cf6-4fae-b221-cbb47c59dcbb.png)\n\n增加了 `Cargo.lock` 和 `target/` 目录！\n\n\n### 生产时编译\n\n在开发时编译的基础上增加 `--release`。\n\n编译的产物会放在 `target/release` 中！详细参考 [附录](https://github.com/isaaxite/blog/issues/296#issuecomment-1327996209)\n\n```shell\ncargo build --release\n```\n\n![image](https://user-images.githubusercontent.com/25907273/204099490-4309d4b8-7122-44d0-a7e7-2668d1940238.png)\n\n\n\n\n## 运行项目\n\n使用 `run` 命令\n\n```shell\ncargo run\n```\n\n![image](https://user-images.githubusercontent.com/25907273/204089972-fb695c14-1456-4863-8c09-fb8e5184a9bd.png)\n\n\n## 快速检查\n\n在项目根目录下执行以下命令：\n\n```shell\ncargo check\n```\n\n![image](https://user-images.githubusercontent.com/25907273/204100025-89f68fa1-26a0-4303-a32f-3a240ae04503.png)\n\n该命令快速检查代码确保其可以编译，但并不产生可执行文件！\n\n通常 cargo check 要比 cargo build 快得多，因为它省略了生成可执行文件的步骤。如果你在编写代码时持续的进行检查，cargo check 可以让你快速了解现在的代码能不能正常通过编译！\n\n\n## 小结\n\n- `cargo new`，创建项目。\n- `cargo build`，构建项目。\n- `cargo run`，一步构建并运行项目。\n- `cargo check`，在不生成二进制文件的情况下构建项目来检查错误。\n- 有别于将构建结果放在与源码相同的目录，Cargo 会将其放到 target目录，默认在 `target/debug`，生产时在 `target/release`。\n\n## 参考\n\n- [Rust 程序设计语言 简体中文版 —— Hello, Cargo!](https://kaisery.github.io/trpl-zh-cn/ch01-03-hello-cargo.html#hello-cargo)\n\n\n\n---\n\n# 语法概念\n\n- 结束符号\n- 注释\n- 变量/常量\n- 数据类型\n- [函数定义](https://github.com/isaaxite/blog/issues/296#issuecomment-1328515749)\n- [控制流](https://github.com/isaaxite/blog/issues/296#issuecomment-1330017240)\n\n## 结束符号\n\n使用分号（`;`）作为结束符号\n\n\n## 注释\n\n```rs\n// 这是一段注释\n```\n\n## 变量/常量\n\n### 变量\n\n变量默认是不可重复赋值！\n如果要重复赋值可以使用`mut`配合声明。\n变量是可以重复声明的！\n\n使用 `let` 声明标量！\n\n```rs\nlet foo = 1;\n```\n需要重复赋值时声明\n\n```rs\nlet mut foo = 1;\n\nfoo = 2\n```\n可以重复声明变量\n\n```rs\nlet foo = 1;\n// 在此之前foo=1\nlet foo: u8 = 2;\n// 解析来foo = 2\n```\n\n### 常量\n\n使用 `const`声明，与变量不同，它声明之后总是不可重复声明与赋值！\n\n```rs\nconst FOO = 1;\n```\n\n\n## 数据类型\n\n- 数据类型的分类\n\n### 数据类型的分类\n\n数据类型的分为*标量（scalar）*和*复合（compound）*，以及其他\n\n**标量（scalar）** 类型代表一个单独的值。Rust 有四种基本的标量类型：\n\n- [整型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328102385)\n- [浮点型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328105183)\n- [布尔类型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328105689)\n- [字符类型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328111816)\n\n**复合类型（Compound types）** 可以将多个值组合成一个类型。Rust 有两个原生的复合类型：\n\n- [元组（tuple）](https://github.com/isaaxite/blog/issues/296#issuecomment-1328122358)\n- [数组（array）](https://github.com/isaaxite/blog/issues/296#issuecomment-1328195135)\n\n其他类型包含：\n\n- [引用类型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328463936)\n- [Slice类型](https://github.com/isaaxite/blog/issues/296#issuecomment-1328510984)\n\n\n-----------------\n\n#  所有权（ownership）\n\n- 前言\n- 所有权的规则\n- 变量作用域\n- 变量与数据交互的方式\n- 引用与借用\n\n## 前言\n\n[栈（Stack）与堆（Heap）内存。\n\n栈以放入值的顺序存储值。\n\n堆是缺乏组织的：当向堆放入数据时，你要请求一定大小的空间。内存分配器（memory allocator）在堆的某处找到一块足够大的空位，把它标记为已使用，并返回一个表示该位置地址的 指针（pointer）。\n\n入栈比在堆上分配内存要快，因为（入栈时）分配器无需为存储新数据去搜索内存空间；其位置总是在栈顶。相比之下，在堆上分配内存则需要更多的工作，这是因为分配器必须首先找到一块足够存放数据的内存空间，并接着做一些记录为下一次分配做准备。\n\n\n## 所有权的规则\n\n1. Rust 中的每一个值都有一个 所有者（owner）。\n2. 值在任一时刻有且只有一个所有者。\n3. 当所有者（变量）离开作用域，这个值将被丢弃。\n\n\n## 变量作用域\n\n`{}`，每个花括号包含的代码块都是一个作用域！\n\n注意，这不包含 struct 的花括号！\n\n```rs\nfn var_scope_main() {\n  {                     // s 在这里无效, 它尚未声明\n    let s = \"hello\";    // 从此处起，s 是有效的\n    \n    // 使用 s\n  }                     // Rust 在结尾的 } 处自动调用 drop, 释放内存\n                        // 此作用域已结束，s 不再有效\n}\n```\n\n## String 类型\n\nRust 有第二个字符串类型，String。这个类型管理被分配到堆上的数据，所以能够存储在编译时未知大小的文本。可以使用 from 函数基于字符串字面值来创建 String。\n\nString类型有别于字面量字符串，它是可修改的！\n\n```rs\nlet mut s = String::from(\"hello\");\n\ns.push_str(\", world!\"); // push_str() 在字符串后追加字面值\n\nprintln!(\"{}\", s); // 将打印 `hello, world!`\n```\n\n对于 String 类型，为了支持一个可变，可增长的文本片段，需要在堆上分配一块在编译时未知大小的内存来存放内容。这意味着：\n\n- 必须在运行时向内存分配器（memory allocator）请求内存。\n- 需要一个当我们处理完 String 时将内存返回给分配器的方法。\n\n### 变量与数据交互的方式\n\n使用堆内存的变量，他们之间的数据交互方式！\n\n![图片](https://user-images.githubusercontent.com/25907273/204480696-4188bc14-809f-49dd-be12-3ef7868d3b0e.png)\n\n- 转移\n- 拷贝\n\n#### 转移\n\n为了确保内存安全，在 let s2 = s1 之后，Rust 认为 s1 不再有效，因此 Rust 不需要在 s1 离开作用域后清理任何东西。\n\n相当于 s1 赋值给 s2，就将数据转移到s2。不是浅拷贝（将引用复制给s2），也不是深拷贝！\n\n```rs\nfn heap_var_main() {\n  let s1 = String::from(\"hello\");\n  let s2 = s1;\n  print!(\"s1 is {}\", s1);\n  print!(\"s2 is {}\", s2);\n}\n```\n\n![图片](https://user-images.githubusercontent.com/25907273/204481489-09ebb4e5-5fb3-413c-83a6-36a528ed980a.png)\n\n#### 拷贝\n\n使用一个叫做 [clone] 的通用函数。\n\n```rs\nfn clone_main() {\n  let s1 = String::from(\"hello\");\n  let s2 = s1.clone();\n\n  println!(\"\\ns1 = {}, s2 = {}\", s1, s2);\n}\n```\n\n![图片](https://user-images.githubusercontent.com/25907273/204489601-c2e6f02b-4aa7-46bc-97d5-e707e7643458.png)\n\n\n## 引用与借用\n\n引用（reference）像一个指针，因为它是一个地址，我们可以由此访问储存于该地址的属于其他变量的数据。 与指针不同，引用确保指向某个特定类型的有效值。\n\n`&` 符号就是 引用，它们允许你使用值但不获取其所有权。\n\n![图片](https://user-images.githubusercontent.com/25907273/204947997-bd4878ea-b295-47fd-bd0d-895d2f703fc1.png)\n\n```rs\nfn ref_main() {\n  let s1 = String::from(\"hello world!\");\n\n  fn calculate_length(s: &String) -> usize {\n    return s.len();\n  }// 这里，s 离开了作用域。但因为它并不拥有引用值的所有权，\n  // 所以什么也不会发生\n\n  let len = calculate_length(&s1);\n\n  println!(\"\\ns1 len = {}\", len);\n}\n```\n\n`&s1` 语法让我们创建一个 指向 值 s1 的引用，但是并不拥有它。因为并不拥有这个值。\n\n我们将创建一个引用的行为称为 借用（borrowing）。\n\n\n### 可变引用\n\n正如变量默认是不可变的，引用也一样。（默认）不允许修改引用的值。\n\n```rs\nfn mut_ref_main() {\n  let mut s = String::from(\"hello\");\n\n  change(&mut s);\n\n  print!(\"\\ns = {}\", s);\n\n  fn change(some_string: &mut String) {\n    some_string.push_str(\", world\");\n  }\n}\n```\n\n**注意：可变引用有一个很大的限制：如果你有一个对该变量的可变引用，你就不能再创建对该变量的引用。**\n\n这个限制的好处是 Rust 可以在编译时就避免数据竞争。\n\n[clone]: https://doc.rust-lang.org/std/clone/index.html\n\n\n---------------\n\n\n# 包、crate和模块\n\nuse 关键字: 在一个作用域内，use关键字创建了一个成员的快捷方式，用来减少长路径的重复。在任何可以引用crate::garden::vegetables::Asparagus的作用域, 你可以通过 use crate::garden::vegetables::Asparagus;创建一个快捷方式，然后你就可以在作用域中只写Asparagus来使用该类型。\n\n\n外部模块的寻址过程 \n\n1. 内联；\n2. 在文件 `src/<mod>.rs`；\n3. 在文件 `src/<mod>/mod.rs`。\n\n内联模块：\n\n```rs\nmod front_of_house {}\n```\n\n\n---------------\n\n\n# 附录\n\n- 参考\n- cargo --help\n- cargo编译后的产物\n- Rust内存布局\n\n## 参考\n- [The Rust Programming Language](https://doc.rust-lang.org/book/#the-rust-programming-language)\n- [Rust 程序设计语言 简体中文版](https://kaisery.github.io/trpl-zh-cn/ch01-01-installation.html)\n- [Rust入门秘籍](https://rust-book.junmajinlong.com/)\n- [Rust 中文教程等相关资源列表](https://www.rustwiki.org.cn/docs/)\n\n## cargo --help\n\n```shell\n[root@f8ac270c7b6b rust-learn]# cargo --help                                                    \nRust's package manager                                                                          \n                                                                                                \nUSAGE:                                                                                          \n    cargo [+toolchain] [OPTIONS] [SUBCOMMAND]                                                   \n                                                                                                \nOPTIONS:                                                                                        \n    -V, --version               Print version info and exit                                     \n        --list                  List installed commands                                         \n        --explain <CODE>        Run `rustc --explain CODE`                                      \n    -v, --verbose               Use verbose output (-vv very verbose/build.rs output)           \n    -q, --quiet                 Do not print cargo log messages                                 \n        --color <WHEN>          Coloring: auto, always, never                                   \n        --frozen                Require Cargo.lock and cache are up to date                     \n        --locked                Require Cargo.lock is up to date                                \n        --offline               Run without accessing the network                               \n        --config <KEY=VALUE>    Override a configuration value                                  \n    -Z <FLAG>                   Unstable (nightly-only) flags to Cargo, see 'cargo -Z help' for \n                                details                                                         \n    -h, --help                  Print help information                                          \n                                                                                                \nSome common cargo commands are (see all commands with --list):                                  \n    build, b    Compile the current package                                                     \n    check, c    Analyze the current package and report errors, but don't build object files     \n    clean       Remove the target directory                                                     \n    doc, d      Build this package's and its dependencies' documentation                        \n    new         Create a new cargo package                                                      \n    init        Create a new cargo package in an existing directory                             \n    add         Add dependencies to a manifest file                                             \n    run, r      Run a binary or example of the local package                                    \n    test, t     Run the tests                                                                   \n    bench       Run the benchmarks                                                              \n    update      Update dependencies listed in Cargo.lock                                        \n    search      Search registry for crates                                                      \n    publish     Package and upload this package to the registry                                 \n    install     Install a Rust binary. Default location is $HOME/.cargo/bin                     \n    uninstall   Uninstall a Rust binary                                                         \n                                                                                                \nSee 'cargo help <command>' for more information on a specific command.                          \n                                                                                                \n```\n\n## cargo编译后的产物\n\n- 开发时产物\n- 生产时产物\n\n### 开发时产物\n\n```shell\n[root@f8ac270c7b6b hello_cargo]# tree                      \n.                                                          \n|-- Cargo.lock                                             \n|-- Cargo.toml                                             \n|-- src                                                    \n|   `-- main.rs                                            \n`-- target                                                 \n    |-- CACHEDIR.TAG                                       \n    `-- debug                                              \n        |-- build                                          \n        |-- deps                                           \n        |   |-- hello_cargo-84cd33c7f338469a               \n        |   `-- hello_cargo-84cd33c7f338469a.d             \n        |-- examples                                       \n        |-- hello_cargo                                    \n        |-- hello_cargo.d                                  \n        `-- incremental                                    \n            `-- hello_cargo-aokenuaryvra                   \n                |-- s-gfry8e3ogd-1vtypym-2e5m3t5mj48xn     \n                |   |-- 1b24fot1ksjfohwq.o                 \n                |   |-- 2pcmwubz98u8588d.o                 \n                |   |-- 2skhc1xjwld6hx4y.o                 \n                |   |-- 387f08navk0xr9hq.o                 \n                |   |-- 41zl1lnzyfy87gmq.o                 \n                |   |-- 4gfj2nd48vmsnha0.o                 \n                |   |-- dep-graph.bin                      \n                |   |-- query-cache.bin                    \n                |   `-- work-products.bin                  \n                `-- s-gfry8e3ogd-1vtypym.lock              \n                                                           \n9 directories, 18 files                                    \n```\n\n### 生产时产物\n\n```shell\n[root@f8ac270c7b6b target]# tree                   \n.                                                  \n|-- CACHEDIR.TAG                                   \n|-- debug                                          \n|   |-- build                                      \n|   |-- deps                                       \n|   |   |-- hello_cargo-84cd33c7f338469a           \n|   |   `-- hello_cargo-84cd33c7f338469a.d         \n|   |-- examples                                   \n|   |-- hello_cargo                                \n|   |-- hello_cargo.d                              \n|   `-- incremental                                \n|       `-- hello_cargo-aokenuaryvra               \n|           |-- s-gfryfk4nh1-10dc9z2-2e5m3t5mj48xn \n|           |   |-- 1b24fot1ksjfohwq.o             \n|           |   |-- 2pcmwubz98u8588d.o             \n|           |   |-- 2skhc1xjwld6hx4y.o             \n|           |   |-- 387f08navk0xr9hq.o             \n|           |   |-- 41zl1lnzyfy87gmq.o             \n|           |   |-- 4gfj2nd48vmsnha0.o             \n|           |   |-- dep-graph.bin                  \n|           |   |-- query-cache.bin                \n|           |   `-- work-products.bin              \n|           `-- s-gfryfk4nh1-10dc9z2.lock          \n`-- release                                        \n    |-- build                                      \n    |-- deps                                       \n    |   |-- hello_cargo-42d24d7ef33ef483           \n    |   `-- hello_cargo-42d24d7ef33ef483.d         \n    |-- examples                                   \n    |-- hello_cargo                                \n    |-- hello_cargo.d                              \n    `-- incremental                                \n                                                   \n12 directories, 19 files\n```\n\n## Rust 内存布局\n\n<img width=\"100%\" src=\"https://user-images.githubusercontent.com/25907273/204198140-44b47b88-e8ed-43b0-a554-181ebdd3ef0c.png\" />\n\n","slug":"Rust学习","published":1,"updated":"2023-02-16T18:58:25.373Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cle932v5z0001pknr6agn4ol2","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>Rust 是一种 预编译静态类型（ahead-of-time compiled）语言，这意味着你可以编译程序，并将可执行文件送给其他人，他们甚至不需要安装 Rust 就可以运行。</p>\n<span id=\"more\"></span>\n\n<p>Rust 是 静态类型（statically typed）语言，也就是说在编译时就必须知道所有变量的类型。</p>\n<p>Rust 通过所有权系统管理内存，编译器在编译时会根据一系列的规则进行检查。如果违反了任何这些规则，程序都不能编译。</p>\n<p>Rust是内存安全、没有GC(垃圾回收)的高效语言。</p>\n<hr>\n<h1 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h1><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b workspace]# curl --proto &#x27;=https&#x27; --tlsv1.3 https://sh.rustup.rs -sSf | sh</span><br></pre></td></tr></table></figure>\n<p>安装成功！</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">info: default toolchain set to &#x27;stable-x86_64-unknown-linux-gnu&#x27;                 </span><br><span class=\"line\">                                                                                 </span><br><span class=\"line\">  stable-x86_64-unknown-linux-gnu installed - rustc 1.65.0 (897e37553 2022-11-02)</span><br><span class=\"line\">                                                                                 </span><br><span class=\"line\">                                                                                 </span><br><span class=\"line\">Rust is installed now. Great!                                                    </span><br><span class=\"line\">                                                                                 </span><br><span class=\"line\">To get started you may need to restart your current shell.                       </span><br><span class=\"line\">This would reload your PATH environment variable to include                      </span><br><span class=\"line\">Cargo&#x27;s bin directory ($HOME/.cargo/bin).                                        </span><br><span class=\"line\">                                                                                 </span><br><span class=\"line\">To configure your current shell, run:                                            </span><br><span class=\"line\">source &quot;$HOME/.cargo/env&quot;                                                        </span><br></pre></td></tr></table></figure>\n\n<p>刷新当前shell配置</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b workspace]# source ~/.bashrc</span><br><span class=\"line\"></span><br><span class=\"line\">[root@f8ac270c7b6b workspace]# rustc --version</span><br><span class=\"line\">rustc 1.65.0 (897e37553 2022-11-02)</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h1 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h1><ul>\n<li>Code</li>\n<li>编译</li>\n<li>执行</li>\n</ul>\n<h2 id=\"Code\"><a href=\"#Code\" class=\"headerlink\" title=\"Code\"></a>Code</h2><p>文件名：hello_world.rs</p>\n<p>使用的是 <code>.rs</code> 后缀！</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fn main() &#123;</span><br><span class=\"line\">  println!(&quot;Hello, world!&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>安装 vs code的 rust 扩展！</p>\n<p>Extension ID：dustypomerleau.rust-syntax<br><img src=\"https://user-images.githubusercontent.com/25907273/204077420-7c3a88eb-57d2-4393-ae55-5ad625521997.png\" alt=\"image\"></p>\n<h2 id=\"编译\"><a href=\"#编译\" class=\"headerlink\" title=\"编译\"></a>编译</h2><p><code>rustc xxx.rs</code> 编译rust程序！</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b rust-learn]# rustc hello_world.rs</span><br><span class=\"line\">[root@f8ac270c7b6b rust-learn]# ls</span><br><span class=\"line\">hello_world  hello_world.rs</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"执行\"><a href=\"#执行\" class=\"headerlink\" title=\"执行\"></a>执行</h2><p>直接执行编译后的文件！不需要启动程序！</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b rust-learn]# ./hello_world</span><br><span class=\"line\">Hello, world!</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h1 id=\"构建系统和包管理器，Cargo\"><a href=\"#构建系统和包管理器，Cargo\" class=\"headerlink\" title=\"构建系统和包管理器，Cargo\"></a>构建系统和包管理器，Cargo</h1><p>Cargo 是 Rust 的构建系统和包管理器。它可以为你处理很多任务，比如构建代码、下载依赖库并编译这些库</p>\n<p>使用官方方式安装，会自带 Cargo！</p>\n<p>Cargo的详细命令可以使用 <code>--help</code>，也可查看 <a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1327996209\">附录</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b rust-learn]# cargo --version</span><br><span class=\"line\">cargo 1.65.0 (4bc8f24d3 2022-10-20)</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>创建项目</li>\n<li>编译项目<ul>\n<li>开发时编译</li>\n<li>生产时编译</li>\n</ul>\n</li>\n<li>执行项目</li>\n<li>快速检测</li>\n<li>小结</li>\n<li>参考</li>\n</ul>\n<h2 id=\"创建项目\"><a href=\"#创建项目\" class=\"headerlink\" title=\"创建项目\"></a>创建项目</h2><p>使用 <code>cargo new &lt;new dir name&gt;</code></p>\n<p>产物结构</p>\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204089591-b2abeda6-5cdc-4bda-8498-3a06cf746f4a.png\" alt=\"image\"></p>\n<p>生成一个配置文件，是toml文件。</p>\n<p>这个文件使用 <a href=\"https://toml.io/\">TOML</a> (Tom’s Obvious, Minimal Language) 格式，这是 Cargo 配置文件的格式。</p>\n<p>还生成一个src以及src下的z&#x3D;主文件main。</p>\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204089548-adadc8f1-ff1a-48e5-826b-68257e30cb6f.png\" alt=\"image\"></p>\n<h2 id=\"编译项目\"><a href=\"#编译项目\" class=\"headerlink\" title=\"编译项目\"></a>编译项目</h2><ul>\n<li>开发时编译</li>\n<li>生产时编译</li>\n</ul>\n<h3 id=\"开发时编译\"><a href=\"#开发时编译\" class=\"headerlink\" title=\"开发时编译\"></a>开发时编译</h3><p>切换到 项目目录下（此处是 hello_cargo），执行build命令。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo build</span><br></pre></td></tr></table></figure>\n\n<p>build 结果如下：</p>\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204089646-b505984f-8cf6-4fae-b221-cbb47c59dcbb.png\" alt=\"image\"></p>\n<p>增加了 <code>Cargo.lock</code> 和 <code>target/</code> 目录！</p>\n<h3 id=\"生产时编译\"><a href=\"#生产时编译\" class=\"headerlink\" title=\"生产时编译\"></a>生产时编译</h3><p>在开发时编译的基础上增加 <code>--release</code>。</p>\n<p>编译的产物会放在 <code>target/release</code> 中！详细参考 <a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1327996209\">附录</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo build --release</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204099490-4309d4b8-7122-44d0-a7e7-2668d1940238.png\" alt=\"image\"></p>\n<h2 id=\"运行项目\"><a href=\"#运行项目\" class=\"headerlink\" title=\"运行项目\"></a>运行项目</h2><p>使用 <code>run</code> 命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo run</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204089972-fb695c14-1456-4863-8c09-fb8e5184a9bd.png\" alt=\"image\"></p>\n<h2 id=\"快速检查\"><a href=\"#快速检查\" class=\"headerlink\" title=\"快速检查\"></a>快速检查</h2><p>在项目根目录下执行以下命令：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo check</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204100025-89f68fa1-26a0-4303-a32f-3a240ae04503.png\" alt=\"image\"></p>\n<p>该命令快速检查代码确保其可以编译，但并不产生可执行文件！</p>\n<p>通常 cargo check 要比 cargo build 快得多，因为它省略了生成可执行文件的步骤。如果你在编写代码时持续的进行检查，cargo check 可以让你快速了解现在的代码能不能正常通过编译！</p>\n<h2 id=\"小结\"><a href=\"#小结\" class=\"headerlink\" title=\"小结\"></a>小结</h2><ul>\n<li><code>cargo new</code>，创建项目。</li>\n<li><code>cargo build</code>，构建项目。</li>\n<li><code>cargo run</code>，一步构建并运行项目。</li>\n<li><code>cargo check</code>，在不生成二进制文件的情况下构建项目来检查错误。</li>\n<li>有别于将构建结果放在与源码相同的目录，Cargo 会将其放到 target目录，默认在 <code>target/debug</code>，生产时在 <code>target/release</code>。</li>\n</ul>\n<h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li><a href=\"https://kaisery.github.io/trpl-zh-cn/ch01-03-hello-cargo.html#hello-cargo\">Rust 程序设计语言 简体中文版 —— Hello, Cargo!</a></li>\n</ul>\n<hr>\n<h1 id=\"语法概念\"><a href=\"#语法概念\" class=\"headerlink\" title=\"语法概念\"></a>语法概念</h1><ul>\n<li>结束符号</li>\n<li>注释</li>\n<li>变量&#x2F;常量</li>\n<li>数据类型</li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328515749\">函数定义</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1330017240\">控制流</a></li>\n</ul>\n<h2 id=\"结束符号\"><a href=\"#结束符号\" class=\"headerlink\" title=\"结束符号\"></a>结束符号</h2><p>使用分号（<code>;</code>）作为结束符号</p>\n<h2 id=\"注释\"><a href=\"#注释\" class=\"headerlink\" title=\"注释\"></a>注释</h2><figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 这是一段注释</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"变量-x2F-常量\"><a href=\"#变量-x2F-常量\" class=\"headerlink\" title=\"变量&#x2F;常量\"></a>变量&#x2F;常量</h2><h3 id=\"变量\"><a href=\"#变量\" class=\"headerlink\" title=\"变量\"></a>变量</h3><p>变量默认是不可重复赋值！<br>如果要重复赋值可以使用<code>mut</code>配合声明。<br>变量是可以重复声明的！</p>\n<p>使用 <code>let</code> 声明标量！</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable\">foo</span> = <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n<p>需要重复赋值时声明</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"keyword\">mut </span><span class=\"variable\">foo</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">foo = <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p>可以重复声明变量</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable\">foo</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"comment\">// 在此之前foo=1</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable\">foo</span>: <span class=\"type\">u8</span> = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"comment\">// 解析来foo = 2</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"常量\"><a href=\"#常量\" class=\"headerlink\" title=\"常量\"></a>常量</h3><p>使用 <code>const</code>声明，与变量不同，它声明之后总是不可重复声明与赋值！</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> FOO = <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"数据类型\"><a href=\"#数据类型\" class=\"headerlink\" title=\"数据类型\"></a>数据类型</h2><ul>\n<li>数据类型的分类</li>\n</ul>\n<h3 id=\"数据类型的分类\"><a href=\"#数据类型的分类\" class=\"headerlink\" title=\"数据类型的分类\"></a>数据类型的分类</h3><p>数据类型的分为<em>标量（scalar）</em>和<em>复合（compound）</em>，以及其他</p>\n<p><strong>标量（scalar）</strong> 类型代表一个单独的值。Rust 有四种基本的标量类型：</p>\n<ul>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328102385\">整型</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328105183\">浮点型</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328105689\">布尔类型</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328111816\">字符类型</a></li>\n</ul>\n<p><strong>复合类型（Compound types）</strong> 可以将多个值组合成一个类型。Rust 有两个原生的复合类型：</p>\n<ul>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328122358\">元组（tuple）</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328195135\">数组（array）</a></li>\n</ul>\n<p>其他类型包含：</p>\n<ul>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328463936\">引用类型</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328510984\">Slice类型</a></li>\n</ul>\n<hr>\n<h1 id=\"所有权（ownership）\"><a href=\"#所有权（ownership）\" class=\"headerlink\" title=\"所有权（ownership）\"></a>所有权（ownership）</h1><ul>\n<li>前言</li>\n<li>所有权的规则</li>\n<li>变量作用域</li>\n<li>变量与数据交互的方式</li>\n<li>引用与借用</li>\n</ul>\n<h2 id=\"前言-1\"><a href=\"#前言-1\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>[栈（Stack）与堆（Heap）内存。</p>\n<p>栈以放入值的顺序存储值。</p>\n<p>堆是缺乏组织的：当向堆放入数据时，你要请求一定大小的空间。内存分配器（memory allocator）在堆的某处找到一块足够大的空位，把它标记为已使用，并返回一个表示该位置地址的 指针（pointer）。</p>\n<p>入栈比在堆上分配内存要快，因为（入栈时）分配器无需为存储新数据去搜索内存空间；其位置总是在栈顶。相比之下，在堆上分配内存则需要更多的工作，这是因为分配器必须首先找到一块足够存放数据的内存空间，并接着做一些记录为下一次分配做准备。</p>\n<h2 id=\"所有权的规则\"><a href=\"#所有权的规则\" class=\"headerlink\" title=\"所有权的规则\"></a>所有权的规则</h2><ol>\n<li>Rust 中的每一个值都有一个 所有者（owner）。</li>\n<li>值在任一时刻有且只有一个所有者。</li>\n<li>当所有者（变量）离开作用域，这个值将被丢弃。</li>\n</ol>\n<h2 id=\"变量作用域\"><a href=\"#变量作用域\" class=\"headerlink\" title=\"变量作用域\"></a>变量作用域</h2><p><code>&#123;&#125;</code>，每个花括号包含的代码块都是一个作用域！</p>\n<p>注意，这不包含 struct 的花括号！</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">var_scope_main</span>() &#123;</span><br><span class=\"line\">  &#123;                     <span class=\"comment\">// s 在这里无效, 它尚未声明</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"variable\">s</span> = <span class=\"string\">&quot;hello&quot;</span>;    <span class=\"comment\">// 从此处起，s 是有效的</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 使用 s</span></span><br><span class=\"line\">  &#125;                     <span class=\"comment\">// Rust 在结尾的 &#125; 处自动调用 drop, 释放内存</span></span><br><span class=\"line\">                        <span class=\"comment\">// 此作用域已结束，s 不再有效</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"String-类型\"><a href=\"#String-类型\" class=\"headerlink\" title=\"String 类型\"></a>String 类型</h2><p>Rust 有第二个字符串类型，String。这个类型管理被分配到堆上的数据，所以能够存储在编译时未知大小的文本。可以使用 from 函数基于字符串字面值来创建 String。</p>\n<p>String类型有别于字面量字符串，它是可修改的！</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"keyword\">mut </span><span class=\"variable\">s</span> = <span class=\"type\">String</span>::<span class=\"title function_ invoke__\">from</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">s.<span class=\"title function_ invoke__\">push_str</span>(<span class=\"string\">&quot;, world!&quot;</span>); <span class=\"comment\">// push_str() 在字符串后追加字面值</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">println!</span>(<span class=\"string\">&quot;&#123;&#125;&quot;</span>, s); <span class=\"comment\">// 将打印 `hello, world!`</span></span><br></pre></td></tr></table></figure>\n\n<p>对于 String 类型，为了支持一个可变，可增长的文本片段，需要在堆上分配一块在编译时未知大小的内存来存放内容。这意味着：</p>\n<ul>\n<li>必须在运行时向内存分配器（memory allocator）请求内存。</li>\n<li>需要一个当我们处理完 String 时将内存返回给分配器的方法。</li>\n</ul>\n<h3 id=\"变量与数据交互的方式\"><a href=\"#变量与数据交互的方式\" class=\"headerlink\" title=\"变量与数据交互的方式\"></a>变量与数据交互的方式</h3><p>使用堆内存的变量，他们之间的数据交互方式！</p>\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204480696-4188bc14-809f-49dd-be12-3ef7868d3b0e.png\" alt=\"图片\"></p>\n<ul>\n<li>转移</li>\n<li>拷贝</li>\n</ul>\n<h4 id=\"转移\"><a href=\"#转移\" class=\"headerlink\" title=\"转移\"></a>转移</h4><p>为了确保内存安全，在 let s2 &#x3D; s1 之后，Rust 认为 s1 不再有效，因此 Rust 不需要在 s1 离开作用域后清理任何东西。</p>\n<p>相当于 s1 赋值给 s2，就将数据转移到s2。不是浅拷贝（将引用复制给s2），也不是深拷贝！</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">heap_var_main</span>() &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">s1</span> = <span class=\"type\">String</span>::<span class=\"title function_ invoke__\">from</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">s2</span> = s1;</span><br><span class=\"line\">  <span class=\"built_in\">print!</span>(<span class=\"string\">&quot;s1 is &#123;&#125;&quot;</span>, s1);</span><br><span class=\"line\">  <span class=\"built_in\">print!</span>(<span class=\"string\">&quot;s2 is &#123;&#125;&quot;</span>, s2);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204481489-09ebb4e5-5fb3-413c-83a6-36a528ed980a.png\" alt=\"图片\"></p>\n<h4 id=\"拷贝\"><a href=\"#拷贝\" class=\"headerlink\" title=\"拷贝\"></a>拷贝</h4><p>使用一个叫做 <a href=\"https://doc.rust-lang.org/std/clone/index.html\">clone</a> 的通用函数。</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">clone_main</span>() &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">s1</span> = <span class=\"type\">String</span>::<span class=\"title function_ invoke__\">from</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">s2</span> = s1.<span class=\"title function_ invoke__\">clone</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">println!</span>(<span class=\"string\">&quot;\\ns1 = &#123;&#125;, s2 = &#123;&#125;&quot;</span>, s1, s2);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204489601-c2e6f02b-4aa7-46bc-97d5-e707e7643458.png\" alt=\"图片\"></p>\n<h2 id=\"引用与借用\"><a href=\"#引用与借用\" class=\"headerlink\" title=\"引用与借用\"></a>引用与借用</h2><p>引用（reference）像一个指针，因为它是一个地址，我们可以由此访问储存于该地址的属于其他变量的数据。 与指针不同，引用确保指向某个特定类型的有效值。</p>\n<p><code>&amp;</code> 符号就是 引用，它们允许你使用值但不获取其所有权。</p>\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204947997-bd4878ea-b295-47fd-bd0d-895d2f703fc1.png\" alt=\"图片\"></p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">ref_main</span>() &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">s1</span> = <span class=\"type\">String</span>::<span class=\"title function_ invoke__\">from</span>(<span class=\"string\">&quot;hello world!&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">fn</span> <span class=\"title function_\">calculate_length</span>(s: &amp;<span class=\"type\">String</span>) <span class=\"punctuation\">-&gt;</span> <span class=\"type\">usize</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s.<span class=\"title function_ invoke__\">len</span>();</span><br><span class=\"line\">  &#125;<span class=\"comment\">// 这里，s 离开了作用域。但因为它并不拥有引用值的所有权，</span></span><br><span class=\"line\">  <span class=\"comment\">// 所以什么也不会发生</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">len</span> = <span class=\"title function_ invoke__\">calculate_length</span>(&amp;s1);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">println!</span>(<span class=\"string\">&quot;\\ns1 len = &#123;&#125;&quot;</span>, len);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>&amp;s1</code> 语法让我们创建一个 指向 值 s1 的引用，但是并不拥有它。因为并不拥有这个值。</p>\n<p>我们将创建一个引用的行为称为 借用（borrowing）。</p>\n<h3 id=\"可变引用\"><a href=\"#可变引用\" class=\"headerlink\" title=\"可变引用\"></a>可变引用</h3><p>正如变量默认是不可变的，引用也一样。（默认）不允许修改引用的值。</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">mut_ref_main</span>() &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"keyword\">mut </span><span class=\"variable\">s</span> = <span class=\"type\">String</span>::<span class=\"title function_ invoke__\">from</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_ invoke__\">change</span>(&amp;<span class=\"keyword\">mut</span> s);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">print!</span>(<span class=\"string\">&quot;\\ns = &#123;&#125;&quot;</span>, s);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">fn</span> <span class=\"title function_\">change</span>(some_string: &amp;<span class=\"keyword\">mut</span> <span class=\"type\">String</span>) &#123;</span><br><span class=\"line\">    some_string.<span class=\"title function_ invoke__\">push_str</span>(<span class=\"string\">&quot;, world&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>注意：可变引用有一个很大的限制：如果你有一个对该变量的可变引用，你就不能再创建对该变量的引用。</strong></p>\n<p>这个限制的好处是 Rust 可以在编译时就避免数据竞争。</p>\n<hr>\n<h1 id=\"包、crate和模块\"><a href=\"#包、crate和模块\" class=\"headerlink\" title=\"包、crate和模块\"></a>包、crate和模块</h1><p>use 关键字: 在一个作用域内，use关键字创建了一个成员的快捷方式，用来减少长路径的重复。在任何可以引用crate::garden::vegetables::Asparagus的作用域, 你可以通过 use crate::garden::vegetables::Asparagus;创建一个快捷方式，然后你就可以在作用域中只写Asparagus来使用该类型。</p>\n<p>外部模块的寻址过程 </p>\n<ol>\n<li>内联；</li>\n<li>在文件 <code>src/&lt;mod&gt;.rs</code>；</li>\n<li>在文件 <code>src/&lt;mod&gt;/mod.rs</code>。</li>\n</ol>\n<p>内联模块：</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">mod</span> front_of_house &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n\n<hr>\n<h1 id=\"附录\"><a href=\"#附录\" class=\"headerlink\" title=\"附录\"></a>附录</h1><ul>\n<li>参考</li>\n<li>cargo –help</li>\n<li>cargo编译后的产物</li>\n<li>Rust内存布局</li>\n</ul>\n<h2 id=\"参考-1\"><a href=\"#参考-1\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li><a href=\"https://doc.rust-lang.org/book/#the-rust-programming-language\">The Rust Programming Language</a></li>\n<li><a href=\"https://kaisery.github.io/trpl-zh-cn/ch01-01-installation.html\">Rust 程序设计语言 简体中文版</a></li>\n<li><a href=\"https://rust-book.junmajinlong.com/\">Rust入门秘籍</a></li>\n<li><a href=\"https://www.rustwiki.org.cn/docs/\">Rust 中文教程等相关资源列表</a></li>\n</ul>\n<h2 id=\"cargo-–help\"><a href=\"#cargo-–help\" class=\"headerlink\" title=\"cargo –help\"></a>cargo –help</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b rust-learn]# cargo --help                                                    </span><br><span class=\"line\">Rust&#x27;s package manager                                                                          </span><br><span class=\"line\">                                                                                                </span><br><span class=\"line\">USAGE:                                                                                          </span><br><span class=\"line\">    cargo [+toolchain] [OPTIONS] [SUBCOMMAND]                                                   </span><br><span class=\"line\">                                                                                                </span><br><span class=\"line\">OPTIONS:                                                                                        </span><br><span class=\"line\">    -V, --version               Print version info and exit                                     </span><br><span class=\"line\">        --list                  List installed commands                                         </span><br><span class=\"line\">        --explain &lt;CODE&gt;        Run `rustc --explain CODE`                                      </span><br><span class=\"line\">    -v, --verbose               Use verbose output (-vv very verbose/build.rs output)           </span><br><span class=\"line\">    -q, --quiet                 Do not print cargo log messages                                 </span><br><span class=\"line\">        --color &lt;WHEN&gt;          Coloring: auto, always, never                                   </span><br><span class=\"line\">        --frozen                Require Cargo.lock and cache are up to date                     </span><br><span class=\"line\">        --locked                Require Cargo.lock is up to date                                </span><br><span class=\"line\">        --offline               Run without accessing the network                               </span><br><span class=\"line\">        --config &lt;KEY=VALUE&gt;    Override a configuration value                                  </span><br><span class=\"line\">    -Z &lt;FLAG&gt;                   Unstable (nightly-only) flags to Cargo, see &#x27;cargo -Z help&#x27; for </span><br><span class=\"line\">                                details                                                         </span><br><span class=\"line\">    -h, --help                  Print help information                                          </span><br><span class=\"line\">                                                                                                </span><br><span class=\"line\">Some common cargo commands are (see all commands with --list):                                  </span><br><span class=\"line\">    build, b    Compile the current package                                                     </span><br><span class=\"line\">    check, c    Analyze the current package and report errors, but don&#x27;t build object files     </span><br><span class=\"line\">    clean       Remove the target directory                                                     </span><br><span class=\"line\">    doc, d      Build this package&#x27;s and its dependencies&#x27; documentation                        </span><br><span class=\"line\">    new         Create a new cargo package                                                      </span><br><span class=\"line\">    init        Create a new cargo package in an existing directory                             </span><br><span class=\"line\">    add         Add dependencies to a manifest file                                             </span><br><span class=\"line\">    run, r      Run a binary or example of the local package                                    </span><br><span class=\"line\">    test, t     Run the tests                                                                   </span><br><span class=\"line\">    bench       Run the benchmarks                                                              </span><br><span class=\"line\">    update      Update dependencies listed in Cargo.lock                                        </span><br><span class=\"line\">    search      Search registry for crates                                                      </span><br><span class=\"line\">    publish     Package and upload this package to the registry                                 </span><br><span class=\"line\">    install     Install a Rust binary. Default location is $HOME/.cargo/bin                     </span><br><span class=\"line\">    uninstall   Uninstall a Rust binary                                                         </span><br><span class=\"line\">                                                                                                </span><br><span class=\"line\">See &#x27;cargo help &lt;command&gt;&#x27; for more information on a specific command.                          </span><br><span class=\"line\">                                                                                                </span><br></pre></td></tr></table></figure>\n\n<h2 id=\"cargo编译后的产物\"><a href=\"#cargo编译后的产物\" class=\"headerlink\" title=\"cargo编译后的产物\"></a>cargo编译后的产物</h2><ul>\n<li>开发时产物</li>\n<li>生产时产物</li>\n</ul>\n<h3 id=\"开发时产物\"><a href=\"#开发时产物\" class=\"headerlink\" title=\"开发时产物\"></a>开发时产物</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b hello_cargo]# tree                      </span><br><span class=\"line\">.                                                          </span><br><span class=\"line\">|-- Cargo.lock                                             </span><br><span class=\"line\">|-- Cargo.toml                                             </span><br><span class=\"line\">|-- src                                                    </span><br><span class=\"line\">|   `-- main.rs                                            </span><br><span class=\"line\">`-- target                                                 </span><br><span class=\"line\">    |-- CACHEDIR.TAG                                       </span><br><span class=\"line\">    `-- debug                                              </span><br><span class=\"line\">        |-- build                                          </span><br><span class=\"line\">        |-- deps                                           </span><br><span class=\"line\">        |   |-- hello_cargo-84cd33c7f338469a               </span><br><span class=\"line\">        |   `-- hello_cargo-84cd33c7f338469a.d             </span><br><span class=\"line\">        |-- examples                                       </span><br><span class=\"line\">        |-- hello_cargo                                    </span><br><span class=\"line\">        |-- hello_cargo.d                                  </span><br><span class=\"line\">        `-- incremental                                    </span><br><span class=\"line\">            `-- hello_cargo-aokenuaryvra                   </span><br><span class=\"line\">                |-- s-gfry8e3ogd-1vtypym-2e5m3t5mj48xn     </span><br><span class=\"line\">                |   |-- 1b24fot1ksjfohwq.o                 </span><br><span class=\"line\">                |   |-- 2pcmwubz98u8588d.o                 </span><br><span class=\"line\">                |   |-- 2skhc1xjwld6hx4y.o                 </span><br><span class=\"line\">                |   |-- 387f08navk0xr9hq.o                 </span><br><span class=\"line\">                |   |-- 41zl1lnzyfy87gmq.o                 </span><br><span class=\"line\">                |   |-- 4gfj2nd48vmsnha0.o                 </span><br><span class=\"line\">                |   |-- dep-graph.bin                      </span><br><span class=\"line\">                |   |-- query-cache.bin                    </span><br><span class=\"line\">                |   `-- work-products.bin                  </span><br><span class=\"line\">                `-- s-gfry8e3ogd-1vtypym.lock              </span><br><span class=\"line\">                                                           </span><br><span class=\"line\">9 directories, 18 files                                    </span><br></pre></td></tr></table></figure>\n\n<h3 id=\"生产时产物\"><a href=\"#生产时产物\" class=\"headerlink\" title=\"生产时产物\"></a>生产时产物</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b target]# tree                   </span><br><span class=\"line\">.                                                  </span><br><span class=\"line\">|-- CACHEDIR.TAG                                   </span><br><span class=\"line\">|-- debug                                          </span><br><span class=\"line\">|   |-- build                                      </span><br><span class=\"line\">|   |-- deps                                       </span><br><span class=\"line\">|   |   |-- hello_cargo-84cd33c7f338469a           </span><br><span class=\"line\">|   |   `-- hello_cargo-84cd33c7f338469a.d         </span><br><span class=\"line\">|   |-- examples                                   </span><br><span class=\"line\">|   |-- hello_cargo                                </span><br><span class=\"line\">|   |-- hello_cargo.d                              </span><br><span class=\"line\">|   `-- incremental                                </span><br><span class=\"line\">|       `-- hello_cargo-aokenuaryvra               </span><br><span class=\"line\">|           |-- s-gfryfk4nh1-10dc9z2-2e5m3t5mj48xn </span><br><span class=\"line\">|           |   |-- 1b24fot1ksjfohwq.o             </span><br><span class=\"line\">|           |   |-- 2pcmwubz98u8588d.o             </span><br><span class=\"line\">|           |   |-- 2skhc1xjwld6hx4y.o             </span><br><span class=\"line\">|           |   |-- 387f08navk0xr9hq.o             </span><br><span class=\"line\">|           |   |-- 41zl1lnzyfy87gmq.o             </span><br><span class=\"line\">|           |   |-- 4gfj2nd48vmsnha0.o             </span><br><span class=\"line\">|           |   |-- dep-graph.bin                  </span><br><span class=\"line\">|           |   |-- query-cache.bin                </span><br><span class=\"line\">|           |   `-- work-products.bin              </span><br><span class=\"line\">|           `-- s-gfryfk4nh1-10dc9z2.lock          </span><br><span class=\"line\">`-- release                                        </span><br><span class=\"line\">    |-- build                                      </span><br><span class=\"line\">    |-- deps                                       </span><br><span class=\"line\">    |   |-- hello_cargo-42d24d7ef33ef483           </span><br><span class=\"line\">    |   `-- hello_cargo-42d24d7ef33ef483.d         </span><br><span class=\"line\">    |-- examples                                   </span><br><span class=\"line\">    |-- hello_cargo                                </span><br><span class=\"line\">    |-- hello_cargo.d                              </span><br><span class=\"line\">    `-- incremental                                </span><br><span class=\"line\">                                                   </span><br><span class=\"line\">12 directories, 19 files</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Rust-内存布局\"><a href=\"#Rust-内存布局\" class=\"headerlink\" title=\"Rust 内存布局\"></a>Rust 内存布局</h2><img width=\"100%\" src=\"https://user-images.githubusercontent.com/25907273/204198140-44b47b88-e8ed-43b0-a554-181ebdd3ef0c.png\" />\n\n","site":{"data":{}},"excerpt":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>Rust 是一种 预编译静态类型（ahead-of-time compiled）语言，这意味着你可以编译程序，并将可执行文件送给其他人，他们甚至不需要安装 Rust 就可以运行。</p>","more":"<p>Rust 是 静态类型（statically typed）语言，也就是说在编译时就必须知道所有变量的类型。</p>\n<p>Rust 通过所有权系统管理内存，编译器在编译时会根据一系列的规则进行检查。如果违反了任何这些规则，程序都不能编译。</p>\n<p>Rust是内存安全、没有GC(垃圾回收)的高效语言。</p>\n<hr>\n<h1 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h1><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b workspace]# curl --proto &#x27;=https&#x27; --tlsv1.3 https://sh.rustup.rs -sSf | sh</span><br></pre></td></tr></table></figure>\n<p>安装成功！</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">info: default toolchain set to &#x27;stable-x86_64-unknown-linux-gnu&#x27;                 </span><br><span class=\"line\">                                                                                 </span><br><span class=\"line\">  stable-x86_64-unknown-linux-gnu installed - rustc 1.65.0 (897e37553 2022-11-02)</span><br><span class=\"line\">                                                                                 </span><br><span class=\"line\">                                                                                 </span><br><span class=\"line\">Rust is installed now. Great!                                                    </span><br><span class=\"line\">                                                                                 </span><br><span class=\"line\">To get started you may need to restart your current shell.                       </span><br><span class=\"line\">This would reload your PATH environment variable to include                      </span><br><span class=\"line\">Cargo&#x27;s bin directory ($HOME/.cargo/bin).                                        </span><br><span class=\"line\">                                                                                 </span><br><span class=\"line\">To configure your current shell, run:                                            </span><br><span class=\"line\">source &quot;$HOME/.cargo/env&quot;                                                        </span><br></pre></td></tr></table></figure>\n\n<p>刷新当前shell配置</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b workspace]# source ~/.bashrc</span><br><span class=\"line\"></span><br><span class=\"line\">[root@f8ac270c7b6b workspace]# rustc --version</span><br><span class=\"line\">rustc 1.65.0 (897e37553 2022-11-02)</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h1 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h1><ul>\n<li>Code</li>\n<li>编译</li>\n<li>执行</li>\n</ul>\n<h2 id=\"Code\"><a href=\"#Code\" class=\"headerlink\" title=\"Code\"></a>Code</h2><p>文件名：hello_world.rs</p>\n<p>使用的是 <code>.rs</code> 后缀！</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fn main() &#123;</span><br><span class=\"line\">  println!(&quot;Hello, world!&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>安装 vs code的 rust 扩展！</p>\n<p>Extension ID：dustypomerleau.rust-syntax<br><img src=\"https://user-images.githubusercontent.com/25907273/204077420-7c3a88eb-57d2-4393-ae55-5ad625521997.png\" alt=\"image\"></p>\n<h2 id=\"编译\"><a href=\"#编译\" class=\"headerlink\" title=\"编译\"></a>编译</h2><p><code>rustc xxx.rs</code> 编译rust程序！</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b rust-learn]# rustc hello_world.rs</span><br><span class=\"line\">[root@f8ac270c7b6b rust-learn]# ls</span><br><span class=\"line\">hello_world  hello_world.rs</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"执行\"><a href=\"#执行\" class=\"headerlink\" title=\"执行\"></a>执行</h2><p>直接执行编译后的文件！不需要启动程序！</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b rust-learn]# ./hello_world</span><br><span class=\"line\">Hello, world!</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h1 id=\"构建系统和包管理器，Cargo\"><a href=\"#构建系统和包管理器，Cargo\" class=\"headerlink\" title=\"构建系统和包管理器，Cargo\"></a>构建系统和包管理器，Cargo</h1><p>Cargo 是 Rust 的构建系统和包管理器。它可以为你处理很多任务，比如构建代码、下载依赖库并编译这些库</p>\n<p>使用官方方式安装，会自带 Cargo！</p>\n<p>Cargo的详细命令可以使用 <code>--help</code>，也可查看 <a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1327996209\">附录</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b rust-learn]# cargo --version</span><br><span class=\"line\">cargo 1.65.0 (4bc8f24d3 2022-10-20)</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>创建项目</li>\n<li>编译项目<ul>\n<li>开发时编译</li>\n<li>生产时编译</li>\n</ul>\n</li>\n<li>执行项目</li>\n<li>快速检测</li>\n<li>小结</li>\n<li>参考</li>\n</ul>\n<h2 id=\"创建项目\"><a href=\"#创建项目\" class=\"headerlink\" title=\"创建项目\"></a>创建项目</h2><p>使用 <code>cargo new &lt;new dir name&gt;</code></p>\n<p>产物结构</p>\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204089591-b2abeda6-5cdc-4bda-8498-3a06cf746f4a.png\" alt=\"image\"></p>\n<p>生成一个配置文件，是toml文件。</p>\n<p>这个文件使用 <a href=\"https://toml.io/\">TOML</a> (Tom’s Obvious, Minimal Language) 格式，这是 Cargo 配置文件的格式。</p>\n<p>还生成一个src以及src下的z&#x3D;主文件main。</p>\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204089548-adadc8f1-ff1a-48e5-826b-68257e30cb6f.png\" alt=\"image\"></p>\n<h2 id=\"编译项目\"><a href=\"#编译项目\" class=\"headerlink\" title=\"编译项目\"></a>编译项目</h2><ul>\n<li>开发时编译</li>\n<li>生产时编译</li>\n</ul>\n<h3 id=\"开发时编译\"><a href=\"#开发时编译\" class=\"headerlink\" title=\"开发时编译\"></a>开发时编译</h3><p>切换到 项目目录下（此处是 hello_cargo），执行build命令。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo build</span><br></pre></td></tr></table></figure>\n\n<p>build 结果如下：</p>\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204089646-b505984f-8cf6-4fae-b221-cbb47c59dcbb.png\" alt=\"image\"></p>\n<p>增加了 <code>Cargo.lock</code> 和 <code>target/</code> 目录！</p>\n<h3 id=\"生产时编译\"><a href=\"#生产时编译\" class=\"headerlink\" title=\"生产时编译\"></a>生产时编译</h3><p>在开发时编译的基础上增加 <code>--release</code>。</p>\n<p>编译的产物会放在 <code>target/release</code> 中！详细参考 <a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1327996209\">附录</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo build --release</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204099490-4309d4b8-7122-44d0-a7e7-2668d1940238.png\" alt=\"image\"></p>\n<h2 id=\"运行项目\"><a href=\"#运行项目\" class=\"headerlink\" title=\"运行项目\"></a>运行项目</h2><p>使用 <code>run</code> 命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo run</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204089972-fb695c14-1456-4863-8c09-fb8e5184a9bd.png\" alt=\"image\"></p>\n<h2 id=\"快速检查\"><a href=\"#快速检查\" class=\"headerlink\" title=\"快速检查\"></a>快速检查</h2><p>在项目根目录下执行以下命令：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo check</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204100025-89f68fa1-26a0-4303-a32f-3a240ae04503.png\" alt=\"image\"></p>\n<p>该命令快速检查代码确保其可以编译，但并不产生可执行文件！</p>\n<p>通常 cargo check 要比 cargo build 快得多，因为它省略了生成可执行文件的步骤。如果你在编写代码时持续的进行检查，cargo check 可以让你快速了解现在的代码能不能正常通过编译！</p>\n<h2 id=\"小结\"><a href=\"#小结\" class=\"headerlink\" title=\"小结\"></a>小结</h2><ul>\n<li><code>cargo new</code>，创建项目。</li>\n<li><code>cargo build</code>，构建项目。</li>\n<li><code>cargo run</code>，一步构建并运行项目。</li>\n<li><code>cargo check</code>，在不生成二进制文件的情况下构建项目来检查错误。</li>\n<li>有别于将构建结果放在与源码相同的目录，Cargo 会将其放到 target目录，默认在 <code>target/debug</code>，生产时在 <code>target/release</code>。</li>\n</ul>\n<h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li><a href=\"https://kaisery.github.io/trpl-zh-cn/ch01-03-hello-cargo.html#hello-cargo\">Rust 程序设计语言 简体中文版 —— Hello, Cargo!</a></li>\n</ul>\n<hr>\n<h1 id=\"语法概念\"><a href=\"#语法概念\" class=\"headerlink\" title=\"语法概念\"></a>语法概念</h1><ul>\n<li>结束符号</li>\n<li>注释</li>\n<li>变量&#x2F;常量</li>\n<li>数据类型</li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328515749\">函数定义</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1330017240\">控制流</a></li>\n</ul>\n<h2 id=\"结束符号\"><a href=\"#结束符号\" class=\"headerlink\" title=\"结束符号\"></a>结束符号</h2><p>使用分号（<code>;</code>）作为结束符号</p>\n<h2 id=\"注释\"><a href=\"#注释\" class=\"headerlink\" title=\"注释\"></a>注释</h2><figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 这是一段注释</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"变量-x2F-常量\"><a href=\"#变量-x2F-常量\" class=\"headerlink\" title=\"变量&#x2F;常量\"></a>变量&#x2F;常量</h2><h3 id=\"变量\"><a href=\"#变量\" class=\"headerlink\" title=\"变量\"></a>变量</h3><p>变量默认是不可重复赋值！<br>如果要重复赋值可以使用<code>mut</code>配合声明。<br>变量是可以重复声明的！</p>\n<p>使用 <code>let</code> 声明标量！</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable\">foo</span> = <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n<p>需要重复赋值时声明</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"keyword\">mut </span><span class=\"variable\">foo</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">foo = <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p>可以重复声明变量</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable\">foo</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"comment\">// 在此之前foo=1</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable\">foo</span>: <span class=\"type\">u8</span> = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"comment\">// 解析来foo = 2</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"常量\"><a href=\"#常量\" class=\"headerlink\" title=\"常量\"></a>常量</h3><p>使用 <code>const</code>声明，与变量不同，它声明之后总是不可重复声明与赋值！</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> FOO = <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"数据类型\"><a href=\"#数据类型\" class=\"headerlink\" title=\"数据类型\"></a>数据类型</h2><ul>\n<li>数据类型的分类</li>\n</ul>\n<h3 id=\"数据类型的分类\"><a href=\"#数据类型的分类\" class=\"headerlink\" title=\"数据类型的分类\"></a>数据类型的分类</h3><p>数据类型的分为<em>标量（scalar）</em>和<em>复合（compound）</em>，以及其他</p>\n<p><strong>标量（scalar）</strong> 类型代表一个单独的值。Rust 有四种基本的标量类型：</p>\n<ul>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328102385\">整型</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328105183\">浮点型</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328105689\">布尔类型</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328111816\">字符类型</a></li>\n</ul>\n<p><strong>复合类型（Compound types）</strong> 可以将多个值组合成一个类型。Rust 有两个原生的复合类型：</p>\n<ul>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328122358\">元组（tuple）</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328195135\">数组（array）</a></li>\n</ul>\n<p>其他类型包含：</p>\n<ul>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328463936\">引用类型</a></li>\n<li><a href=\"https://github.com/isaaxite/blog/issues/296#issuecomment-1328510984\">Slice类型</a></li>\n</ul>\n<hr>\n<h1 id=\"所有权（ownership）\"><a href=\"#所有权（ownership）\" class=\"headerlink\" title=\"所有权（ownership）\"></a>所有权（ownership）</h1><ul>\n<li>前言</li>\n<li>所有权的规则</li>\n<li>变量作用域</li>\n<li>变量与数据交互的方式</li>\n<li>引用与借用</li>\n</ul>\n<h2 id=\"前言-1\"><a href=\"#前言-1\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>[栈（Stack）与堆（Heap）内存。</p>\n<p>栈以放入值的顺序存储值。</p>\n<p>堆是缺乏组织的：当向堆放入数据时，你要请求一定大小的空间。内存分配器（memory allocator）在堆的某处找到一块足够大的空位，把它标记为已使用，并返回一个表示该位置地址的 指针（pointer）。</p>\n<p>入栈比在堆上分配内存要快，因为（入栈时）分配器无需为存储新数据去搜索内存空间；其位置总是在栈顶。相比之下，在堆上分配内存则需要更多的工作，这是因为分配器必须首先找到一块足够存放数据的内存空间，并接着做一些记录为下一次分配做准备。</p>\n<h2 id=\"所有权的规则\"><a href=\"#所有权的规则\" class=\"headerlink\" title=\"所有权的规则\"></a>所有权的规则</h2><ol>\n<li>Rust 中的每一个值都有一个 所有者（owner）。</li>\n<li>值在任一时刻有且只有一个所有者。</li>\n<li>当所有者（变量）离开作用域，这个值将被丢弃。</li>\n</ol>\n<h2 id=\"变量作用域\"><a href=\"#变量作用域\" class=\"headerlink\" title=\"变量作用域\"></a>变量作用域</h2><p><code>&#123;&#125;</code>，每个花括号包含的代码块都是一个作用域！</p>\n<p>注意，这不包含 struct 的花括号！</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">var_scope_main</span>() &#123;</span><br><span class=\"line\">  &#123;                     <span class=\"comment\">// s 在这里无效, 它尚未声明</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"variable\">s</span> = <span class=\"string\">&quot;hello&quot;</span>;    <span class=\"comment\">// 从此处起，s 是有效的</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 使用 s</span></span><br><span class=\"line\">  &#125;                     <span class=\"comment\">// Rust 在结尾的 &#125; 处自动调用 drop, 释放内存</span></span><br><span class=\"line\">                        <span class=\"comment\">// 此作用域已结束，s 不再有效</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"String-类型\"><a href=\"#String-类型\" class=\"headerlink\" title=\"String 类型\"></a>String 类型</h2><p>Rust 有第二个字符串类型，String。这个类型管理被分配到堆上的数据，所以能够存储在编译时未知大小的文本。可以使用 from 函数基于字符串字面值来创建 String。</p>\n<p>String类型有别于字面量字符串，它是可修改的！</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"keyword\">mut </span><span class=\"variable\">s</span> = <span class=\"type\">String</span>::<span class=\"title function_ invoke__\">from</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">s.<span class=\"title function_ invoke__\">push_str</span>(<span class=\"string\">&quot;, world!&quot;</span>); <span class=\"comment\">// push_str() 在字符串后追加字面值</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">println!</span>(<span class=\"string\">&quot;&#123;&#125;&quot;</span>, s); <span class=\"comment\">// 将打印 `hello, world!`</span></span><br></pre></td></tr></table></figure>\n\n<p>对于 String 类型，为了支持一个可变，可增长的文本片段，需要在堆上分配一块在编译时未知大小的内存来存放内容。这意味着：</p>\n<ul>\n<li>必须在运行时向内存分配器（memory allocator）请求内存。</li>\n<li>需要一个当我们处理完 String 时将内存返回给分配器的方法。</li>\n</ul>\n<h3 id=\"变量与数据交互的方式\"><a href=\"#变量与数据交互的方式\" class=\"headerlink\" title=\"变量与数据交互的方式\"></a>变量与数据交互的方式</h3><p>使用堆内存的变量，他们之间的数据交互方式！</p>\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204480696-4188bc14-809f-49dd-be12-3ef7868d3b0e.png\" alt=\"图片\"></p>\n<ul>\n<li>转移</li>\n<li>拷贝</li>\n</ul>\n<h4 id=\"转移\"><a href=\"#转移\" class=\"headerlink\" title=\"转移\"></a>转移</h4><p>为了确保内存安全，在 let s2 &#x3D; s1 之后，Rust 认为 s1 不再有效，因此 Rust 不需要在 s1 离开作用域后清理任何东西。</p>\n<p>相当于 s1 赋值给 s2，就将数据转移到s2。不是浅拷贝（将引用复制给s2），也不是深拷贝！</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">heap_var_main</span>() &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">s1</span> = <span class=\"type\">String</span>::<span class=\"title function_ invoke__\">from</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">s2</span> = s1;</span><br><span class=\"line\">  <span class=\"built_in\">print!</span>(<span class=\"string\">&quot;s1 is &#123;&#125;&quot;</span>, s1);</span><br><span class=\"line\">  <span class=\"built_in\">print!</span>(<span class=\"string\">&quot;s2 is &#123;&#125;&quot;</span>, s2);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204481489-09ebb4e5-5fb3-413c-83a6-36a528ed980a.png\" alt=\"图片\"></p>\n<h4 id=\"拷贝\"><a href=\"#拷贝\" class=\"headerlink\" title=\"拷贝\"></a>拷贝</h4><p>使用一个叫做 <a href=\"https://doc.rust-lang.org/std/clone/index.html\">clone</a> 的通用函数。</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">clone_main</span>() &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">s1</span> = <span class=\"type\">String</span>::<span class=\"title function_ invoke__\">from</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">s2</span> = s1.<span class=\"title function_ invoke__\">clone</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">println!</span>(<span class=\"string\">&quot;\\ns1 = &#123;&#125;, s2 = &#123;&#125;&quot;</span>, s1, s2);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204489601-c2e6f02b-4aa7-46bc-97d5-e707e7643458.png\" alt=\"图片\"></p>\n<h2 id=\"引用与借用\"><a href=\"#引用与借用\" class=\"headerlink\" title=\"引用与借用\"></a>引用与借用</h2><p>引用（reference）像一个指针，因为它是一个地址，我们可以由此访问储存于该地址的属于其他变量的数据。 与指针不同，引用确保指向某个特定类型的有效值。</p>\n<p><code>&amp;</code> 符号就是 引用，它们允许你使用值但不获取其所有权。</p>\n<p><img src=\"https://user-images.githubusercontent.com/25907273/204947997-bd4878ea-b295-47fd-bd0d-895d2f703fc1.png\" alt=\"图片\"></p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">ref_main</span>() &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">s1</span> = <span class=\"type\">String</span>::<span class=\"title function_ invoke__\">from</span>(<span class=\"string\">&quot;hello world!&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">fn</span> <span class=\"title function_\">calculate_length</span>(s: &amp;<span class=\"type\">String</span>) <span class=\"punctuation\">-&gt;</span> <span class=\"type\">usize</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s.<span class=\"title function_ invoke__\">len</span>();</span><br><span class=\"line\">  &#125;<span class=\"comment\">// 这里，s 离开了作用域。但因为它并不拥有引用值的所有权，</span></span><br><span class=\"line\">  <span class=\"comment\">// 所以什么也不会发生</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">len</span> = <span class=\"title function_ invoke__\">calculate_length</span>(&amp;s1);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">println!</span>(<span class=\"string\">&quot;\\ns1 len = &#123;&#125;&quot;</span>, len);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>&amp;s1</code> 语法让我们创建一个 指向 值 s1 的引用，但是并不拥有它。因为并不拥有这个值。</p>\n<p>我们将创建一个引用的行为称为 借用（borrowing）。</p>\n<h3 id=\"可变引用\"><a href=\"#可变引用\" class=\"headerlink\" title=\"可变引用\"></a>可变引用</h3><p>正如变量默认是不可变的，引用也一样。（默认）不允许修改引用的值。</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">mut_ref_main</span>() &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"keyword\">mut </span><span class=\"variable\">s</span> = <span class=\"type\">String</span>::<span class=\"title function_ invoke__\">from</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_ invoke__\">change</span>(&amp;<span class=\"keyword\">mut</span> s);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">print!</span>(<span class=\"string\">&quot;\\ns = &#123;&#125;&quot;</span>, s);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">fn</span> <span class=\"title function_\">change</span>(some_string: &amp;<span class=\"keyword\">mut</span> <span class=\"type\">String</span>) &#123;</span><br><span class=\"line\">    some_string.<span class=\"title function_ invoke__\">push_str</span>(<span class=\"string\">&quot;, world&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>注意：可变引用有一个很大的限制：如果你有一个对该变量的可变引用，你就不能再创建对该变量的引用。</strong></p>\n<p>这个限制的好处是 Rust 可以在编译时就避免数据竞争。</p>\n<hr>\n<h1 id=\"包、crate和模块\"><a href=\"#包、crate和模块\" class=\"headerlink\" title=\"包、crate和模块\"></a>包、crate和模块</h1><p>use 关键字: 在一个作用域内，use关键字创建了一个成员的快捷方式，用来减少长路径的重复。在任何可以引用crate::garden::vegetables::Asparagus的作用域, 你可以通过 use crate::garden::vegetables::Asparagus;创建一个快捷方式，然后你就可以在作用域中只写Asparagus来使用该类型。</p>\n<p>外部模块的寻址过程 </p>\n<ol>\n<li>内联；</li>\n<li>在文件 <code>src/&lt;mod&gt;.rs</code>；</li>\n<li>在文件 <code>src/&lt;mod&gt;/mod.rs</code>。</li>\n</ol>\n<p>内联模块：</p>\n<figure class=\"highlight rs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">mod</span> front_of_house &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n\n<hr>\n<h1 id=\"附录\"><a href=\"#附录\" class=\"headerlink\" title=\"附录\"></a>附录</h1><ul>\n<li>参考</li>\n<li>cargo –help</li>\n<li>cargo编译后的产物</li>\n<li>Rust内存布局</li>\n</ul>\n<h2 id=\"参考-1\"><a href=\"#参考-1\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li><a href=\"https://doc.rust-lang.org/book/#the-rust-programming-language\">The Rust Programming Language</a></li>\n<li><a href=\"https://kaisery.github.io/trpl-zh-cn/ch01-01-installation.html\">Rust 程序设计语言 简体中文版</a></li>\n<li><a href=\"https://rust-book.junmajinlong.com/\">Rust入门秘籍</a></li>\n<li><a href=\"https://www.rustwiki.org.cn/docs/\">Rust 中文教程等相关资源列表</a></li>\n</ul>\n<h2 id=\"cargo-–help\"><a href=\"#cargo-–help\" class=\"headerlink\" title=\"cargo –help\"></a>cargo –help</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b rust-learn]# cargo --help                                                    </span><br><span class=\"line\">Rust&#x27;s package manager                                                                          </span><br><span class=\"line\">                                                                                                </span><br><span class=\"line\">USAGE:                                                                                          </span><br><span class=\"line\">    cargo [+toolchain] [OPTIONS] [SUBCOMMAND]                                                   </span><br><span class=\"line\">                                                                                                </span><br><span class=\"line\">OPTIONS:                                                                                        </span><br><span class=\"line\">    -V, --version               Print version info and exit                                     </span><br><span class=\"line\">        --list                  List installed commands                                         </span><br><span class=\"line\">        --explain &lt;CODE&gt;        Run `rustc --explain CODE`                                      </span><br><span class=\"line\">    -v, --verbose               Use verbose output (-vv very verbose/build.rs output)           </span><br><span class=\"line\">    -q, --quiet                 Do not print cargo log messages                                 </span><br><span class=\"line\">        --color &lt;WHEN&gt;          Coloring: auto, always, never                                   </span><br><span class=\"line\">        --frozen                Require Cargo.lock and cache are up to date                     </span><br><span class=\"line\">        --locked                Require Cargo.lock is up to date                                </span><br><span class=\"line\">        --offline               Run without accessing the network                               </span><br><span class=\"line\">        --config &lt;KEY=VALUE&gt;    Override a configuration value                                  </span><br><span class=\"line\">    -Z &lt;FLAG&gt;                   Unstable (nightly-only) flags to Cargo, see &#x27;cargo -Z help&#x27; for </span><br><span class=\"line\">                                details                                                         </span><br><span class=\"line\">    -h, --help                  Print help information                                          </span><br><span class=\"line\">                                                                                                </span><br><span class=\"line\">Some common cargo commands are (see all commands with --list):                                  </span><br><span class=\"line\">    build, b    Compile the current package                                                     </span><br><span class=\"line\">    check, c    Analyze the current package and report errors, but don&#x27;t build object files     </span><br><span class=\"line\">    clean       Remove the target directory                                                     </span><br><span class=\"line\">    doc, d      Build this package&#x27;s and its dependencies&#x27; documentation                        </span><br><span class=\"line\">    new         Create a new cargo package                                                      </span><br><span class=\"line\">    init        Create a new cargo package in an existing directory                             </span><br><span class=\"line\">    add         Add dependencies to a manifest file                                             </span><br><span class=\"line\">    run, r      Run a binary or example of the local package                                    </span><br><span class=\"line\">    test, t     Run the tests                                                                   </span><br><span class=\"line\">    bench       Run the benchmarks                                                              </span><br><span class=\"line\">    update      Update dependencies listed in Cargo.lock                                        </span><br><span class=\"line\">    search      Search registry for crates                                                      </span><br><span class=\"line\">    publish     Package and upload this package to the registry                                 </span><br><span class=\"line\">    install     Install a Rust binary. Default location is $HOME/.cargo/bin                     </span><br><span class=\"line\">    uninstall   Uninstall a Rust binary                                                         </span><br><span class=\"line\">                                                                                                </span><br><span class=\"line\">See &#x27;cargo help &lt;command&gt;&#x27; for more information on a specific command.                          </span><br><span class=\"line\">                                                                                                </span><br></pre></td></tr></table></figure>\n\n<h2 id=\"cargo编译后的产物\"><a href=\"#cargo编译后的产物\" class=\"headerlink\" title=\"cargo编译后的产物\"></a>cargo编译后的产物</h2><ul>\n<li>开发时产物</li>\n<li>生产时产物</li>\n</ul>\n<h3 id=\"开发时产物\"><a href=\"#开发时产物\" class=\"headerlink\" title=\"开发时产物\"></a>开发时产物</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b hello_cargo]# tree                      </span><br><span class=\"line\">.                                                          </span><br><span class=\"line\">|-- Cargo.lock                                             </span><br><span class=\"line\">|-- Cargo.toml                                             </span><br><span class=\"line\">|-- src                                                    </span><br><span class=\"line\">|   `-- main.rs                                            </span><br><span class=\"line\">`-- target                                                 </span><br><span class=\"line\">    |-- CACHEDIR.TAG                                       </span><br><span class=\"line\">    `-- debug                                              </span><br><span class=\"line\">        |-- build                                          </span><br><span class=\"line\">        |-- deps                                           </span><br><span class=\"line\">        |   |-- hello_cargo-84cd33c7f338469a               </span><br><span class=\"line\">        |   `-- hello_cargo-84cd33c7f338469a.d             </span><br><span class=\"line\">        |-- examples                                       </span><br><span class=\"line\">        |-- hello_cargo                                    </span><br><span class=\"line\">        |-- hello_cargo.d                                  </span><br><span class=\"line\">        `-- incremental                                    </span><br><span class=\"line\">            `-- hello_cargo-aokenuaryvra                   </span><br><span class=\"line\">                |-- s-gfry8e3ogd-1vtypym-2e5m3t5mj48xn     </span><br><span class=\"line\">                |   |-- 1b24fot1ksjfohwq.o                 </span><br><span class=\"line\">                |   |-- 2pcmwubz98u8588d.o                 </span><br><span class=\"line\">                |   |-- 2skhc1xjwld6hx4y.o                 </span><br><span class=\"line\">                |   |-- 387f08navk0xr9hq.o                 </span><br><span class=\"line\">                |   |-- 41zl1lnzyfy87gmq.o                 </span><br><span class=\"line\">                |   |-- 4gfj2nd48vmsnha0.o                 </span><br><span class=\"line\">                |   |-- dep-graph.bin                      </span><br><span class=\"line\">                |   |-- query-cache.bin                    </span><br><span class=\"line\">                |   `-- work-products.bin                  </span><br><span class=\"line\">                `-- s-gfry8e3ogd-1vtypym.lock              </span><br><span class=\"line\">                                                           </span><br><span class=\"line\">9 directories, 18 files                                    </span><br></pre></td></tr></table></figure>\n\n<h3 id=\"生产时产物\"><a href=\"#生产时产物\" class=\"headerlink\" title=\"生产时产物\"></a>生产时产物</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@f8ac270c7b6b target]# tree                   </span><br><span class=\"line\">.                                                  </span><br><span class=\"line\">|-- CACHEDIR.TAG                                   </span><br><span class=\"line\">|-- debug                                          </span><br><span class=\"line\">|   |-- build                                      </span><br><span class=\"line\">|   |-- deps                                       </span><br><span class=\"line\">|   |   |-- hello_cargo-84cd33c7f338469a           </span><br><span class=\"line\">|   |   `-- hello_cargo-84cd33c7f338469a.d         </span><br><span class=\"line\">|   |-- examples                                   </span><br><span class=\"line\">|   |-- hello_cargo                                </span><br><span class=\"line\">|   |-- hello_cargo.d                              </span><br><span class=\"line\">|   `-- incremental                                </span><br><span class=\"line\">|       `-- hello_cargo-aokenuaryvra               </span><br><span class=\"line\">|           |-- s-gfryfk4nh1-10dc9z2-2e5m3t5mj48xn </span><br><span class=\"line\">|           |   |-- 1b24fot1ksjfohwq.o             </span><br><span class=\"line\">|           |   |-- 2pcmwubz98u8588d.o             </span><br><span class=\"line\">|           |   |-- 2skhc1xjwld6hx4y.o             </span><br><span class=\"line\">|           |   |-- 387f08navk0xr9hq.o             </span><br><span class=\"line\">|           |   |-- 41zl1lnzyfy87gmq.o             </span><br><span class=\"line\">|           |   |-- 4gfj2nd48vmsnha0.o             </span><br><span class=\"line\">|           |   |-- dep-graph.bin                  </span><br><span class=\"line\">|           |   |-- query-cache.bin                </span><br><span class=\"line\">|           |   `-- work-products.bin              </span><br><span class=\"line\">|           `-- s-gfryfk4nh1-10dc9z2.lock          </span><br><span class=\"line\">`-- release                                        </span><br><span class=\"line\">    |-- build                                      </span><br><span class=\"line\">    |-- deps                                       </span><br><span class=\"line\">    |   |-- hello_cargo-42d24d7ef33ef483           </span><br><span class=\"line\">    |   `-- hello_cargo-42d24d7ef33ef483.d         </span><br><span class=\"line\">    |-- examples                                   </span><br><span class=\"line\">    |-- hello_cargo                                </span><br><span class=\"line\">    |-- hello_cargo.d                              </span><br><span class=\"line\">    `-- incremental                                </span><br><span class=\"line\">                                                   </span><br><span class=\"line\">12 directories, 19 files</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Rust-内存布局\"><a href=\"#Rust-内存布局\" class=\"headerlink\" title=\"Rust 内存布局\"></a>Rust 内存布局</h2><img width=\"100%\" src=\"https://user-images.githubusercontent.com/25907273/204198140-44b47b88-e8ed-43b0-a554-181ebdd3ef0c.png\" />"},{"title":"hexo：从0开始与踩坑实录","date":"2021-03-16T06:46:49.000Z","description":" ","_content":"\n# 下载插件\n\n## curl下载github zip链接\n\n```\ncurl -LJO https://github.com/theme-next/theme-next-fancybox3 \n```\n\n## unzip\n\n```\nunzip theme-next-fancybox3-master.zip\n```\n\n# page布局有什么用？\n\n官文档说的布局概念\n\n> ![](Snipaste_2023-02-14_21-58-08.png)\n\n**布局概念含糊不清！**\n\n# 为什么主页将所有文章以详情的形式全列出来了？\n\n文章没有添加 `description` 属性。形如\n\n```yml\n---\ntitle: hexo：从0开始与踩坑实录\ndate: 2021-03-16 14:46:49\ncategories: \n- hexo\ntags:\n- hexo\ndescription: 记录入坑hexo的过程中遇到的问题与最终解决\n---\n```\n\n只有添加 `description`并且字段值不为空（可以使用空格占位），才会以概览模式在主页列出所有文章！\n\n## 参考\n\n- [hexo小技巧-首页显示文章摘要及图片](https://ryderchan.github.io/2017/01/26/hexo%E5%B0%8F%E6%8A%80%E5%B7%A7-%E9%A6%96%E9%A1%B5%E6%98%BE%E7%A4%BA%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%E5%8F%8A%E5%9B%BE%E7%89%87/)\n\n\n\n# 文章中的图片的保存位置以及使用方式\n\n\n## post_asset_folder\n\n开启 `post_asset_folder`，将生成文章同名目录。可以使用路径访问此目录下的资源！\n\n```yml\n# _config.yml\npost_asset_folder: true\n```\n\n## 使用Markdown语法\n\n\n```yml\n# _config.yml\npost_asset_folder: true\nmarked:\n  prependRoot: true\n  postAsset: true\n```\n\n启用后，资源图片将会被自动解析为其对应文章的路径。\n例如： image.jpg 位置为 `/2020/01/02/foo/image.jpg` ，这表示它是 `/2020/01/02/foo/` 文章的一张资源图片， `![](image.jpg)` 将会被解析为 `<img src=\"/2020/01/02/foo/image.jpg\"> `。\n\n## 参考\n\n- hexo博客中如何插入图片: https://cloud.tencent.com/developer/article/1736563\n- 资源文件夹: https://hexo.io/zh-cn/docs/asset-folders\n\n\n\n# Next如何添加分类页与标签页？\n\n## 将Next配置文件中的Menu开启\n\n路径：themes/next/_config.yml\n\n将配置开启后，就可以在页面上看到 分类页 和 标签页 的入口。但是仅仅只有入口没有内容！\n\n```yml\n# ---------------------------------------------------------------\n# Menu Settings\n# ---------------------------------------------------------------\n\n# Usage: `Key: /link/ || icon`\n# Key is the name of menu item. If the translation for this item is available, the translated text will be loaded, otherwise the Key name will be used. Key is case-sensitive.\n# Value before `||` delimiter is the target link, value after `||` delimiter is the name of Font Awesome icon.\n# External url should start with http:// or https://\nmenu:\n  home: / || fa fa-home\n  # about: /about/ || fa fa-user\n  tags: /tags/ || fa fa-tags\n  categories: /categories/ || fa fa-th\n  archives: /archives/ || fa fa-archive\n  # schedule: /schedule/ || fa fa-calendar\n  #sitemap: /sitemap.xml || fa fa-sitemap\n  #commonweal: /404/ || fa fa-heartbeat\n```\n\n## 添加页面\n\n添加分类页面。执行下面命令将会生成 source/categories/index.md\n\n```shell\nhexo new page categories\n```\n\ncategories/index.md 的内容如下，还需做些必要修改：添加 `type: \"categories\"`\n\n```yml\n---\ntitle: categories\ndate: 2023-02-14 16:56:26\ntype: \"categories\"\n---\n```\n\n标签页的添加与以上大部分相似！需要注意的是：\n\n- 标签页创建：`hexo new page tags`；\n- 标签页属性修改：`type: \"tags\"`\n\n## 使用分类\n\n在 `source/_posts/` 目录的文章中的yml配置，添加 `categories` 属性。如下面例子。\n\n文章添加标签后，再编译就会生成对应的标签文件！\n\n\n```yml\n---\ntitle: 面试题62. 圆圈中最后剩下的数字\ndate: 2020-04-17 02:13:49\ncategories: \n- 算法题\ntags:\n- LCOF\ndescription: ' '\n---\n```\n\n## 编译\n\n编译后继承生成分类、标签目录，见下：\n\n```shell\ncategories\n├── hexo\n|  └── index.html\n├── index.html\n└── 算法题\n   └── index.html\n```\n\n\n-------------\n\n\n# 预览图片\n\n## 打开 fancybox 开关\n\n```yml\n# NexT _config.yml\nfancybox: true\n```\n\n## 加载资源\n\n### 方式1：CDN\n\n打开 NexT 配置文件FancyBox资源配置的注释即可！\n\n```yml\n# NexT _config.yml\n# FancyBox\n# jquery: //cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js\n# fancybox: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js\n# fancybox_css: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css\n```\n\n\n### 方式2：下载 fancybox 插件资源\n\n将 fancybox 包下载到 cd next/source/lib，并将资源解压（假如需要）后命名为 fancybox 即可！\n\nfancybox包：https://github.com/theme-next/theme-next-fancybox3\n\n\n# 评论插件(gittalk)\n\n仓库：https://github.com/gitalk/gitalk\n\nNexT已经内置，只需要修改NexT配置文件！\n\n```yml\n# Gitalk\n# For more information: https://gitalk.github.io, https://github.com/gitalk/gitalk\ngitalk:\n  enable: true\n  github_id:  # GitHub repo owner\n  repo:  # Repository name to store issues\n  client_id:  # GitHub Application Client ID\n  client_secret:  # GitHub Application Client Secret\n  admin_user:  # GitHub repo owner and collaborators, only these guys can initialize gitHub issues\n  distraction_free_mode: false # Facebook-like distraction free mode\n  # Gitalk's display language depends on user's browser or system environment\n  # If you want everyone visiting your site to see a uniform language, you can set a force language value\n  # Available values: en | es-ES | fr | ru | zh-CN | zh-TW\n  language: zh-CN\n```\n\n上面配置 client_id 和 client_secret 需要在github注册 OAuth App: \n\nhttps://github.com/settings/applications/new\n\n![](Snipaste_2023-02-16_13-28-44.png)\n\n```yml\nApplication name： # 应用名称，随意填写即可\nHomepage URL： # 你的网站地址，如https://yourname.github.io\nApplication description # 描述，随意填写即可\nAuthorization callback URL：# 你的网站地址，如https://yourname.github.io\n```\n\n## 参考\n\n- [hexo博客 NexT 7.7.0以后版本 gitalk配置](https://chenfeng2000.github.io/2020/01/30/NexT-7-7-0%E4%BB%A5%E5%90%8E%E7%89%88%E6%9C%AC-gitalk%E9%85%8D%E7%BD%AE/)\n- [Hexo 博客增加Valine/Gitalk评论插件](https://blog.mmzi.online/2021/07/10/Hexo-%E5%8D%9A%E5%AE%A2%E5%A2%9E%E5%8A%A0Valine%E5%92%8CGitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6/)\n- [github:gitalk/gitalk](https://github.com/gitalk/gitalk)\n\n# 参考\n\n- [NexT官方文档](https://theme-next.js.org/)\n- [初步了解Hexo站点的布局](https://www.jianshu.com/p/5a1e6d8c83af)\n- [hexo布局架构及功能分析](https://ben286.github.io/2018/08/21/%E5%85%B6%E4%BB%96/hexo%E5%B8%83%E5%B1%80%E6%9E%B6%E6%9E%84%E5%8F%8A%E5%8A%9F%E8%83%BD%E5%88%86%E6%9E%90/)\n- [Hexo使用攻略-添加分类及标签](https://linlif.github.io/2017/05/27/Hexo%E4%BD%BF%E7%94%A8%E6%94%BB%E7%95%A5-%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A0%87%E7%AD%BE/)","source":"_posts/hexo：从0开始与踩坑实录.md","raw":"---\ntitle: hexo：从0开始与踩坑实录\ndate: 2021-03-16 14:46:49\ncategories: \n- hexo\ntags:\n- hexo\ndescription: \" \"\n---\n\n# 下载插件\n\n## curl下载github zip链接\n\n```\ncurl -LJO https://github.com/theme-next/theme-next-fancybox3 \n```\n\n## unzip\n\n```\nunzip theme-next-fancybox3-master.zip\n```\n\n# page布局有什么用？\n\n官文档说的布局概念\n\n> ![](Snipaste_2023-02-14_21-58-08.png)\n\n**布局概念含糊不清！**\n\n# 为什么主页将所有文章以详情的形式全列出来了？\n\n文章没有添加 `description` 属性。形如\n\n```yml\n---\ntitle: hexo：从0开始与踩坑实录\ndate: 2021-03-16 14:46:49\ncategories: \n- hexo\ntags:\n- hexo\ndescription: 记录入坑hexo的过程中遇到的问题与最终解决\n---\n```\n\n只有添加 `description`并且字段值不为空（可以使用空格占位），才会以概览模式在主页列出所有文章！\n\n## 参考\n\n- [hexo小技巧-首页显示文章摘要及图片](https://ryderchan.github.io/2017/01/26/hexo%E5%B0%8F%E6%8A%80%E5%B7%A7-%E9%A6%96%E9%A1%B5%E6%98%BE%E7%A4%BA%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%E5%8F%8A%E5%9B%BE%E7%89%87/)\n\n\n\n# 文章中的图片的保存位置以及使用方式\n\n\n## post_asset_folder\n\n开启 `post_asset_folder`，将生成文章同名目录。可以使用路径访问此目录下的资源！\n\n```yml\n# _config.yml\npost_asset_folder: true\n```\n\n## 使用Markdown语法\n\n\n```yml\n# _config.yml\npost_asset_folder: true\nmarked:\n  prependRoot: true\n  postAsset: true\n```\n\n启用后，资源图片将会被自动解析为其对应文章的路径。\n例如： image.jpg 位置为 `/2020/01/02/foo/image.jpg` ，这表示它是 `/2020/01/02/foo/` 文章的一张资源图片， `![](image.jpg)` 将会被解析为 `<img src=\"/2020/01/02/foo/image.jpg\"> `。\n\n## 参考\n\n- hexo博客中如何插入图片: https://cloud.tencent.com/developer/article/1736563\n- 资源文件夹: https://hexo.io/zh-cn/docs/asset-folders\n\n\n\n# Next如何添加分类页与标签页？\n\n## 将Next配置文件中的Menu开启\n\n路径：themes/next/_config.yml\n\n将配置开启后，就可以在页面上看到 分类页 和 标签页 的入口。但是仅仅只有入口没有内容！\n\n```yml\n# ---------------------------------------------------------------\n# Menu Settings\n# ---------------------------------------------------------------\n\n# Usage: `Key: /link/ || icon`\n# Key is the name of menu item. If the translation for this item is available, the translated text will be loaded, otherwise the Key name will be used. Key is case-sensitive.\n# Value before `||` delimiter is the target link, value after `||` delimiter is the name of Font Awesome icon.\n# External url should start with http:// or https://\nmenu:\n  home: / || fa fa-home\n  # about: /about/ || fa fa-user\n  tags: /tags/ || fa fa-tags\n  categories: /categories/ || fa fa-th\n  archives: /archives/ || fa fa-archive\n  # schedule: /schedule/ || fa fa-calendar\n  #sitemap: /sitemap.xml || fa fa-sitemap\n  #commonweal: /404/ || fa fa-heartbeat\n```\n\n## 添加页面\n\n添加分类页面。执行下面命令将会生成 source/categories/index.md\n\n```shell\nhexo new page categories\n```\n\ncategories/index.md 的内容如下，还需做些必要修改：添加 `type: \"categories\"`\n\n```yml\n---\ntitle: categories\ndate: 2023-02-14 16:56:26\ntype: \"categories\"\n---\n```\n\n标签页的添加与以上大部分相似！需要注意的是：\n\n- 标签页创建：`hexo new page tags`；\n- 标签页属性修改：`type: \"tags\"`\n\n## 使用分类\n\n在 `source/_posts/` 目录的文章中的yml配置，添加 `categories` 属性。如下面例子。\n\n文章添加标签后，再编译就会生成对应的标签文件！\n\n\n```yml\n---\ntitle: 面试题62. 圆圈中最后剩下的数字\ndate: 2020-04-17 02:13:49\ncategories: \n- 算法题\ntags:\n- LCOF\ndescription: ' '\n---\n```\n\n## 编译\n\n编译后继承生成分类、标签目录，见下：\n\n```shell\ncategories\n├── hexo\n|  └── index.html\n├── index.html\n└── 算法题\n   └── index.html\n```\n\n\n-------------\n\n\n# 预览图片\n\n## 打开 fancybox 开关\n\n```yml\n# NexT _config.yml\nfancybox: true\n```\n\n## 加载资源\n\n### 方式1：CDN\n\n打开 NexT 配置文件FancyBox资源配置的注释即可！\n\n```yml\n# NexT _config.yml\n# FancyBox\n# jquery: //cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js\n# fancybox: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js\n# fancybox_css: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css\n```\n\n\n### 方式2：下载 fancybox 插件资源\n\n将 fancybox 包下载到 cd next/source/lib，并将资源解压（假如需要）后命名为 fancybox 即可！\n\nfancybox包：https://github.com/theme-next/theme-next-fancybox3\n\n\n# 评论插件(gittalk)\n\n仓库：https://github.com/gitalk/gitalk\n\nNexT已经内置，只需要修改NexT配置文件！\n\n```yml\n# Gitalk\n# For more information: https://gitalk.github.io, https://github.com/gitalk/gitalk\ngitalk:\n  enable: true\n  github_id:  # GitHub repo owner\n  repo:  # Repository name to store issues\n  client_id:  # GitHub Application Client ID\n  client_secret:  # GitHub Application Client Secret\n  admin_user:  # GitHub repo owner and collaborators, only these guys can initialize gitHub issues\n  distraction_free_mode: false # Facebook-like distraction free mode\n  # Gitalk's display language depends on user's browser or system environment\n  # If you want everyone visiting your site to see a uniform language, you can set a force language value\n  # Available values: en | es-ES | fr | ru | zh-CN | zh-TW\n  language: zh-CN\n```\n\n上面配置 client_id 和 client_secret 需要在github注册 OAuth App: \n\nhttps://github.com/settings/applications/new\n\n![](Snipaste_2023-02-16_13-28-44.png)\n\n```yml\nApplication name： # 应用名称，随意填写即可\nHomepage URL： # 你的网站地址，如https://yourname.github.io\nApplication description # 描述，随意填写即可\nAuthorization callback URL：# 你的网站地址，如https://yourname.github.io\n```\n\n## 参考\n\n- [hexo博客 NexT 7.7.0以后版本 gitalk配置](https://chenfeng2000.github.io/2020/01/30/NexT-7-7-0%E4%BB%A5%E5%90%8E%E7%89%88%E6%9C%AC-gitalk%E9%85%8D%E7%BD%AE/)\n- [Hexo 博客增加Valine/Gitalk评论插件](https://blog.mmzi.online/2021/07/10/Hexo-%E5%8D%9A%E5%AE%A2%E5%A2%9E%E5%8A%A0Valine%E5%92%8CGitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6/)\n- [github:gitalk/gitalk](https://github.com/gitalk/gitalk)\n\n# 参考\n\n- [NexT官方文档](https://theme-next.js.org/)\n- [初步了解Hexo站点的布局](https://www.jianshu.com/p/5a1e6d8c83af)\n- [hexo布局架构及功能分析](https://ben286.github.io/2018/08/21/%E5%85%B6%E4%BB%96/hexo%E5%B8%83%E5%B1%80%E6%9E%B6%E6%9E%84%E5%8F%8A%E5%8A%9F%E8%83%BD%E5%88%86%E6%9E%90/)\n- [Hexo使用攻略-添加分类及标签](https://linlif.github.io/2017/05/27/Hexo%E4%BD%BF%E7%94%A8%E6%94%BB%E7%95%A5-%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A0%87%E7%AD%BE/)","slug":"hexo：从0开始与踩坑实录","published":1,"updated":"2023-02-16T18:58:25.373Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cle932v620003pknrfbwkcnd1","content":"<h1 id=\"下载插件\"><a href=\"#下载插件\" class=\"headerlink\" title=\"下载插件\"></a>下载插件</h1><h2 id=\"curl下载github-zip链接\"><a href=\"#curl下载github-zip链接\" class=\"headerlink\" title=\"curl下载github zip链接\"></a>curl下载github zip链接</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -LJO https://github.com/theme-next/theme-next-fancybox3 </span><br></pre></td></tr></table></figure>\n\n<h2 id=\"unzip\"><a href=\"#unzip\" class=\"headerlink\" title=\"unzip\"></a>unzip</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">unzip theme-next-fancybox3-master.zip</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"page布局有什么用？\"><a href=\"#page布局有什么用？\" class=\"headerlink\" title=\"page布局有什么用？\"></a>page布局有什么用？</h1><p>官文档说的布局概念</p>\n<blockquote>\n<p><img src=\"/blog/2021/03/16/hexo%EF%BC%9A%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%B8%8E%E8%B8%A9%E5%9D%91%E5%AE%9E%E5%BD%95/Snipaste_2023-02-14_21-58-08.png\"></p>\n</blockquote>\n<p><strong>布局概念含糊不清！</strong></p>\n<h1 id=\"为什么主页将所有文章以详情的形式全列出来了？\"><a href=\"#为什么主页将所有文章以详情的形式全列出来了？\" class=\"headerlink\" title=\"为什么主页将所有文章以详情的形式全列出来了？\"></a>为什么主页将所有文章以详情的形式全列出来了？</h1><p>文章没有添加 <code>description</code> 属性。形如</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">hexo：从0开始与踩坑实录</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2021-03-16 14:46:49</span></span><br><span class=\"line\"><span class=\"attr\">categories:</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">hexo</span></span><br><span class=\"line\"><span class=\"attr\">tags:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">hexo</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">记录入坑hexo的过程中遇到的问题与最终解决</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n\n<p>只有添加 <code>description</code>并且字段值不为空（可以使用空格占位），才会以概览模式在主页列出所有文章！</p>\n<h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li><a href=\"https://ryderchan.github.io/2017/01/26/hexo%E5%B0%8F%E6%8A%80%E5%B7%A7-%E9%A6%96%E9%A1%B5%E6%98%BE%E7%A4%BA%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%E5%8F%8A%E5%9B%BE%E7%89%87/\">hexo小技巧-首页显示文章摘要及图片</a></li>\n</ul>\n<h1 id=\"文章中的图片的保存位置以及使用方式\"><a href=\"#文章中的图片的保存位置以及使用方式\" class=\"headerlink\" title=\"文章中的图片的保存位置以及使用方式\"></a>文章中的图片的保存位置以及使用方式</h1><h2 id=\"post-asset-folder\"><a href=\"#post-asset-folder\" class=\"headerlink\" title=\"post_asset_folder\"></a>post_asset_folder</h2><p>开启 <code>post_asset_folder</code>，将生成文章同名目录。可以使用路径访问此目录下的资源！</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># _config.yml</span></span><br><span class=\"line\"><span class=\"attr\">post_asset_folder:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"使用Markdown语法\"><a href=\"#使用Markdown语法\" class=\"headerlink\" title=\"使用Markdown语法\"></a>使用Markdown语法</h2><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># _config.yml</span></span><br><span class=\"line\"><span class=\"attr\">post_asset_folder:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">marked:</span></span><br><span class=\"line\">  <span class=\"attr\">prependRoot:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">postAsset:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<p>启用后，资源图片将会被自动解析为其对应文章的路径。<br>例如： image.jpg 位置为 <code>/2020/01/02/foo/image.jpg</code> ，这表示它是 <code>/2020/01/02/foo/</code> 文章的一张资源图片， <code>![](image.jpg)</code> 将会被解析为 <code>&lt;img src=&quot;/2020/01/02/foo/image.jpg&quot;&gt; </code>。</p>\n<h2 id=\"参考-1\"><a href=\"#参考-1\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li>hexo博客中如何插入图片: <a href=\"https://cloud.tencent.com/developer/article/1736563\">https://cloud.tencent.com/developer/article/1736563</a></li>\n<li>资源文件夹: <a href=\"https://hexo.io/zh-cn/docs/asset-folders\">https://hexo.io/zh-cn/docs/asset-folders</a></li>\n</ul>\n<h1 id=\"Next如何添加分类页与标签页？\"><a href=\"#Next如何添加分类页与标签页？\" class=\"headerlink\" title=\"Next如何添加分类页与标签页？\"></a>Next如何添加分类页与标签页？</h1><h2 id=\"将Next配置文件中的Menu开启\"><a href=\"#将Next配置文件中的Menu开启\" class=\"headerlink\" title=\"将Next配置文件中的Menu开启\"></a>将Next配置文件中的Menu开启</h2><p>路径：themes&#x2F;next&#x2F;_config.yml</p>\n<p>将配置开启后，就可以在页面上看到 分类页 和 标签页 的入口。但是仅仅只有入口没有内容！</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Menu Settings</span></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Usage: `Key: /link/ || icon`</span></span><br><span class=\"line\"><span class=\"comment\"># Key is the name of menu item. If the translation for this item is available, the translated text will be loaded, otherwise the Key name will be used. Key is case-sensitive.</span></span><br><span class=\"line\"><span class=\"comment\"># Value before `||` delimiter is the target link, value after `||` delimiter is the name of Font Awesome icon.</span></span><br><span class=\"line\"><span class=\"comment\"># External url should start with http:// or https://</span></span><br><span class=\"line\"><span class=\"attr\">menu:</span></span><br><span class=\"line\">  <span class=\"attr\">home:</span> <span class=\"string\">/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-home</span></span><br><span class=\"line\">  <span class=\"comment\"># about: /about/ || fa fa-user</span></span><br><span class=\"line\">  <span class=\"attr\">tags:</span> <span class=\"string\">/tags/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-tags</span></span><br><span class=\"line\">  <span class=\"attr\">categories:</span> <span class=\"string\">/categories/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-th</span></span><br><span class=\"line\">  <span class=\"attr\">archives:</span> <span class=\"string\">/archives/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-archive</span></span><br><span class=\"line\">  <span class=\"comment\"># schedule: /schedule/ || fa fa-calendar</span></span><br><span class=\"line\">  <span class=\"comment\">#sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class=\"line\">  <span class=\"comment\">#commonweal: /404/ || fa fa-heartbeat</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"添加页面\"><a href=\"#添加页面\" class=\"headerlink\" title=\"添加页面\"></a>添加页面</h2><p>添加分类页面。执行下面命令将会生成 source&#x2F;categories&#x2F;index.md</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new page categories</span><br></pre></td></tr></table></figure>\n\n<p>categories&#x2F;index.md 的内容如下，还需做些必要修改：添加 <code>type: &quot;categories&quot;</code></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">categories</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2023-02-14 16:56:26</span></span><br><span class=\"line\"><span class=\"attr\">type:</span> <span class=\"string\">&quot;categories&quot;</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n\n<p>标签页的添加与以上大部分相似！需要注意的是：</p>\n<ul>\n<li>标签页创建：<code>hexo new page tags</code>；</li>\n<li>标签页属性修改：<code>type: &quot;tags&quot;</code></li>\n</ul>\n<h2 id=\"使用分类\"><a href=\"#使用分类\" class=\"headerlink\" title=\"使用分类\"></a>使用分类</h2><p>在 <code>source/_posts/</code> 目录的文章中的yml配置，添加 <code>categories</code> 属性。如下面例子。</p>\n<p>文章添加标签后，再编译就会生成对应的标签文件！</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">面试题62.</span> <span class=\"string\">圆圈中最后剩下的数字</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2020-04-17 02:13:49</span></span><br><span class=\"line\"><span class=\"attr\">categories:</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">算法题</span></span><br><span class=\"line\"><span class=\"attr\">tags:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">LCOF</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">&#x27; &#x27;</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"编译\"><a href=\"#编译\" class=\"headerlink\" title=\"编译\"></a>编译</h2><p>编译后继承生成分类、标签目录，见下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">categories</span><br><span class=\"line\">├── hexo</span><br><span class=\"line\">|  └── index.html</span><br><span class=\"line\">├── index.html</span><br><span class=\"line\">└── 算法题</span><br><span class=\"line\">   └── index.html</span><br></pre></td></tr></table></figure>\n\n\n<hr>\n<h1 id=\"预览图片\"><a href=\"#预览图片\" class=\"headerlink\" title=\"预览图片\"></a>预览图片</h1><h2 id=\"打开-fancybox-开关\"><a href=\"#打开-fancybox-开关\" class=\"headerlink\" title=\"打开 fancybox 开关\"></a>打开 fancybox 开关</h2><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># NexT _config.yml</span></span><br><span class=\"line\"><span class=\"attr\">fancybox:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"加载资源\"><a href=\"#加载资源\" class=\"headerlink\" title=\"加载资源\"></a>加载资源</h2><h3 id=\"方式1：CDN\"><a href=\"#方式1：CDN\" class=\"headerlink\" title=\"方式1：CDN\"></a>方式1：CDN</h3><p>打开 NexT 配置文件FancyBox资源配置的注释即可！</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># NexT _config.yml</span></span><br><span class=\"line\"><span class=\"comment\"># FancyBox</span></span><br><span class=\"line\"><span class=\"comment\"># jquery: //cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js</span></span><br><span class=\"line\"><span class=\"comment\"># fancybox: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js</span></span><br><span class=\"line\"><span class=\"comment\"># fancybox_css: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css</span></span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"方式2：下载-fancybox-插件资源\"><a href=\"#方式2：下载-fancybox-插件资源\" class=\"headerlink\" title=\"方式2：下载 fancybox 插件资源\"></a>方式2：下载 fancybox 插件资源</h3><p>将 fancybox 包下载到 cd next&#x2F;source&#x2F;lib，并将资源解压（假如需要）后命名为 fancybox 即可！</p>\n<p>fancybox包：<a href=\"https://github.com/theme-next/theme-next-fancybox3\">https://github.com/theme-next/theme-next-fancybox3</a></p>\n<h1 id=\"评论插件-gittalk\"><a href=\"#评论插件-gittalk\" class=\"headerlink\" title=\"评论插件(gittalk)\"></a>评论插件(gittalk)</h1><p>仓库：<a href=\"https://github.com/gitalk/gitalk\">https://github.com/gitalk/gitalk</a></p>\n<p>NexT已经内置，只需要修改NexT配置文件！</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Gitalk</span></span><br><span class=\"line\"><span class=\"comment\"># For more information: https://gitalk.github.io, https://github.com/gitalk/gitalk</span></span><br><span class=\"line\"><span class=\"attr\">gitalk:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">github_id:</span>  <span class=\"comment\"># GitHub repo owner</span></span><br><span class=\"line\">  <span class=\"attr\">repo:</span>  <span class=\"comment\"># Repository name to store issues</span></span><br><span class=\"line\">  <span class=\"attr\">client_id:</span>  <span class=\"comment\"># GitHub Application Client ID</span></span><br><span class=\"line\">  <span class=\"attr\">client_secret:</span>  <span class=\"comment\"># GitHub Application Client Secret</span></span><br><span class=\"line\">  <span class=\"attr\">admin_user:</span>  <span class=\"comment\"># GitHub repo owner and collaborators, only these guys can initialize gitHub issues</span></span><br><span class=\"line\">  <span class=\"attr\">distraction_free_mode:</span> <span class=\"literal\">false</span> <span class=\"comment\"># Facebook-like distraction free mode</span></span><br><span class=\"line\">  <span class=\"comment\"># Gitalk&#x27;s display language depends on user&#x27;s browser or system environment</span></span><br><span class=\"line\">  <span class=\"comment\"># If you want everyone visiting your site to see a uniform language, you can set a force language value</span></span><br><span class=\"line\">  <span class=\"comment\"># Available values: en | es-ES | fr | ru | zh-CN | zh-TW</span></span><br><span class=\"line\">  <span class=\"attr\">language:</span> <span class=\"string\">zh-CN</span></span><br></pre></td></tr></table></figure>\n\n<p>上面配置 client_id 和 client_secret 需要在github注册 OAuth App: </p>\n<p><a href=\"https://github.com/settings/applications/new\">https://github.com/settings/applications/new</a></p>\n<p><img src=\"/blog/2021/03/16/hexo%EF%BC%9A%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%B8%8E%E8%B8%A9%E5%9D%91%E5%AE%9E%E5%BD%95/Snipaste_2023-02-16_13-28-44.png\"></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">Application</span> <span class=\"string\">name：</span> <span class=\"comment\"># 应用名称，随意填写即可</span></span><br><span class=\"line\"><span class=\"string\">Homepage</span> <span class=\"string\">URL：</span> <span class=\"comment\"># 你的网站地址，如https://yourname.github.io</span></span><br><span class=\"line\"><span class=\"string\">Application</span> <span class=\"string\">description</span> <span class=\"comment\"># 描述，随意填写即可</span></span><br><span class=\"line\"><span class=\"string\">Authorization</span> <span class=\"string\">callback</span> <span class=\"string\">URL：#</span> <span class=\"string\">你的网站地址，如https://yourname.github.io</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"参考-2\"><a href=\"#参考-2\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li><a href=\"https://chenfeng2000.github.io/2020/01/30/NexT-7-7-0%E4%BB%A5%E5%90%8E%E7%89%88%E6%9C%AC-gitalk%E9%85%8D%E7%BD%AE/\">hexo博客 NexT 7.7.0以后版本 gitalk配置</a></li>\n<li><a href=\"https://blog.mmzi.online/2021/07/10/Hexo-%E5%8D%9A%E5%AE%A2%E5%A2%9E%E5%8A%A0Valine%E5%92%8CGitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6/\">Hexo 博客增加Valine&#x2F;Gitalk评论插件</a></li>\n<li><a href=\"https://github.com/gitalk/gitalk\">github:gitalk&#x2F;gitalk</a></li>\n</ul>\n<h1 id=\"参考-3\"><a href=\"#参考-3\" class=\"headerlink\" title=\"参考\"></a>参考</h1><ul>\n<li><a href=\"https://theme-next.js.org/\">NexT官方文档</a></li>\n<li><a href=\"https://www.jianshu.com/p/5a1e6d8c83af\">初步了解Hexo站点的布局</a></li>\n<li><a href=\"https://ben286.github.io/2018/08/21/%E5%85%B6%E4%BB%96/hexo%E5%B8%83%E5%B1%80%E6%9E%B6%E6%9E%84%E5%8F%8A%E5%8A%9F%E8%83%BD%E5%88%86%E6%9E%90/\">hexo布局架构及功能分析</a></li>\n<li><a href=\"https://linlif.github.io/2017/05/27/Hexo%E4%BD%BF%E7%94%A8%E6%94%BB%E7%95%A5-%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A0%87%E7%AD%BE/\">Hexo使用攻略-添加分类及标签</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"下载插件\"><a href=\"#下载插件\" class=\"headerlink\" title=\"下载插件\"></a>下载插件</h1><h2 id=\"curl下载github-zip链接\"><a href=\"#curl下载github-zip链接\" class=\"headerlink\" title=\"curl下载github zip链接\"></a>curl下载github zip链接</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -LJO https://github.com/theme-next/theme-next-fancybox3 </span><br></pre></td></tr></table></figure>\n\n<h2 id=\"unzip\"><a href=\"#unzip\" class=\"headerlink\" title=\"unzip\"></a>unzip</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">unzip theme-next-fancybox3-master.zip</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"page布局有什么用？\"><a href=\"#page布局有什么用？\" class=\"headerlink\" title=\"page布局有什么用？\"></a>page布局有什么用？</h1><p>官文档说的布局概念</p>\n<blockquote>\n<p><img src=\"/blog/2021/03/16/hexo%EF%BC%9A%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%B8%8E%E8%B8%A9%E5%9D%91%E5%AE%9E%E5%BD%95/Snipaste_2023-02-14_21-58-08.png\"></p>\n</blockquote>\n<p><strong>布局概念含糊不清！</strong></p>\n<h1 id=\"为什么主页将所有文章以详情的形式全列出来了？\"><a href=\"#为什么主页将所有文章以详情的形式全列出来了？\" class=\"headerlink\" title=\"为什么主页将所有文章以详情的形式全列出来了？\"></a>为什么主页将所有文章以详情的形式全列出来了？</h1><p>文章没有添加 <code>description</code> 属性。形如</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">hexo：从0开始与踩坑实录</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2021-03-16 14:46:49</span></span><br><span class=\"line\"><span class=\"attr\">categories:</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">hexo</span></span><br><span class=\"line\"><span class=\"attr\">tags:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">hexo</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">记录入坑hexo的过程中遇到的问题与最终解决</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n\n<p>只有添加 <code>description</code>并且字段值不为空（可以使用空格占位），才会以概览模式在主页列出所有文章！</p>\n<h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li><a href=\"https://ryderchan.github.io/2017/01/26/hexo%E5%B0%8F%E6%8A%80%E5%B7%A7-%E9%A6%96%E9%A1%B5%E6%98%BE%E7%A4%BA%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%E5%8F%8A%E5%9B%BE%E7%89%87/\">hexo小技巧-首页显示文章摘要及图片</a></li>\n</ul>\n<h1 id=\"文章中的图片的保存位置以及使用方式\"><a href=\"#文章中的图片的保存位置以及使用方式\" class=\"headerlink\" title=\"文章中的图片的保存位置以及使用方式\"></a>文章中的图片的保存位置以及使用方式</h1><h2 id=\"post-asset-folder\"><a href=\"#post-asset-folder\" class=\"headerlink\" title=\"post_asset_folder\"></a>post_asset_folder</h2><p>开启 <code>post_asset_folder</code>，将生成文章同名目录。可以使用路径访问此目录下的资源！</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># _config.yml</span></span><br><span class=\"line\"><span class=\"attr\">post_asset_folder:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"使用Markdown语法\"><a href=\"#使用Markdown语法\" class=\"headerlink\" title=\"使用Markdown语法\"></a>使用Markdown语法</h2><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># _config.yml</span></span><br><span class=\"line\"><span class=\"attr\">post_asset_folder:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">marked:</span></span><br><span class=\"line\">  <span class=\"attr\">prependRoot:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">postAsset:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<p>启用后，资源图片将会被自动解析为其对应文章的路径。<br>例如： image.jpg 位置为 <code>/2020/01/02/foo/image.jpg</code> ，这表示它是 <code>/2020/01/02/foo/</code> 文章的一张资源图片， <code>![](image.jpg)</code> 将会被解析为 <code>&lt;img src=&quot;/2020/01/02/foo/image.jpg&quot;&gt; </code>。</p>\n<h2 id=\"参考-1\"><a href=\"#参考-1\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li>hexo博客中如何插入图片: <a href=\"https://cloud.tencent.com/developer/article/1736563\">https://cloud.tencent.com/developer/article/1736563</a></li>\n<li>资源文件夹: <a href=\"https://hexo.io/zh-cn/docs/asset-folders\">https://hexo.io/zh-cn/docs/asset-folders</a></li>\n</ul>\n<h1 id=\"Next如何添加分类页与标签页？\"><a href=\"#Next如何添加分类页与标签页？\" class=\"headerlink\" title=\"Next如何添加分类页与标签页？\"></a>Next如何添加分类页与标签页？</h1><h2 id=\"将Next配置文件中的Menu开启\"><a href=\"#将Next配置文件中的Menu开启\" class=\"headerlink\" title=\"将Next配置文件中的Menu开启\"></a>将Next配置文件中的Menu开启</h2><p>路径：themes&#x2F;next&#x2F;_config.yml</p>\n<p>将配置开启后，就可以在页面上看到 分类页 和 标签页 的入口。但是仅仅只有入口没有内容！</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Menu Settings</span></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Usage: `Key: /link/ || icon`</span></span><br><span class=\"line\"><span class=\"comment\"># Key is the name of menu item. If the translation for this item is available, the translated text will be loaded, otherwise the Key name will be used. Key is case-sensitive.</span></span><br><span class=\"line\"><span class=\"comment\"># Value before `||` delimiter is the target link, value after `||` delimiter is the name of Font Awesome icon.</span></span><br><span class=\"line\"><span class=\"comment\"># External url should start with http:// or https://</span></span><br><span class=\"line\"><span class=\"attr\">menu:</span></span><br><span class=\"line\">  <span class=\"attr\">home:</span> <span class=\"string\">/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-home</span></span><br><span class=\"line\">  <span class=\"comment\"># about: /about/ || fa fa-user</span></span><br><span class=\"line\">  <span class=\"attr\">tags:</span> <span class=\"string\">/tags/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-tags</span></span><br><span class=\"line\">  <span class=\"attr\">categories:</span> <span class=\"string\">/categories/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-th</span></span><br><span class=\"line\">  <span class=\"attr\">archives:</span> <span class=\"string\">/archives/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-archive</span></span><br><span class=\"line\">  <span class=\"comment\"># schedule: /schedule/ || fa fa-calendar</span></span><br><span class=\"line\">  <span class=\"comment\">#sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class=\"line\">  <span class=\"comment\">#commonweal: /404/ || fa fa-heartbeat</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"添加页面\"><a href=\"#添加页面\" class=\"headerlink\" title=\"添加页面\"></a>添加页面</h2><p>添加分类页面。执行下面命令将会生成 source&#x2F;categories&#x2F;index.md</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new page categories</span><br></pre></td></tr></table></figure>\n\n<p>categories&#x2F;index.md 的内容如下，还需做些必要修改：添加 <code>type: &quot;categories&quot;</code></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">categories</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2023-02-14 16:56:26</span></span><br><span class=\"line\"><span class=\"attr\">type:</span> <span class=\"string\">&quot;categories&quot;</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n\n<p>标签页的添加与以上大部分相似！需要注意的是：</p>\n<ul>\n<li>标签页创建：<code>hexo new page tags</code>；</li>\n<li>标签页属性修改：<code>type: &quot;tags&quot;</code></li>\n</ul>\n<h2 id=\"使用分类\"><a href=\"#使用分类\" class=\"headerlink\" title=\"使用分类\"></a>使用分类</h2><p>在 <code>source/_posts/</code> 目录的文章中的yml配置，添加 <code>categories</code> 属性。如下面例子。</p>\n<p>文章添加标签后，再编译就会生成对应的标签文件！</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">面试题62.</span> <span class=\"string\">圆圈中最后剩下的数字</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2020-04-17 02:13:49</span></span><br><span class=\"line\"><span class=\"attr\">categories:</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">算法题</span></span><br><span class=\"line\"><span class=\"attr\">tags:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">LCOF</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">&#x27; &#x27;</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"编译\"><a href=\"#编译\" class=\"headerlink\" title=\"编译\"></a>编译</h2><p>编译后继承生成分类、标签目录，见下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">categories</span><br><span class=\"line\">├── hexo</span><br><span class=\"line\">|  └── index.html</span><br><span class=\"line\">├── index.html</span><br><span class=\"line\">└── 算法题</span><br><span class=\"line\">   └── index.html</span><br></pre></td></tr></table></figure>\n\n\n<hr>\n<h1 id=\"预览图片\"><a href=\"#预览图片\" class=\"headerlink\" title=\"预览图片\"></a>预览图片</h1><h2 id=\"打开-fancybox-开关\"><a href=\"#打开-fancybox-开关\" class=\"headerlink\" title=\"打开 fancybox 开关\"></a>打开 fancybox 开关</h2><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># NexT _config.yml</span></span><br><span class=\"line\"><span class=\"attr\">fancybox:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"加载资源\"><a href=\"#加载资源\" class=\"headerlink\" title=\"加载资源\"></a>加载资源</h2><h3 id=\"方式1：CDN\"><a href=\"#方式1：CDN\" class=\"headerlink\" title=\"方式1：CDN\"></a>方式1：CDN</h3><p>打开 NexT 配置文件FancyBox资源配置的注释即可！</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># NexT _config.yml</span></span><br><span class=\"line\"><span class=\"comment\"># FancyBox</span></span><br><span class=\"line\"><span class=\"comment\"># jquery: //cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js</span></span><br><span class=\"line\"><span class=\"comment\"># fancybox: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js</span></span><br><span class=\"line\"><span class=\"comment\"># fancybox_css: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css</span></span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"方式2：下载-fancybox-插件资源\"><a href=\"#方式2：下载-fancybox-插件资源\" class=\"headerlink\" title=\"方式2：下载 fancybox 插件资源\"></a>方式2：下载 fancybox 插件资源</h3><p>将 fancybox 包下载到 cd next&#x2F;source&#x2F;lib，并将资源解压（假如需要）后命名为 fancybox 即可！</p>\n<p>fancybox包：<a href=\"https://github.com/theme-next/theme-next-fancybox3\">https://github.com/theme-next/theme-next-fancybox3</a></p>\n<h1 id=\"评论插件-gittalk\"><a href=\"#评论插件-gittalk\" class=\"headerlink\" title=\"评论插件(gittalk)\"></a>评论插件(gittalk)</h1><p>仓库：<a href=\"https://github.com/gitalk/gitalk\">https://github.com/gitalk/gitalk</a></p>\n<p>NexT已经内置，只需要修改NexT配置文件！</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Gitalk</span></span><br><span class=\"line\"><span class=\"comment\"># For more information: https://gitalk.github.io, https://github.com/gitalk/gitalk</span></span><br><span class=\"line\"><span class=\"attr\">gitalk:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">github_id:</span>  <span class=\"comment\"># GitHub repo owner</span></span><br><span class=\"line\">  <span class=\"attr\">repo:</span>  <span class=\"comment\"># Repository name to store issues</span></span><br><span class=\"line\">  <span class=\"attr\">client_id:</span>  <span class=\"comment\"># GitHub Application Client ID</span></span><br><span class=\"line\">  <span class=\"attr\">client_secret:</span>  <span class=\"comment\"># GitHub Application Client Secret</span></span><br><span class=\"line\">  <span class=\"attr\">admin_user:</span>  <span class=\"comment\"># GitHub repo owner and collaborators, only these guys can initialize gitHub issues</span></span><br><span class=\"line\">  <span class=\"attr\">distraction_free_mode:</span> <span class=\"literal\">false</span> <span class=\"comment\"># Facebook-like distraction free mode</span></span><br><span class=\"line\">  <span class=\"comment\"># Gitalk&#x27;s display language depends on user&#x27;s browser or system environment</span></span><br><span class=\"line\">  <span class=\"comment\"># If you want everyone visiting your site to see a uniform language, you can set a force language value</span></span><br><span class=\"line\">  <span class=\"comment\"># Available values: en | es-ES | fr | ru | zh-CN | zh-TW</span></span><br><span class=\"line\">  <span class=\"attr\">language:</span> <span class=\"string\">zh-CN</span></span><br></pre></td></tr></table></figure>\n\n<p>上面配置 client_id 和 client_secret 需要在github注册 OAuth App: </p>\n<p><a href=\"https://github.com/settings/applications/new\">https://github.com/settings/applications/new</a></p>\n<p><img src=\"/blog/2021/03/16/hexo%EF%BC%9A%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%B8%8E%E8%B8%A9%E5%9D%91%E5%AE%9E%E5%BD%95/Snipaste_2023-02-16_13-28-44.png\"></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">Application</span> <span class=\"string\">name：</span> <span class=\"comment\"># 应用名称，随意填写即可</span></span><br><span class=\"line\"><span class=\"string\">Homepage</span> <span class=\"string\">URL：</span> <span class=\"comment\"># 你的网站地址，如https://yourname.github.io</span></span><br><span class=\"line\"><span class=\"string\">Application</span> <span class=\"string\">description</span> <span class=\"comment\"># 描述，随意填写即可</span></span><br><span class=\"line\"><span class=\"string\">Authorization</span> <span class=\"string\">callback</span> <span class=\"string\">URL：#</span> <span class=\"string\">你的网站地址，如https://yourname.github.io</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"参考-2\"><a href=\"#参考-2\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li><a href=\"https://chenfeng2000.github.io/2020/01/30/NexT-7-7-0%E4%BB%A5%E5%90%8E%E7%89%88%E6%9C%AC-gitalk%E9%85%8D%E7%BD%AE/\">hexo博客 NexT 7.7.0以后版本 gitalk配置</a></li>\n<li><a href=\"https://blog.mmzi.online/2021/07/10/Hexo-%E5%8D%9A%E5%AE%A2%E5%A2%9E%E5%8A%A0Valine%E5%92%8CGitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6/\">Hexo 博客增加Valine&#x2F;Gitalk评论插件</a></li>\n<li><a href=\"https://github.com/gitalk/gitalk\">github:gitalk&#x2F;gitalk</a></li>\n</ul>\n<h1 id=\"参考-3\"><a href=\"#参考-3\" class=\"headerlink\" title=\"参考\"></a>参考</h1><ul>\n<li><a href=\"https://theme-next.js.org/\">NexT官方文档</a></li>\n<li><a href=\"https://www.jianshu.com/p/5a1e6d8c83af\">初步了解Hexo站点的布局</a></li>\n<li><a href=\"https://ben286.github.io/2018/08/21/%E5%85%B6%E4%BB%96/hexo%E5%B8%83%E5%B1%80%E6%9E%B6%E6%9E%84%E5%8F%8A%E5%8A%9F%E8%83%BD%E5%88%86%E6%9E%90/\">hexo布局架构及功能分析</a></li>\n<li><a href=\"https://linlif.github.io/2017/05/27/Hexo%E4%BD%BF%E7%94%A8%E6%94%BB%E7%95%A5-%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A0%87%E7%AD%BE/\">Hexo使用攻略-添加分类及标签</a></li>\n</ul>\n"},{"title":"面试题46. 把数字翻译成字符串","date":"2020-04-16T18:13:49.000Z","description":" ","_content":"\n给定一个数字，我们按照如下规则把它翻译为字符串：0 翻译成 “a” ，1 翻译成 “b”，……，11 翻译成 “l”，……，25 翻译成 “z”。一个数字可能有多个翻译。请编程实现一个函数，用来计算一个数字有多少种不同的翻译方法。\n\n \n\n示例 1:\n\n输入: 12258\n输出: 5\n解释: 12258有5种不同的翻译，分别是\"bccfi\", \"bwfi\", \"bczi\", \"mcfi\"和\"mzi\"\n \n\n提示：\n\n0 <= num < 231\n\n来源：力扣（LeetCode）\n链接：https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof\n\n## 1.深度优遍历\n\n```js\n/**\n * @param {number} num\n * @return {number}\n */\nvar translateNum1 = function(num) {\n  let count = 0;\n  dfs(num + '', 0);\n  function dfs(str, start) {\n    if (start >= str.length) return ++count;\n    const num1 = +(str[start]);\n    const num2 = +(str[start] + str[start+1]);\n    \n    dfs(str, start + 1);\n    if (9 < num2 && num2 < 26) {\n      dfs(str, start + 2);\n    }\n  }\n  return count;\n};\n```\n\n## 2.动态规划\n\n```js\n/**\n * dp[i]：长度为i字符串的翻译方法数\n * 最优子结构：dp[i-1]:最后单字符翻译，dp[i-2]：最后双字符翻译\n * 状态转移方程：dp[i] = isValid(s[i-1]+s[i-2]) ? dp[i-1] + dp[i-2] : dp[i-1]\n * @param {number} num\n * @return {number}\n */\nvar translateNum2 = function(num) {\n  const str = '_' + num;\n  // [0, pos)\n  let dp1 = 1;\n  let dp2 = 1;\n  for (let i = 3; i <= str.length; i++) {\n    let tmp = dp2;\n    const num = str[i-2] + str[i - 1];\n    if (9 < +num && +num < 26) {\n      dp2 = dp2 + dp1;\n    }\n    dp1 = tmp;\n  }\n  return dp2;\n};\n```\n\n## 3.动态规划（优化）\n\n```js\n/**\n * @param {number} num\n * @return {number}\n */\nvar translateNum3 = function(num) {\n  const str = '_' + num;\n  // [0, pos)\n  let dp1 = 1;\n  let dp2 = 1;\n  for (let i = 2; i < str.length; i++) {\n    let tmp = dp2;\n    const num = str[i-1] + str[i];\n    if (9 < +num && +num < 26) {\n      dp2 = dp2 + dp1;\n    }\n    dp1 = tmp;\n  }\n  return dp2;\n};\n```\n","source":"_posts/面试题46-把数字翻译成字符串.md","raw":"---\ntitle: 面试题46. 把数字翻译成字符串\ndate: 2020-04-17 02:13:49\ncategories: \n- 算法题\ntags:\n- LCOF\ndescription: ' '\n---\n\n给定一个数字，我们按照如下规则把它翻译为字符串：0 翻译成 “a” ，1 翻译成 “b”，……，11 翻译成 “l”，……，25 翻译成 “z”。一个数字可能有多个翻译。请编程实现一个函数，用来计算一个数字有多少种不同的翻译方法。\n\n \n\n示例 1:\n\n输入: 12258\n输出: 5\n解释: 12258有5种不同的翻译，分别是\"bccfi\", \"bwfi\", \"bczi\", \"mcfi\"和\"mzi\"\n \n\n提示：\n\n0 <= num < 231\n\n来源：力扣（LeetCode）\n链接：https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof\n\n## 1.深度优遍历\n\n```js\n/**\n * @param {number} num\n * @return {number}\n */\nvar translateNum1 = function(num) {\n  let count = 0;\n  dfs(num + '', 0);\n  function dfs(str, start) {\n    if (start >= str.length) return ++count;\n    const num1 = +(str[start]);\n    const num2 = +(str[start] + str[start+1]);\n    \n    dfs(str, start + 1);\n    if (9 < num2 && num2 < 26) {\n      dfs(str, start + 2);\n    }\n  }\n  return count;\n};\n```\n\n## 2.动态规划\n\n```js\n/**\n * dp[i]：长度为i字符串的翻译方法数\n * 最优子结构：dp[i-1]:最后单字符翻译，dp[i-2]：最后双字符翻译\n * 状态转移方程：dp[i] = isValid(s[i-1]+s[i-2]) ? dp[i-1] + dp[i-2] : dp[i-1]\n * @param {number} num\n * @return {number}\n */\nvar translateNum2 = function(num) {\n  const str = '_' + num;\n  // [0, pos)\n  let dp1 = 1;\n  let dp2 = 1;\n  for (let i = 3; i <= str.length; i++) {\n    let tmp = dp2;\n    const num = str[i-2] + str[i - 1];\n    if (9 < +num && +num < 26) {\n      dp2 = dp2 + dp1;\n    }\n    dp1 = tmp;\n  }\n  return dp2;\n};\n```\n\n## 3.动态规划（优化）\n\n```js\n/**\n * @param {number} num\n * @return {number}\n */\nvar translateNum3 = function(num) {\n  const str = '_' + num;\n  // [0, pos)\n  let dp1 = 1;\n  let dp2 = 1;\n  for (let i = 2; i < str.length; i++) {\n    let tmp = dp2;\n    const num = str[i-1] + str[i];\n    if (9 < +num && +num < 26) {\n      dp2 = dp2 + dp1;\n    }\n    dp1 = tmp;\n  }\n  return dp2;\n};\n```\n","slug":"面试题46-把数字翻译成字符串","published":1,"updated":"2023-02-16T18:58:25.396Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cle932v660006pknr6bthh4cv","content":"<p>给定一个数字，我们按照如下规则把它翻译为字符串：0 翻译成 “a” ，1 翻译成 “b”，……，11 翻译成 “l”，……，25 翻译成 “z”。一个数字可能有多个翻译。请编程实现一个函数，用来计算一个数字有多少种不同的翻译方法。</p>\n<p>示例 1:</p>\n<p>输入: 12258<br>输出: 5<br>解释: 12258有5种不同的翻译，分别是”bccfi”, “bwfi”, “bczi”, “mcfi”和”mzi”</p>\n<p>提示：</p>\n<p>0 &lt;&#x3D; num &lt; 231</p>\n<p>来源：力扣（LeetCode）<br>链接：<a href=\"https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof\">https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof</a></p>\n<h2 id=\"1-深度优遍历\"><a href=\"#1-深度优遍历\" class=\"headerlink\" title=\"1.深度优遍历\"></a>1.深度优遍历</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">num</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">number</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> translateNum1 = <span class=\"keyword\">function</span>(<span class=\"params\">num</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"title function_\">dfs</span>(num + <span class=\"string\">&#x27;&#x27;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">dfs</span>(<span class=\"params\">str, start</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (start &gt;= str.<span class=\"property\">length</span>) <span class=\"keyword\">return</span> ++count;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> num1 = +(str[start]);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> num2 = +(str[start] + str[start+<span class=\"number\">1</span>]);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"title function_\">dfs</span>(str, start + <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"number\">9</span> &lt; num2 &amp;&amp; num2 &lt; <span class=\"number\">26</span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">dfs</span>(str, start + <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-动态规划\"><a href=\"#2-动态规划\" class=\"headerlink\" title=\"2.动态规划\"></a>2.动态规划</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * dp[i]：长度为i字符串的翻译方法数</span></span><br><span class=\"line\"><span class=\"comment\"> * 最优子结构：dp[i-1]:最后单字符翻译，dp[i-2]：最后双字符翻译</span></span><br><span class=\"line\"><span class=\"comment\"> * 状态转移方程：dp[i] = isValid(s[i-1]+s[i-2]) ? dp[i-1] + dp[i-2] : dp[i-1]</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">num</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">number</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> translateNum2 = <span class=\"keyword\">function</span>(<span class=\"params\">num</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> str = <span class=\"string\">&#x27;_&#x27;</span> + num;</span><br><span class=\"line\">  <span class=\"comment\">// [0, pos)</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> dp1 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> dp2 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">3</span>; i &lt;= str.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> tmp = dp2;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> num = str[i-<span class=\"number\">2</span>] + str[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"number\">9</span> &lt; +num &amp;&amp; +num &lt; <span class=\"number\">26</span>) &#123;</span><br><span class=\"line\">      dp2 = dp2 + dp1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    dp1 = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dp2;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"3-动态规划（优化）\"><a href=\"#3-动态规划（优化）\" class=\"headerlink\" title=\"3.动态规划（优化）\"></a>3.动态规划（优化）</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">num</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">number</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> translateNum3 = <span class=\"keyword\">function</span>(<span class=\"params\">num</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> str = <span class=\"string\">&#x27;_&#x27;</span> + num;</span><br><span class=\"line\">  <span class=\"comment\">// [0, pos)</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> dp1 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> dp2 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">2</span>; i &lt; str.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> tmp = dp2;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> num = str[i-<span class=\"number\">1</span>] + str[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"number\">9</span> &lt; +num &amp;&amp; +num &lt; <span class=\"number\">26</span>) &#123;</span><br><span class=\"line\">      dp2 = dp2 + dp1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    dp1 = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dp2;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>给定一个数字，我们按照如下规则把它翻译为字符串：0 翻译成 “a” ，1 翻译成 “b”，……，11 翻译成 “l”，……，25 翻译成 “z”。一个数字可能有多个翻译。请编程实现一个函数，用来计算一个数字有多少种不同的翻译方法。</p>\n<p>示例 1:</p>\n<p>输入: 12258<br>输出: 5<br>解释: 12258有5种不同的翻译，分别是”bccfi”, “bwfi”, “bczi”, “mcfi”和”mzi”</p>\n<p>提示：</p>\n<p>0 &lt;&#x3D; num &lt; 231</p>\n<p>来源：力扣（LeetCode）<br>链接：<a href=\"https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof\">https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof</a></p>\n<h2 id=\"1-深度优遍历\"><a href=\"#1-深度优遍历\" class=\"headerlink\" title=\"1.深度优遍历\"></a>1.深度优遍历</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">num</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">number</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> translateNum1 = <span class=\"keyword\">function</span>(<span class=\"params\">num</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"title function_\">dfs</span>(num + <span class=\"string\">&#x27;&#x27;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">dfs</span>(<span class=\"params\">str, start</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (start &gt;= str.<span class=\"property\">length</span>) <span class=\"keyword\">return</span> ++count;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> num1 = +(str[start]);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> num2 = +(str[start] + str[start+<span class=\"number\">1</span>]);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"title function_\">dfs</span>(str, start + <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"number\">9</span> &lt; num2 &amp;&amp; num2 &lt; <span class=\"number\">26</span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">dfs</span>(str, start + <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-动态规划\"><a href=\"#2-动态规划\" class=\"headerlink\" title=\"2.动态规划\"></a>2.动态规划</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * dp[i]：长度为i字符串的翻译方法数</span></span><br><span class=\"line\"><span class=\"comment\"> * 最优子结构：dp[i-1]:最后单字符翻译，dp[i-2]：最后双字符翻译</span></span><br><span class=\"line\"><span class=\"comment\"> * 状态转移方程：dp[i] = isValid(s[i-1]+s[i-2]) ? dp[i-1] + dp[i-2] : dp[i-1]</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">num</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">number</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> translateNum2 = <span class=\"keyword\">function</span>(<span class=\"params\">num</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> str = <span class=\"string\">&#x27;_&#x27;</span> + num;</span><br><span class=\"line\">  <span class=\"comment\">// [0, pos)</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> dp1 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> dp2 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">3</span>; i &lt;= str.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> tmp = dp2;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> num = str[i-<span class=\"number\">2</span>] + str[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"number\">9</span> &lt; +num &amp;&amp; +num &lt; <span class=\"number\">26</span>) &#123;</span><br><span class=\"line\">      dp2 = dp2 + dp1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    dp1 = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dp2;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"3-动态规划（优化）\"><a href=\"#3-动态规划（优化）\" class=\"headerlink\" title=\"3.动态规划（优化）\"></a>3.动态规划（优化）</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">num</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">number</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> translateNum3 = <span class=\"keyword\">function</span>(<span class=\"params\">num</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> str = <span class=\"string\">&#x27;_&#x27;</span> + num;</span><br><span class=\"line\">  <span class=\"comment\">// [0, pos)</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> dp1 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> dp2 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">2</span>; i &lt; str.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> tmp = dp2;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> num = str[i-<span class=\"number\">1</span>] + str[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"number\">9</span> &lt; +num &amp;&amp; +num &lt; <span class=\"number\">26</span>) &#123;</span><br><span class=\"line\">      dp2 = dp2 + dp1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    dp1 = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dp2;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"面试题62. 圆圈中最后剩下的数字","date":"2020-04-16T18:13:49.000Z","description":" ","_content":"\n\n# 面试题62. 圆圈中最后剩下的数字\n\n0,1,,n-1这n个数字排成一个圆圈，从数字0开始，每次从这个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。\n\n例如，0、1、2、3、4这5个数字组成一个圆圈，从数字0开始每次删除第3个数字，则删除的前4个数字依次是2、0、4、1，因此最后剩下的数字是3。\n\n \n\n示例 1：\n\n输入: n = 5, m = 3\n输出: 3\n示例 2：\n\n输入: n = 10, m = 17\n输出: 2\n\n\n限制：\n\n1 <= n <= 10^5\n1 <= m <= 10^6\n\n来源：力扣（LeetCode）\n链接：https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof\n\n## 1.暴力模拟（超时）\n\n```js\n/**\n * @param {number} n\n * @param {number} m\n * @return {number}\n */\nvar lastRemaining = lastRemaining2;\nfunction lastRemaining1(n, m) {\n  let idx = 0;\n  let num = 0;\n  let count = 0;\n  let getIdx = (idx) => idx % n;\n  const record = {};\n  while (1) {\n    if (!record[num]) idx++;\n    // console.log(num, idx, record)\n    if (!record[num] && idx > 0 && idx % m === 0) {\n      count++;\n      // console.log({count, n})\n      record[num] = true;\n      if (count >= n) return num;\n      idx = 0;\n    }\n    num = getIdx(num + 1);\n  }\n};\n```\n\n## 2.约瑟夫自杀环\n\n![2020-04-16_17-00](yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof.assets/2020-04-16_17-00.png)\n\n```js\n/**\n * f(x)：最后输出的序号\n * f(n, m) = (f(n - 1, m) + m)\n * @param {number} n\n * @param {number} m\n * @return {number}\n */\nfunction lastRemaining2(n, m) {\n  function josephus(n, m) {\n    if (n === 1) return 0;\n    return (josephus(n - 1, m) + m) % n;\n  }\n  return josephus(n, m);\n}\n```\n\n## 3.迭代优化约瑟夫问题\n\n避免使用递归栈空间\n\n```js\nfunction lastRemaining3(n, m) {\n  let res = 0\n  for (let i = 2; i <= n; i++) {\n    res = (res + m) % i;\n  }\n  return res;\n}\n```\n","source":"_posts/面试题62-圆圈中最后剩下的数字.md","raw":"---\ntitle: 面试题62. 圆圈中最后剩下的数字\ndate: 2020-04-17 02:13:49\ncategories: \n- 算法题\ntags:\n- LCOF\ndescription: ' '\n---\n\n\n# 面试题62. 圆圈中最后剩下的数字\n\n0,1,,n-1这n个数字排成一个圆圈，从数字0开始，每次从这个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。\n\n例如，0、1、2、3、4这5个数字组成一个圆圈，从数字0开始每次删除第3个数字，则删除的前4个数字依次是2、0、4、1，因此最后剩下的数字是3。\n\n \n\n示例 1：\n\n输入: n = 5, m = 3\n输出: 3\n示例 2：\n\n输入: n = 10, m = 17\n输出: 2\n\n\n限制：\n\n1 <= n <= 10^5\n1 <= m <= 10^6\n\n来源：力扣（LeetCode）\n链接：https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof\n\n## 1.暴力模拟（超时）\n\n```js\n/**\n * @param {number} n\n * @param {number} m\n * @return {number}\n */\nvar lastRemaining = lastRemaining2;\nfunction lastRemaining1(n, m) {\n  let idx = 0;\n  let num = 0;\n  let count = 0;\n  let getIdx = (idx) => idx % n;\n  const record = {};\n  while (1) {\n    if (!record[num]) idx++;\n    // console.log(num, idx, record)\n    if (!record[num] && idx > 0 && idx % m === 0) {\n      count++;\n      // console.log({count, n})\n      record[num] = true;\n      if (count >= n) return num;\n      idx = 0;\n    }\n    num = getIdx(num + 1);\n  }\n};\n```\n\n## 2.约瑟夫自杀环\n\n![2020-04-16_17-00](yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof.assets/2020-04-16_17-00.png)\n\n```js\n/**\n * f(x)：最后输出的序号\n * f(n, m) = (f(n - 1, m) + m)\n * @param {number} n\n * @param {number} m\n * @return {number}\n */\nfunction lastRemaining2(n, m) {\n  function josephus(n, m) {\n    if (n === 1) return 0;\n    return (josephus(n - 1, m) + m) % n;\n  }\n  return josephus(n, m);\n}\n```\n\n## 3.迭代优化约瑟夫问题\n\n避免使用递归栈空间\n\n```js\nfunction lastRemaining3(n, m) {\n  let res = 0\n  for (let i = 2; i <= n; i++) {\n    res = (res + m) % i;\n  }\n  return res;\n}\n```\n","slug":"面试题62-圆圈中最后剩下的数字","published":1,"updated":"2023-02-16T18:58:25.397Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cle932v670007pknr45jt4pzj","content":"<h1 id=\"面试题62-圆圈中最后剩下的数字\"><a href=\"#面试题62-圆圈中最后剩下的数字\" class=\"headerlink\" title=\"面试题62. 圆圈中最后剩下的数字\"></a>面试题62. 圆圈中最后剩下的数字</h1><p>0,1,,n-1这n个数字排成一个圆圈，从数字0开始，每次从这个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。</p>\n<p>例如，0、1、2、3、4这5个数字组成一个圆圈，从数字0开始每次删除第3个数字，则删除的前4个数字依次是2、0、4、1，因此最后剩下的数字是3。</p>\n<p>示例 1：</p>\n<p>输入: n &#x3D; 5, m &#x3D; 3<br>输出: 3<br>示例 2：</p>\n<p>输入: n &#x3D; 10, m &#x3D; 17<br>输出: 2</p>\n<p>限制：</p>\n<p>1 &lt;&#x3D; n &lt;&#x3D; 10^5<br>1 &lt;&#x3D; m &lt;&#x3D; 10^6</p>\n<p>来源：力扣（LeetCode）<br>链接：<a href=\"https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof\">https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof</a></p>\n<h2 id=\"1-暴力模拟（超时）\"><a href=\"#1-暴力模拟（超时）\" class=\"headerlink\" title=\"1.暴力模拟（超时）\"></a>1.暴力模拟（超时）</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">n</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">m</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">number</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> lastRemaining = lastRemaining2;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">lastRemaining1</span>(<span class=\"params\">n, m</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> idx = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> num = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"title function_\">getIdx</span> = (<span class=\"params\">idx</span>) =&gt; idx % n;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> record = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!record[num]) idx++;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(num, idx, record)</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!record[num] &amp;&amp; idx &gt; <span class=\"number\">0</span> &amp;&amp; idx % m === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">      <span class=\"comment\">// console.log(&#123;count, n&#125;)</span></span><br><span class=\"line\">      record[num] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (count &gt;= n) <span class=\"keyword\">return</span> num;</span><br><span class=\"line\">      idx = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    num = <span class=\"title function_\">getIdx</span>(num + <span class=\"number\">1</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-约瑟夫自杀环\"><a href=\"#2-约瑟夫自杀环\" class=\"headerlink\" title=\"2.约瑟夫自杀环\"></a>2.约瑟夫自杀环</h2><p><img src=\"/blog/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof.assets/2020-04-16_17-00.png\" alt=\"2020-04-16_17-00\"></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * f(x)：最后输出的序号</span></span><br><span class=\"line\"><span class=\"comment\"> * f(n, m) = (f(n - 1, m) + m)</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">n</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">m</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">number</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">lastRemaining2</span>(<span class=\"params\">n, m</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">josephus</span>(<span class=\"params\">n, m</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (<span class=\"title function_\">josephus</span>(n - <span class=\"number\">1</span>, m) + m) % n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">josephus</span>(n, m);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"3-迭代优化约瑟夫问题\"><a href=\"#3-迭代优化约瑟夫问题\" class=\"headerlink\" title=\"3.迭代优化约瑟夫问题\"></a>3.迭代优化约瑟夫问题</h2><p>避免使用递归栈空间</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">lastRemaining3</span>(<span class=\"params\">n, m</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> res = <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">2</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    res = (res + m) % i;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"面试题62-圆圈中最后剩下的数字\"><a href=\"#面试题62-圆圈中最后剩下的数字\" class=\"headerlink\" title=\"面试题62. 圆圈中最后剩下的数字\"></a>面试题62. 圆圈中最后剩下的数字</h1><p>0,1,,n-1这n个数字排成一个圆圈，从数字0开始，每次从这个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。</p>\n<p>例如，0、1、2、3、4这5个数字组成一个圆圈，从数字0开始每次删除第3个数字，则删除的前4个数字依次是2、0、4、1，因此最后剩下的数字是3。</p>\n<p>示例 1：</p>\n<p>输入: n &#x3D; 5, m &#x3D; 3<br>输出: 3<br>示例 2：</p>\n<p>输入: n &#x3D; 10, m &#x3D; 17<br>输出: 2</p>\n<p>限制：</p>\n<p>1 &lt;&#x3D; n &lt;&#x3D; 10^5<br>1 &lt;&#x3D; m &lt;&#x3D; 10^6</p>\n<p>来源：力扣（LeetCode）<br>链接：<a href=\"https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof\">https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof</a></p>\n<h2 id=\"1-暴力模拟（超时）\"><a href=\"#1-暴力模拟（超时）\" class=\"headerlink\" title=\"1.暴力模拟（超时）\"></a>1.暴力模拟（超时）</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">n</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">m</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">number</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> lastRemaining = lastRemaining2;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">lastRemaining1</span>(<span class=\"params\">n, m</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> idx = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> num = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"title function_\">getIdx</span> = (<span class=\"params\">idx</span>) =&gt; idx % n;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> record = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!record[num]) idx++;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(num, idx, record)</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!record[num] &amp;&amp; idx &gt; <span class=\"number\">0</span> &amp;&amp; idx % m === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">      <span class=\"comment\">// console.log(&#123;count, n&#125;)</span></span><br><span class=\"line\">      record[num] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (count &gt;= n) <span class=\"keyword\">return</span> num;</span><br><span class=\"line\">      idx = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    num = <span class=\"title function_\">getIdx</span>(num + <span class=\"number\">1</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-约瑟夫自杀环\"><a href=\"#2-约瑟夫自杀环\" class=\"headerlink\" title=\"2.约瑟夫自杀环\"></a>2.约瑟夫自杀环</h2><p><img src=\"/blog/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof.assets/2020-04-16_17-00.png\" alt=\"2020-04-16_17-00\"></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * f(x)：最后输出的序号</span></span><br><span class=\"line\"><span class=\"comment\"> * f(n, m) = (f(n - 1, m) + m)</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">n</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; <span class=\"variable\">m</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">number</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">lastRemaining2</span>(<span class=\"params\">n, m</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">josephus</span>(<span class=\"params\">n, m</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (<span class=\"title function_\">josephus</span>(n - <span class=\"number\">1</span>, m) + m) % n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">josephus</span>(n, m);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"3-迭代优化约瑟夫问题\"><a href=\"#3-迭代优化约瑟夫问题\" class=\"headerlink\" title=\"3.迭代优化约瑟夫问题\"></a>3.迭代优化约瑟夫问题</h2><p>避免使用递归栈空间</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">lastRemaining3</span>(<span class=\"params\">n, m</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> res = <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">2</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    res = (res + m) % i;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"}],"PostAsset":[{"_id":"source/_posts/hexo：从0开始与踩坑实录/Snipaste_2023-02-14_21-58-08.png","post":"cle932v620003pknrfbwkcnd1","slug":"Snipaste_2023-02-14_21-58-08.png","modified":1,"renderable":1},{"_id":"source/_posts/hexo：从0开始与踩坑实录/Snipaste_2023-02-16_13-28-44.png","post":"cle932v620003pknrfbwkcnd1","slug":"Snipaste_2023-02-16_13-28-44.png","modified":1,"renderable":1}],"PostCategory":[{"post_id":"cle932v5z0001pknr6agn4ol2","category_id":"cle932v640004pknr5y6rcunm","_id":"cle932v69000apknr0bb5h24m"},{"post_id":"cle932v620003pknrfbwkcnd1","category_id":"cle932v680008pknr8nrl07a7","_id":"cle932v6a000fpknrg8r3bf5t"},{"post_id":"cle932v660006pknr6bthh4cv","category_id":"cle932v69000bpknr1rkebizg","_id":"cle932v6b000jpknr2cox8od6"},{"post_id":"cle932v670007pknr45jt4pzj","category_id":"cle932v69000bpknr1rkebizg","_id":"cle932v6c000mpknr3bme79ni"}],"PostTag":[{"post_id":"cle932v5z0001pknr6agn4ol2","tag_id":"cle932v660005pknrckg90e2v","_id":"cle932v69000dpknr2wtz82wy"},{"post_id":"cle932v5z0001pknr6agn4ol2","tag_id":"cle932v680009pknr24jbcke6","_id":"cle932v6a000epknrd274d728"},{"post_id":"cle932v620003pknrfbwkcnd1","tag_id":"cle932v69000cpknr9cbg8ee2","_id":"cle932v6b000ipknrgyrxagcx"},{"post_id":"cle932v660006pknr6bthh4cv","tag_id":"cle932v6a000hpknr0j239cj2","_id":"cle932v6c000lpknr1nq37dtg"},{"post_id":"cle932v670007pknr45jt4pzj","tag_id":"cle932v6a000hpknr0j239cj2","_id":"cle932v6c000npknr903sb30p"}],"Tag":[{"name":"Rust","_id":"cle932v660005pknrckg90e2v"},{"name":"旧文迁移","_id":"cle932v680009pknr24jbcke6"},{"name":"hexo","_id":"cle932v69000cpknr9cbg8ee2"},{"name":"LCOF","_id":"cle932v6a000hpknr0j239cj2"}]}}