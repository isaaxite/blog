<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png"><link rel="mask-icon" href="/blog/images/logo.svg" color="#222"><meta name="google-site-verification" content="D3uaiX9T8gcr1zBjqu9y67t-0DhGNCa7yyjpQ27T_Co"><meta name="msvalidate.01" content="AFD16F68B2DF363759600CB5E8825AEC"><link rel="stylesheet" href="/blog/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"isaaxite.github.io","root":"/blog/","images":"/blog/images","scheme":"Gemini","darkmode":false,"version":"8.14.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/blog/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/blog/js/config.js"></script><meta name="description" content="å‰è¨€æœ€è¿‘åœ¨å¼€å‘ä½¿ç”¨ Github Issue ç¼–å†™ blog çš„é¡¹ç›®ã€‚ç›®å‰è¿˜åœ¨æŒç»­å¼€å‘ä¸­ï¼Œå·²ç» 300+ commitsï¼Œnpm ä¸Šå·²ç»å‘å¸ƒçš„ç‰ˆæœ¬è¿­ä»£æœ‰ 9ä¸ªã€‚åé¢ä»ç„¶ä¼šç»§ç»­ç»´æŠ¤ï¼Œæœ‰è®¸å¤šå‡†å¤‡å¢åŠ çš„èƒ½ä¾›ï¼Œéœ€è¦ä¼˜åŒ–çš„ç‚¹ï¼Œä»¥åŠå·²çŸ¥çš„éœ€è¦é‡æ„çš„é€»è¾‘ï¼Œåº”è¯¥è¿˜ä¼šæœ‰ç›¸å½“çš„bugéœ€è¦ä¿®å¤ã€‚ æŠ±ç€è´Ÿè´£ä»»çš„æ€åº¦ï¼Œä¸ªäººè®¤ä¸ºéœ€è¦ä¸€ä¸ªæ¸ é“ä½¿å¾— Isubo çš„ä½¿ç”¨è€…è·çŸ¥è¿™äº›ä¸€ç³»åˆ—çš„å˜åŠ¨ã€‚å› æ­¤ï¼Œéœ€è¦ç¼–å†™ CHANGELOG è®°"><meta property="og:type" content="article"><meta property="og:title" content="è‡ªåŠ¨åŒ–CHANGELOGï¼ŒæŒç»­é›†æˆ"><meta property="og:url" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/index.html"><meta property="og:site_name" content="Isaac Kam&#39;s Blog"><meta property="og:description" content="å‰è¨€æœ€è¿‘åœ¨å¼€å‘ä½¿ç”¨ Github Issue ç¼–å†™ blog çš„é¡¹ç›®ã€‚ç›®å‰è¿˜åœ¨æŒç»­å¼€å‘ä¸­ï¼Œå·²ç» 300+ commitsï¼Œnpm ä¸Šå·²ç»å‘å¸ƒçš„ç‰ˆæœ¬è¿­ä»£æœ‰ 9ä¸ªã€‚åé¢ä»ç„¶ä¼šç»§ç»­ç»´æŠ¤ï¼Œæœ‰è®¸å¤šå‡†å¤‡å¢åŠ çš„èƒ½ä¾›ï¼Œéœ€è¦ä¼˜åŒ–çš„ç‚¹ï¼Œä»¥åŠå·²çŸ¥çš„éœ€è¦é‡æ„çš„é€»è¾‘ï¼Œåº”è¯¥è¿˜ä¼šæœ‰ç›¸å½“çš„bugéœ€è¦ä¿®å¤ã€‚ æŠ±ç€è´Ÿè´£ä»»çš„æ€åº¦ï¼Œä¸ªäººè®¤ä¸ºéœ€è¦ä¸€ä¸ªæ¸ é“ä½¿å¾— Isubo çš„ä½¿ç”¨è€…è·çŸ¥è¿™äº›ä¸€ç³»åˆ—çš„å˜åŠ¨ã€‚å› æ­¤ï¼Œéœ€è¦ç¼–å†™ CHANGELOG è®°"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/test_commitlint.gif"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/commitlint_by_hook.gif"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/test_prompt-cli.gif"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/Snipaste_2023-07-25_18-24-32.png"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/Snipaste_2023-07-25_18-23-41.png"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/Snipaste_2023-07-26_11-28-57.png"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/Snipaste_2023-07-26_21-57-36.png"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/Snipaste_2023-07-27_04-51-22.png"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/Snipaste_2023-07-26_20-14-55.png"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/Snipaste_2023-07-26_11-57-45.png"><meta property="og:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/Snipaste_2023-08-07_00-58-17.png"><meta property="article:published_time" content="2023-07-13T03:06:20.000Z"><meta property="article:modified_time" content="2025-03-07T23:26:45.780Z"><meta property="article:author" content="Isaac Kam"><meta property="article:tag" content="CHANGELOG"><meta property="article:tag" content="è‡ªåŠ¨åŒ–"><meta property="article:tag" content="Commitè§„èŒƒ"><meta property="article:tag" content="ç‰ˆæœ¬æ§åˆ¶"><meta property="article:tag" content="Git Hook"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/test_commitlint.gif"><link rel="canonical" href="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/","path":"resources/Automated-Changelog-Manual/","title":"è‡ªåŠ¨åŒ–CHANGELOGï¼ŒæŒç»­é›†æˆ"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>è‡ªåŠ¨åŒ–CHANGELOGï¼ŒæŒç»­é›†æˆ | Isaac Kam's Blog</title><noscript><link rel="stylesheet" href="/blog/css/noscript.css"></noscript><link rel="alternate" href="/blog/atom.xml" title="Isaac Kam's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/blog/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Isaac Kam's Blog</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">I am a slow walker, but I never walk backwards.</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="æœç´¢" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li><li class="menu-item menu-item-sitemap"><a href="/blog/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>ç«™ç‚¹åœ°å›¾</a></li><li class="menu-item menu-item-rss"><a href="/blog/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="æœç´¢..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">æ–‡ç« ç›®å½•</li><li class="sidebar-nav-overview">ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">å‰è¨€</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E7%9A%84%E4%BC%98%E7%82%B9"><span class="nav-text">è‡ªåŠ¨åŒ–çš„ä¼˜ç‚¹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHANGELOG-%E7%9A%84%E9%A2%84%E6%9C%9F"><span class="nav-text">CHANGELOG çš„é¢„æœŸ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E6%80%9D%E8%B7%AF"><span class="nav-text">è‡ªåŠ¨åŒ–æ€è·¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="nav-text">å·¥ä½œæµ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-Commit-%E8%A7%84%E8%8C%83"><span class="nav-text">Git Commit è§„èŒƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Angular-%E8%A7%84%E8%8C%83"><span class="nav-text">Angular è§„èŒƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conventional-Commits-%E8%A7%84%E8%8C%83"><span class="nav-text">Conventional Commits è§„èŒƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Gitmoji-%E8%A7%84%E8%8C%83"><span class="nav-text">Gitmoji è§„èŒƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-text">å°ç»“</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Commit-%E8%AF%AD%E6%B3%95%E6%A3%80%E6%B5%8B"><span class="nav-text">Commit è¯­æ³•æ£€æµ‹</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Husky"><span class="nav-text">å®‰è£… Husky</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Commitlint"><span class="nav-text">å®‰è£… Commitlint</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Husky-Commitlint"><span class="nav-text">Husky + Commitlint</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%8A%E8%87%AA%E5%8A%A8%E7%BC%96%E5%86%99-Commit"><span class="nav-text">åŠè‡ªåŠ¨ç¼–å†™ Commit</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="nav-text">ç‰ˆæœ¬ç®¡ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-text">å¸¸ç”¨å‘½ä»¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BE%8B%E5%AD%90"><span class="nav-text">ä¾‹å­</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Npm-Version%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-text">Npm-Versionç”Ÿå‘½å‘¨æœŸ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93-1"><span class="nav-text">å°ç»“</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Standard-Version%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-text">Standard-Versionçš„ç”Ÿå‘½å‘¨æœŸ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93-2"><span class="nav-text">å°ç»“</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CHANGELOG%E8%87%AA%E5%8A%A8%E5%8C%96"><span class="nav-text">CHANGELOGè‡ªåŠ¨åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#conventional-changelog-cli"><span class="nav-text">conventional-changelog-cli</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-text">å®‰è£…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-text">ä½¿ç”¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE"><span class="nav-text">é…ç½®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#preset"><span class="nav-text">preset</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93-3"><span class="nav-text">å°ç»“</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Standard-Version"><span class="nav-text">Standard Version</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-1"><span class="nav-text">å®‰è£…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-1"><span class="nav-text">ä½¿ç”¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-1"><span class="nav-text">é…ç½®</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E6%B5%81-1"><span class="nav-text">å·¥ä½œæµ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%99%84%E5%BD%95"><span class="nav-text">é™„å½•</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Husky%E6%94%AF%E6%8C%81%E7%9A%84-Git-hook"><span class="nav-text">Huskyæ”¯æŒçš„ Git hook</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#post-merge-%E9%92%A9%E5%AD%90%E8%A7%A6%E5%8F%91prompt%E5%A4%B1%E8%B4%A5"><span class="nav-text">post-merge é’©å­è§¦å‘promptå¤±è´¥</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-text">å‚è€ƒ</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Isaac Kam" src="/blog/images/avatar.jpg"><p class="site-author-name" itemprop="name">Isaac Kam</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/blog/archives/"><span class="site-state-item-count">64</span> <span class="site-state-item-name">æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"><a href="/blog/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href="/blog/tags/"><span class="site-state-item-count">92</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/isaaxite" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;isaaxite" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="isaacgun:isaacgun@outlook.com" title="E-Mail â†’ isaacgun:isaacgun@outlook.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/blog/images/avatar.jpg"><meta itemprop="name" content="Isaac Kam"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Isaac Kam's Blog"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="è‡ªåŠ¨åŒ–CHANGELOGï¼ŒæŒç»­é›†æˆ | Isaac Kam's Blog"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">è‡ªåŠ¨åŒ–CHANGELOGï¼ŒæŒç»­é›†æˆ</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-13 11:06:20" itemprop="dateCreated datePublished" datetime="2023-07-13T11:06:20+08:00">2023-07-13</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-08 07:26:45" itemprop="dateModified" datetime="2025-03-08T07:26:45+08:00">2025-03-08</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">åˆ†ç±»äº</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/CI-CD/" itemprop="url" rel="index"><span itemprop="name">CI/CD</span></a> </span>ï¼Œ <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" itemprop="url" rel="index"><span itemprop="name">æŒç»­é›†æˆ</span></a> </span>ï¼Œ <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/npm/" itemprop="url" rel="index"><span itemprop="name">npm</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ€è¿‘åœ¨å¼€å‘ä½¿ç”¨ Github Issue ç¼–å†™ blog çš„é¡¹ç›®ã€‚ç›®å‰è¿˜åœ¨æŒç»­å¼€å‘ä¸­ï¼Œå·²ç» 300+ commitsï¼Œnpm ä¸Šå·²ç»å‘å¸ƒçš„ç‰ˆæœ¬è¿­ä»£æœ‰ 9ä¸ªã€‚åé¢ä»ç„¶ä¼šç»§ç»­ç»´æŠ¤ï¼Œæœ‰è®¸å¤šå‡†å¤‡å¢åŠ çš„èƒ½ä¾›ï¼Œéœ€è¦ä¼˜åŒ–çš„ç‚¹ï¼Œä»¥åŠå·²çŸ¥çš„éœ€è¦é‡æ„çš„é€»è¾‘ï¼Œåº”è¯¥è¿˜ä¼šæœ‰ç›¸å½“çš„bugéœ€è¦ä¿®å¤ã€‚</p><p>æŠ±ç€è´Ÿè´£ä»»çš„æ€åº¦ï¼Œä¸ªäººè®¤ä¸ºéœ€è¦ä¸€ä¸ªæ¸ é“ä½¿å¾— Isubo çš„ä½¿ç”¨è€…è·çŸ¥è¿™äº›ä¸€ç³»åˆ—çš„å˜åŠ¨ã€‚å› æ­¤ï¼Œéœ€è¦ç¼–å†™ CHANGELOG è®°å½•æ¯ä¸ªé¡¹ç›®ç‰ˆæœ¬çš„å˜åŠ¨ã€‚</p><p>ä½†æ˜¯ï¼Œç”±äºç›®å‰è¿˜æ˜¯ä¸€ä¸ªäººåœ¨å¼€å‘æ­¤é¡¹ç›®ï¼Œç²¾åŠ›æœ‰é™ï¼Œéœ€è¦æ›´å¤šåœ°èšç„¦åœ¨åŠŸèƒ½æ–°å¢ã€ä¼˜åŒ–ã€é‡æ„å’ŒBugä¿®å¤ã€‚</p><p><em>CHANGELOG è‡ªåŠ¨åŒ–æ˜¯æœ€ç»ˆçš„ç­”æ¡ˆï¼</em></p><span id="more"></span><h2 id="è‡ªåŠ¨åŒ–çš„ä¼˜ç‚¹"><a href="#è‡ªåŠ¨åŒ–çš„ä¼˜ç‚¹" class="headerlink" title="è‡ªåŠ¨åŒ–çš„ä¼˜ç‚¹"></a>è‡ªåŠ¨åŒ–çš„ä¼˜ç‚¹</h2><ul><li><p><strong>ç®€åŒ–äº† changelog çš„åˆ›å»ºæµç¨‹</strong>ï¼šæ‰‹åŠ¨åˆ›å»º changelog å¯èƒ½éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´å’Œç²¾åŠ›ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´ã€‚è‡ªåŠ¨åŒ–åˆ›å»º changelog å¯ä»¥å‡å°‘è¿™ç§ç¹ççš„å·¥ä½œï¼Œå…è®¸å¼€å‘è€…æ›´ä¸“æ³¨äºç¼–å†™ä»£ç å’Œè§£å†³é—®é¢˜ã€‚</p></li><li><p><strong>æé«˜äº† changelog çš„å‡†ç¡®æ€§</strong>ï¼šæ‰‹åŠ¨åˆ›å»º changelog å¯èƒ½ä¼šå‡ºç°é—æ¼æˆ–é”™è¯¯ï¼Œå› ä¸ºå¼€å‘è€…éœ€è¦æ‰‹åŠ¨è®°å½•æ¯ä¸ªç‰ˆæœ¬çš„æ›´æ”¹ã€‚è‡ªåŠ¨åŒ–åˆ›å»º changelog å¯ä»¥æ¶ˆé™¤è¿™äº›é”™è¯¯ï¼Œå› ä¸ºå®ƒä»¬ä¼šè‡ªåŠ¨ä»ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­æå–ä¿¡æ¯ã€‚</p></li><li><p><strong>å¸®åŠ©å›¢é˜Ÿæ›´å¥½åœ°åä½œ</strong>ï¼šè‡ªåŠ¨åŒ–åˆ›å»º changelog å¯ä»¥å¸®åŠ©å›¢é˜Ÿæ›´å¥½åœ°åä½œå’Œæ²Ÿé€šã€‚å¼€å‘è€…å¯ä»¥æ›´è½»æ¾åœ°äº†è§£é¡¹ç›®çš„æ¼”å˜å†å²å’Œå½“å‰çŠ¶æ€ï¼Œä»è€Œæ›´å¥½åœ°åè°ƒå’Œåˆ†é…ä»»åŠ¡ã€‚</p></li><li><p><strong>æé«˜äº†é¡¹ç›®çš„å¯ç»´æŠ¤æ€§</strong>ï¼šè‡ªåŠ¨åŒ–åˆ›å»º changelog å¯ä»¥æé«˜é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ã€‚ç”±äº changelog å¯ä»¥è‡ªåŠ¨ç”Ÿæˆï¼Œå› æ­¤å¼€å‘è€…å¯ä»¥æ›´å®¹æ˜“åœ°äº†è§£æ¯ä¸ªç‰ˆæœ¬çš„æ›´æ”¹ï¼Œä»è€Œæ›´å¥½åœ°ç»´æŠ¤å’Œæ›´æ–°ä»£ç ã€‚</p></li></ul><p>æ€»ä¹‹ï¼Œè‡ªåŠ¨åŒ–åˆ›å»º changelog å¯ä»¥æé«˜é¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€é™ä½é”™è¯¯ç‡ã€åŠ å¼ºå›¢é˜Ÿåä½œï¼Œä»è€Œæé«˜é¡¹ç›®çš„å¯ç»´æŠ¤æ€§å’Œç¨³å®šæ€§ã€‚</p><h2 id="CHANGELOG-çš„é¢„æœŸ"><a href="#CHANGELOG-çš„é¢„æœŸ" class="headerlink" title="CHANGELOG çš„é¢„æœŸ"></a>CHANGELOG çš„é¢„æœŸ</h2><p>é¡µé¢æ˜¯åˆ—è¡¨çš„ç»“æ„ï¼Œåˆ—è¡¨çš„å­é¡¹æ˜¯ç‰ˆæœ¬å˜åŠ¨è¯´æ˜ã€‚ä¸‹é¢æ˜¯å­é¡¹çš„ç»“æ„ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// æ ‡é¢˜</span><br><span class="line"><span class="section"># ç‰ˆæœ¬å·-1</span></span><br><span class="line"></span><br><span class="line">// å†…å®¹</span><br><span class="line"><span class="bullet">-</span> æ–°å¢çš„åŠŸèƒ½ 1</span><br><span class="line"><span class="bullet">-</span> ä¿®å¤çš„bug</span><br><span class="line"><span class="bullet">-</span> ä¼˜åŒ–</span><br><span class="line"><span class="bullet">-</span> ...</span><br></pre></td></tr></table></figure><p>ä¸»è¦ç”±æ ‡é¢˜å’Œå†…å®¹ä¸¤éƒ¨åˆ†æ„æˆï¼š</p><ul><li>æ ‡é¢˜ï¼šç‰ˆæœ¬å·</li><li>å†…å®¹ï¼šå­åˆ—è¡¨æè¿°å˜åŠ¨ï¼ŒåŒ…å«ä½†ä¸é™äºåŠŸèƒ½æ–°å¢ã€Bugä¿®å¤ç­‰ç­‰</li></ul><h2 id="è‡ªåŠ¨åŒ–æ€è·¯"><a href="#è‡ªåŠ¨åŒ–æ€è·¯" class="headerlink" title="è‡ªåŠ¨åŒ–æ€è·¯"></a>è‡ªåŠ¨åŒ–æ€è·¯</h2><p><strong>1. Commits è§„èŒƒ</strong></p><p>æ‰€è°“å·§å¦‡éš¾ä¸ºæ— ç±³ä¹‹ç‚Šï¼Œæ‰€ä»¥å¾—å…ˆæœ‰â€œç±³â€æ‰æœ‰ CHANGELOGï¼Œè¿™é‡Œçš„â€œç±³â€å°±æ˜¯commitsã€‚</p><p>æ—¢ç„¶è¦æè¿°æ–°å¢çš„åŠŸèƒ½ã€ä¿®å¤çš„bug å’Œ ä¼˜åŒ–ç­‰ä¸åŒç±»å‹çš„å®ç°ï¼Œé‚£äº›å°±è¦è®©è¿™äº›å®ç°å¯¹åº”çš„ commits ç¬¦åˆè§„èŒƒã€‚</p><p>å› æ­¤ï¼Œç¬¬ä¸€æ­¥æ˜¯äº†è§£ç°æœ‰é‚£äº› commits çš„è§„èŒƒã€‚é€‰æ‹©éœ€è¦éµå¾ªçš„è§„èŒƒæˆ–è€…åŸºäºå®ƒä»¬æŒ‡å®šç¬¦åˆé¢„æœŸçš„è§„èŒƒã€‚</p><p><em>ä¸‹é¢å°†åˆ†åˆ«è¯¦ç»†ä»‹ç»ï¼šAngularè§„èŒƒã€Conventional Commitsè§„èŒƒ å’Œ Gitmojiè§„èŒƒã€‚</em></p><p><strong>2. çº¦æŸ Commit ç¼–å†™</strong></p><p>æ—¢æœ‰è§„èŒƒï¼Œåˆ™éœ€è¦æœ‰ commit msg çš„æ ¡éªŒé€»è¾‘ã€‚ä½¿ç”¨ <code>git-hooks</code> é’©å­æ‹¦æˆªå¼€å‘è€…è¾“å…¥çš„ commit msgï¼Œç„¶åå¯¹å…¶è¿›è¡Œæ ¡éªŒï¼Œæ‰“å›æˆ–é€šè¿‡åæäº¤commitåˆ° <code>git-log</code>ã€‚</p><p><em>ä¸‹æ–‡å°†ä½¿ç”¨ husky æ‹¦æˆª <code>commit-msg</code> é’©å­ï¼Œç„¶åä½¿ç”¨ <code>Commitlint</code> æ ¡éªŒã€‚</em></p><p><strong>3. ä¼˜åŒ– Commit ç¼–å†™</strong></p><p>æ ¡éªŒç»ˆå½’æ˜¯æ ¡éªŒè€Œå·²ã€‚å¦‚æœå¯¹æ‰€éµå¾ªçš„è§„èŒƒä¸ç†Ÿæ‚‰ï¼Œç¼–å†™æ ¼å¼æ­£ç¡®çš„ commit å­˜åœ¨ä¸€å®šçš„å¿ƒæ™ºæˆæœ¬ã€‚æˆ–è®¸è¯¥å¢åŠ è¾…åŠ©å·¥å…·é™ä½å¿ƒæ™ºæˆæœ¬ï¼Œæ— éœ€æ•°å€¼è§„èŒƒï¼ŒæŒ‰ç€æ­¥éª¤è¾“å…¥å³å¯ã€‚</p><p><em>ä¸‹æ–‡å°†åˆ†åˆ«ä»‹ç» 2 æ¬¾ prompt å·¥å…·è¾…åŠ©commitçš„ç¼–å†™ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/@commitlint/prompt-cli">@commitlint&#x2F;prompt-cli â†—</a> å’Œ <a href="cz-cli">Commitizen â†—</a>ã€‚</em></p><p><strong>4. ç‰ˆæœ¬ç®¡ç†</strong></p><p>CHANGELOG çš„ç”ŸæˆèŠ‚ç‚¹æ˜¯ç‰ˆæœ¬çš„åˆ›å»ºã€‚ç”±åˆ›å»ºç‰ˆæœ¬è¿™ä¸ªè¡Œä¸ºï¼Œäº§ç”Ÿ CHANGELOG è¿™ä¸ªç»“æœï¼Œå› æ­¤å¾—å…ˆå¤„ç†å¦‚ä½•è¿›è¡Œç‰ˆæœ¬ç®¡ç†è¿™ä¸ªé—®é¢˜ã€‚</p><p>åˆ¶å®šåˆç†çš„ç‰ˆæœ¬ç®¡ç†ç­–ç•¥å‰ï¼ŒåŒæ ·éœ€è¦äº†è§£ç°æœ‰çš„ç‰ˆæœ¬ç®¡ç†è§„èŒƒï¼Œåœ¨å‰äººè·¯ä¸Šæ±²å–å…»åˆ†ã€‚åŒæ ·æ˜¯éœ€è¦å·¥å…·å»çº¦æŸï¼Œä»¥ç‰ˆæœ¬åˆ›å»ºçš„ç»“æœç¬¦åˆè§„èŒƒã€‚</p><p><em>ä¸‹æ–‡å°†ä»‹ç»SemVerè§„èŒƒï¼Œç‰ˆæœ¬ç®¡ç†å·¥å…· <code>npm-version</code> å’Œ <code>standard-version</code>ã€‚åŒ…å«2ä¸ªå·¥å…·çš„ä½¿ç”¨å’Œå„è‡ªå·¥ä½œçš„ç”Ÿå‘½å‘¨æœŸ</em></p><p><strong>5. CHANGELOGè‡ªåŠ¨åŒ–</strong></p><p>ç»“åˆå‰é¢æåˆ°çš„ 2 ä¸ªç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œåˆ©ç”¨å®ƒä»¬å„è‡ªçš„ç”Ÿå‘½å‘¨æœŸï¼Œé€‚æ—¶è§¦å‘ CHANGELOG çš„ç”Ÿæˆã€‚</p><p><code>standard-version</code> çš„åŠŸèƒ½ä¸é™äºç‰ˆæœ¬ç®¡ç†ï¼Œè¿˜å…¼å…· CHANGELOG çš„ç”Ÿæˆã€‚ä»¥åŠä¸ <code>standard-version</code> æ¥è‡ªåŒä¸€ä¸ªå·¥å…·é›†çš„ <code>conventional-changelog-cli</code>ã€‚2 ä¸ªéƒ½æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„å·¥å…·ã€‚</p><p><em>ä¸‹æ–‡å°† <a href="#CHANGELOG%E8%87%AA%E5%8A%A8%E5%8C%96">CHANGELOGè‡ªåŠ¨åŒ–</a> è¯¦ç»†ä»·ç»å®ƒä»¬çš„å®‰è£…ã€ä½¿ç”¨ã€é…ç½®ã€‚</em></p><h2 id="å·¥ä½œæµ"><a href="#å·¥ä½œæµ" class="headerlink" title="å·¥ä½œæµ"></a>å·¥ä½œæµ</h2><p><em>1. åŸºäº main åˆ†æ”¯åˆ›å»º develop åˆ†æ”¯ï¼ˆfeat&#x2F;xxxã€fix&#x2F;xxxã€â€¦ï¼‰ï¼›</em></p><p><em>2. commit å˜åŠ¨ï¼›</em></p><p><em>3. develop åˆ†æ”¯å†…å®¹å¼€å‘å®Œæˆï¼Œpushåˆ†æ”¯ï¼›</em></p><p><em>4. åˆå¹¶ develop åˆ†æ”¯ï¼Œè§¦å‘ <code>post-merge</code> Git é’©å­ï¼›</em></p><p><em>5. åˆ›å»ºç‰ˆæœ¬ã€åˆ›å»º git-tag å’Œç”Ÿæˆ CHANGELOG</em></p><p><em>6. å‘å¸ƒ git-tag å’Œ CHANGELOG å˜åŠ¨ã€build æºç å¹¶å‘å¸ƒè‡³ npm</em></p><h1 id="Git-Commit-è§„èŒƒ"><a href="#Git-Commit-è§„èŒƒ" class="headerlink" title="Git Commit è§„èŒƒ"></a>Git Commit è§„èŒƒ</h1><p>é¦–å…ˆè¦è§£å†³çš„é—®é¢˜æ˜¯</p><table><thead><tr><th>è§„èŒƒåç§°</th><th>æè¿°</th></tr></thead><tbody><tr><td><a target="_blank" rel="noopener" href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit">Angularè§„èŒƒ â†—</a></td><td>Angularè§„èŒƒæ˜¯éå¸¸æµè¡Œçš„Git Commitè§„èŒƒä¹‹ä¸€ï¼Œæ‹¥æœ‰ä¼—å¤šçš„ç”¨æˆ·å’Œè´¡çŒ®è€…ã€‚å®ƒæä¾›äº†ä¸€å¥—å®Œæ•´çš„Git Commitè§„èŒƒã€‚Angularè§„èŒƒè¦æ±‚Commit messageå¿…é¡»åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼šç±»å‹ã€èŒƒå›´å’Œæè¿°ã€‚ç±»å‹å¯ä»¥æ˜¯featã€fixã€docsã€styleã€refactorã€testã€choreç­‰ã€‚èŒƒå›´æ˜¯å¯é€‰çš„ï¼Œç”¨äºè¡¨ç¤ºä»£ç å˜æ›´çš„å½±å“èŒƒå›´ã€‚æè¿°åº”è¯¥æ¸…æ™°åœ°æè¿°ä»£ç å˜æ›´çš„å†…å®¹ã€‚</td></tr><tr><td><a target="_blank" rel="noopener" href="https://www.conventionalcommits.org/">Conventional Commitsè§„èŒƒ â†—</a></td><td>Conventional Commitsæ˜¯ä¸€ç§é€šç”¨çš„Git Commitè§„èŒƒï¼Œå®ƒè¦æ±‚Commit messageå¿…é¡»åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼šç±»å‹ã€ä½œç”¨åŸŸå’Œæè¿°ã€‚ç±»å‹å¯ä»¥æ˜¯featã€fixã€docsã€styleã€refactorã€testã€buildç­‰ã€‚ä½œç”¨åŸŸæ˜¯å¯é€‰çš„ï¼Œç”¨äºè¡¨ç¤ºä»£ç å˜æ›´çš„å½±å“èŒƒå›´ã€‚æè¿°åº”è¯¥æ¸…æ™°åœ°æè¿°ä»£ç å˜æ›´çš„å†…å®¹ã€‚Conventional Commitsè¿˜æ”¯æŒå…³é”®è¯ï¼Œç”¨äºè¡¨ç¤ºä»£ç å˜æ›´çš„é‡è¦æ€§ï¼Œä¾‹å¦‚ï¼šBREAKING CHANGEè¡¨ç¤ºè¿™ä¸ªCommitä¼šç ´åå‘åå…¼å®¹æ€§ã€‚</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/carloscuesta/gitmoji">Gitmojiè§„èŒƒ â†—</a></td><td>Gitmojiæ˜¯ä¸€ç§åŸºäºEmojiè¡¨æƒ…ç¬¦å·çš„Git Commitè§„èŒƒï¼Œå®ƒè¦æ±‚Commit messageå¿…é¡»åŒ…å«ä¸€ä¸ªEmojiè¡¨æƒ…ç¬¦å·ï¼Œç”¨äºè¡¨ç¤ºä»£ç å˜æ›´çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼š:sparkles:è¡¨ç¤ºæ–°å¢åŠŸèƒ½ï¼Œ:bug:è¡¨ç¤ºä¿®å¤Bugï¼Œ:pencil2:è¡¨ç¤ºä¿®æ”¹æ–‡æ¡£ç­‰ç­‰ã€‚Gitmojiè§„èŒƒè¿˜æ”¯æŒåœ¨Emojiåé¢æ·»åŠ ä¸€ä¸ªç®€çŸ­çš„æè¿°ï¼Œç”¨äºæ›´è¯¦ç»†åœ°æè¿°ä»£ç å˜æ›´çš„å†…å®¹ã€‚</td></tr></tbody></table><p>ä¸‹é¢æ˜¯æ¯ç§è§„èŒƒçš„æ ¼å¼çš„åˆ—è¡¨ï¼š</p><h2 id="Angular-è§„èŒƒ"><a href="#Angular-è§„èŒƒ" class="headerlink" title="Angular è§„èŒƒ"></a>Angular è§„èŒƒ</h2><p>Angular è§„èŒƒè¦æ±‚æ¯ä¸ª commit message éƒ½åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼šHeaderã€Body å’Œ Footerã€‚å…¶ä¸­ï¼ŒHeader åŒ…å«ä¸€ä¸ªå¿…å¡«å­—æ®µå’Œä¸€ä¸ªå¯é€‰å­—æ®µï¼Œå¿…å¡«å­—æ®µä¸º Typeï¼Œå¯é€‰å­—æ®µä¸º Scopeã€‚Body å’Œ Footer éƒ½æ˜¯å¯é€‰çš„ï¼Œç”¨äºæä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚</p><p><strong>Type å­—æ®µåŒ…å«ä»¥ä¸‹å€¼ï¼š</strong></p><ul><li><code>feat</code>ï¼šæ–°åŠŸèƒ½</li><li><code>fix</code>ï¼šä¿®å¤é—®é¢˜</li><li><code>docs</code>ï¼šæ–‡æ¡£ä¿®æ”¹</li><li><code>style</code>ï¼šä»£ç æ ¼å¼ä¿®æ”¹ï¼Œä¸å½±å“ä»£ç é€»è¾‘</li><li><code>refactor</code>ï¼šé‡æ„ä»£ç ï¼Œæ—¢ä¸ä¿®å¤é”™è¯¯ä¹Ÿä¸æ·»åŠ åŠŸèƒ½</li><li><code>perf</code>ï¼šæ€§èƒ½ä¼˜åŒ–</li><li><code>test</code>ï¼šæ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•ä»£ç </li><li><code>build</code>ï¼šæ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–é¡¹ä¿®æ”¹</li><li><code>ci</code>ï¼šæŒç»­é›†æˆä¿®æ”¹</li><li><code>chore</code>ï¼šå…¶ä»–ä¿®æ”¹ï¼Œå¦‚ä¿®æ”¹æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·ç­‰</li><li><code>revert</code>ï¼šå›æ»šåˆ°ä¹‹å‰çš„æäº¤</li></ul><p><strong>Angular è§„èŒƒçš„æ ¼å¼ä¸ºï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt;[(scope)]: &lt;subject&gt;</span><br><span class="line"></span><br><span class="line">[body]</span><br><span class="line"></span><br><span class="line">[footer]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">e.g.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">slim</span></span><br><span class="line">feat: add user management module</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">fully</span></span><br><span class="line">feat(users): add user management module</span><br><span class="line"></span><br><span class="line">This commit adds the user management module to the project.</span><br><span class="line"></span><br><span class="line">Closes #123</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>&lt;type&gt;</code> è¡¨ç¤º commit çš„ç±»å‹ï¼Œ<code>[scope]</code> è¡¨ç¤º commit çš„å½±å“èŒƒå›´ï¼Œ<code>&lt;subject&gt;</code> è¡¨ç¤º commit çš„ç®€çŸ­æè¿°ï¼Œ<code>[body]</code> è¡¨ç¤º commit çš„è¯¦ç»†æè¿°ï¼Œ<code>&lt;footer&gt;</code> è¡¨ç¤º commit çš„å…ƒä¿¡æ¯ï¼Œå¦‚å…³é—­ issueã€å¼•å…¥å˜æ›´ç­‰ã€‚</p><h2 id="Conventional-Commits-è§„èŒƒ"><a href="#Conventional-Commits-è§„èŒƒ" class="headerlink" title="Conventional Commits è§„èŒƒ"></a>Conventional Commits è§„èŒƒ</h2><p>Conventional Commits è§„èŒƒè¦æ±‚æ¯ä¸ª commit message éƒ½åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼šTypeã€Scope å’Œ Subjectã€‚å…¶ä¸­ï¼ŒType å’Œ Subject æ˜¯å¿…å¡«çš„ï¼ŒScope æ˜¯å¯é€‰çš„ã€‚</p><p><strong>Type åŒ…å«ä»¥ä¸‹å€¼ï¼š</strong></p><ul><li><code>feat</code>ï¼šæ–°åŠŸèƒ½</li><li><code>fix</code>ï¼šä¿®å¤é—®é¢˜</li><li><code>docs</code>ï¼šæ–‡æ¡£ä¿®æ”¹</li><li><code>style</code>ï¼šä»£ç æ ¼å¼ä¿®æ”¹ï¼Œä¸å½±å“ä»£ç é€»è¾‘</li><li><code>refactor</code>ï¼šé‡æ„ä»£ç ï¼Œæ—¢ä¸ä¿®å¤é”™è¯¯ä¹Ÿä¸æ·»åŠ åŠŸèƒ½</li><li><code>perf</code>ï¼šæ€§èƒ½ä¼˜åŒ–</li><li><code>test</code>ï¼šæ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•ä»£ç </li><li><code>build</code>ï¼šæ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–é¡¹ä¿®æ”¹</li><li><code>ci</code>ï¼šæŒç»­é›†æˆä¿®æ”¹</li><li><code>chore</code>ï¼šå…¶ä»–ä¿®æ”¹ï¼Œå¦‚ä¿®æ”¹æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·ç­‰</li><li><code>revert</code>ï¼šå›æ»šåˆ°ä¹‹å‰çš„æäº¤</li><li><code>feat!</code>: ä¸å…¼å®¹çš„æ–°åŠŸèƒ½</li><li><code>fix!</code>: ä¸å…¼å®¹çš„ä¿®å¤é—®é¢˜</li><li><code>docs!</code>: ä¸å…¼å®¹çš„æ–‡æ¡£ä¿®æ”¹</li><li><code>style!</code>: ä¸å…¼å®¹çš„ä»£ç æ ¼å¼ä¿®æ”¹</li><li><code>refactor!</code>: ä¸å…¼å®¹çš„é‡æ„ä»£ç </li><li><code>perf!</code>: ä¸å…¼å®¹çš„æ€§èƒ½ä¼˜åŒ–</li><li><code>test!</code>: ä¸å…¼å®¹çš„æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•ä»£ç </li><li><code>build!</code>: ä¸å…¼å®¹çš„æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–é¡¹ä¿®æ”¹</li><li><code>ci!</code>: ä¸å…¼å®¹çš„æŒç»­é›†æˆä¿®æ”¹</li><li><code>chore!</code>: ä¸å…¼å®¹çš„å…¶ä»–ä¿®æ”¹ï¼Œå¦‚ä¿®æ”¹æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·ç­‰</li></ul><p><strong>Conventional Commits è§„èŒƒçš„æ ¼å¼ä¸ºï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt;[scope]: &lt;subject&gt;</span><br><span class="line"></span><br><span class="line">[body]</span><br><span class="line"></span><br><span class="line">[footer]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">e.g.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">slim</span></span><br><span class="line">feat: add user management module</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">fully</span></span><br><span class="line">feat(users): add user management module</span><br><span class="line"></span><br><span class="line">This commit adds the user management module to the project.</span><br><span class="line"></span><br><span class="line">Closes #123</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>&lt;type&gt;</code> è¡¨ç¤º commit çš„ç±»å‹ï¼Œ<code>[scope]</code> è¡¨ç¤º commit çš„å½±å“èŒƒå›´ï¼Œ<code>&lt;subject&gt;</code> è¡¨ç¤º commit çš„ç®€çŸ­æè¿°ï¼Œ<code>[body]</code> è¡¨ç¤º commit çš„è¯¦ç»†æè¿°ï¼Œ<code>[footer]</code> è¡¨ç¤º commit çš„å…ƒä¿¡æ¯ã€‚</p><h2 id="Gitmoji-è§„èŒƒ"><a href="#Gitmoji-è§„èŒƒ" class="headerlink" title="Gitmoji è§„èŒƒ"></a>Gitmoji è§„èŒƒ</h2><p>ä»¥ä¸‹æ˜¯ Gitmoji è§„èŒƒä¸­ä¸€äº›å¸¸ç”¨çš„ emoji å’Œå®ƒä»¬çš„å«ä¹‰ï¼š</p><ul><li>âœ¨ <code>:sparkles:</code>ï¼šæ–°å¢åŠŸèƒ½</li><li>ğŸ› <code>:bug:</code>ï¼šä¿®å¤ bug</li><li>ğŸ“š <code>:books:</code>ï¼šä¿®æ”¹æ–‡æ¡£</li><li>ğŸ’„ <code>:lipstick:</code>ï¼šä¿®æ”¹æ ·å¼</li><li>â™»ï¸ <code>:recycle:</code>ï¼šé‡æ„ä»£ç ã€‚</li><li>âœ… <code>:white_check_mark:</code>ï¼šä¿®æ”¹æµ‹è¯•ç”¨ä¾‹</li><li>ğŸ”§ <code>:wrench:</code>ï¼šä¿®æ”¹æ„å»ºè¿‡ç¨‹æˆ–å·¥å…·</li><li>ğŸš€ <code>:rocket:</code>ï¼šä¼˜åŒ–æ€§èƒ½</li><li>ğŸ’š <code>:green_heart:</code>ï¼šä¿®æ”¹æŒç»­é›†æˆæµç¨‹</li><li>ğŸ“¦ <code>:package:</code>ï¼šä¿®æ”¹æ„å»ºè¿‡ç¨‹</li><li>âª <code>:rewind:</code>ï¼šæ’¤é”€ä¹‹å‰çš„æäº¤</li></ul><p>Gitmoji è§„èŒƒçš„æ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;gitmoji&gt; &lt;description&gt;</span><br><span class="line"></span><br><span class="line">[body]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">e.g.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">slim</span></span><br><span class="line">âœ¨ add user management module</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">fully</span></span><br><span class="line">âœ¨ add user management module</span><br><span class="line"></span><br><span class="line">This commit adds the user management module to the project.</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>&lt;gitmoji&gt;</code> æ˜¯ä¸€ä¸ªè¡¨æƒ…ç¬¦å·ï¼Œè¡¨ç¤º commit çš„ç±»å‹å’Œå«ä¹‰ï¼Œ<code>&lt;description&gt;</code> è¡¨ç¤º commit çš„ç®€çŸ­æè¿° ,<code>[body]</code>?: commit çš„è¯¦ç»†æè¿°ã€‚</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>ä»ä»¥ä¸Šå¯ä»¥çœ‹å‡º Conventional Commits è§„èŒƒ ä¸ Angular è§„èŒƒæœ‰æ¯”è¾ƒå¤šçš„ç›¸åŒä¹‹å¤„ã€‚æ˜¯çš„ï¼ŒConventional Commits è§„èŒƒå€Ÿé‰´äº† Angular è§„èŒƒã€‚</p><p>äº‹å®ä¸Šï¼ŒConventional Commits è§„èŒƒçš„åˆ›å§‹äºº Tim Pope æ˜¯ Karma å›¢é˜Ÿçš„æˆå‘˜ï¼Œä»–åœ¨å¼€å‘ Karma è¿‡ç¨‹ä¸­ä½¿ç”¨äº† Angular è§„èŒƒï¼Œè®¤ä¸ºè¿™ä¸ªè§„èŒƒéå¸¸æœ‰ç”¨ã€‚å› æ­¤ï¼Œä»–åœ¨ Angular è§„èŒƒçš„åŸºç¡€ä¸Šï¼Œæ‰©å……å’Œä¿®æ”¹äº†ä¸€äº›å†…å®¹ï¼Œæå‡ºäº† Conventional Commits è§„èŒƒã€‚å¯ä»¥è¯´ï¼ŒConventional Commits è§„èŒƒæ˜¯åœ¨ Angular è§„èŒƒçš„åŸºç¡€ä¸Šå‘å±•è€Œæ¥çš„ï¼Œä½†æ˜¯ç›¸å¯¹äº Angular è§„èŒƒï¼ŒConventional Commits è§„èŒƒæ›´åŠ é€šç”¨ï¼Œå¯ä»¥é€‚ç”¨äºæ›´å¤šçš„é¡¹ç›®å’Œå¼€å‘è¯­è¨€ã€‚</p><p><em>ä»¥ä¸‹æ˜¯ Angular è§„èŒƒå’Œ Conventional Commits è§„èŒƒåœ¨æŸäº›æ–¹é¢å­˜åœ¨çš„ä¸€äº›å·®å¼‚ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</em></p><ul><li><p><strong>Header æ ¼å¼ä¸åŒ</strong>ï¼šAngular è§„èŒƒè¦æ±‚ Header å¿…é¡»åŒ…å« Type å­—æ®µå’Œå¯é€‰çš„ Scope å­—æ®µï¼Œå¦‚ â€œfeat(core): add new featureâ€ï¼›è€Œ Conventional Commits è§„èŒƒè¦æ±‚ Header å¿…é¡»åŒ…å« Type å’Œ Subject å­—æ®µï¼ŒScope å­—æ®µæ˜¯å¯é€‰çš„ï¼Œå¦‚ â€œfeat: add new featureâ€ã€‚</p></li><li><p><strong>Type å€¼çš„å®šä¹‰ç•¥æœ‰ä¸åŒ</strong>ï¼šAngular è§„èŒƒå’Œ Conventional Commits è§„èŒƒéƒ½å®šä¹‰äº†ä¸€äº› Type å€¼ï¼Œä½†æœ‰äº›å€¼çš„å«ä¹‰ç•¥æœ‰ä¸åŒã€‚ä¾‹å¦‚ï¼ŒConventional Commits è§„èŒƒå°† â€œbuildâ€ å’Œ â€œciâ€ ä¸¤ä¸ª Type å€¼åˆ†åˆ«å®šä¹‰ä¸ºæ„å»ºå’ŒæŒç»­é›†æˆä¿®æ”¹ï¼Œè€Œ Angular è§„èŒƒå°†å®ƒä»¬åˆå¹¶ä¸º â€œbuildâ€ã€‚</p></li><li><p><strong>Conventional Commits è§„èŒƒå®šä¹‰äº†ç‰¹æ®Šçš„ Type å€¼</strong>ï¼šConventional Commits è§„èŒƒå®šä¹‰äº†ä¸€äº›ç‰¹æ®Šçš„ Type å€¼ï¼Œå¦‚ â€œfeat!â€ å’Œ â€œfix!â€ï¼Œç”¨äºè¡¨ç¤ºä¸å…¼å®¹çš„æ–°åŠŸèƒ½æˆ–ä¿®å¤é—®é¢˜ã€‚è€Œ Angular è§„èŒƒæ²¡æœ‰è¿™æ ·çš„å®šä¹‰ã€‚</p></li></ul><p>Gitmoji è§„èŒƒçš„æ˜¾è‘—ç‰¹ç‚¹æ˜¯ä¾›äº†å¤§é‡çš„ emoji æ¥æè¿°ä¸åŒç±»å‹å’Œç›®çš„çš„ Git æäº¤ï¼Œè¿™ä½¿å¾—å¼€å‘è€…å¯ä»¥æ›´åŠ å‡†ç¡®åœ°æè¿°è‡ªå·±çš„ Git æäº¤ï¼Œç®€å•æ˜“æ‡‚ï¼Œå…·æœ‰å¾ˆå¼ºçš„å¯è¯»æ€§ã€‚Commitçš„æ ¼å¼åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¸å‰ä¸¤è€…æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä»æå‡ºæ—¶é—´ä¸Šçœ‹ï¼Œå®ƒç®—æ˜¯é‡‡ç™¾å®¶ä¹‹é•¿çš„é›†å¤§æˆè€…äº†ã€‚</p><p>Gitmoji è§„èŒƒçš„åˆ¶å®šè€… Carlos Cuesta åœ¨è§„èŒƒçš„ Github é¡µé¢ä¸Šå¹¶æ²¡æœ‰æ˜ç¡®æåˆ°ä»–å€Ÿé‰´äº†å“ªäº›è§„èŒƒã€‚ç„¶è€Œï¼Œä» Gitmoji è§„èŒƒçš„å†…å®¹æ¥çœ‹ï¼Œå®ƒå€Ÿé‰´äº†ä¸€äº›å…¶ä»–çš„è§„èŒƒå’Œæ ‡å‡†ï¼Œä¾‹å¦‚ï¼š</p><ul><li><p><strong>Emoji</strong>ï¼šGitmoji è§„èŒƒä½¿ç”¨ Emoji è¡¨æƒ…ç¬¦å·æ¥è¡¨ç¤ºä¸åŒç±»å‹çš„æäº¤ï¼Œè¿™ä¸€åšæ³•å’Œ Slackã€å¾®ä¿¡ç­‰å·¥å…·ä¸­ä½¿ç”¨ Emoji è¡¨æƒ…ç¬¦å·çš„æ–¹å¼ç±»ä¼¼ã€‚</p></li><li><p><strong>Semantic Versioning</strong>ï¼šGitmoji è§„èŒƒä¸­ä½¿ç”¨äº†ç±»ä¼¼ Semantic Versioning çš„æ–¹å¼æ¥è¡¨ç¤ºç‰ˆæœ¬ï¼Œä¾‹å¦‚ â€œ:bookmark:â€ è¡¨ç¤ºæ‰“æ ‡ç­¾ï¼Œâ€:bookmark: v1.0.0â€ è¡¨ç¤ºæ‰“äº†ä¸€ä¸ª v1.0.0 çš„æ ‡ç­¾ã€‚</p></li><li><p><strong>Conventional Commits</strong>ï¼šGitmoji è§„èŒƒå’Œ Conventional Commits è§„èŒƒç±»ä¼¼ï¼Œéƒ½æ˜¯ä½¿ç”¨ commit message æ¥æè¿°ä»£ç åº“çš„å˜åŒ–ã€‚ä¸è¿‡ï¼ŒGitmoji è§„èŒƒä½¿ç”¨ Emoji è¡¨æƒ…ç¬¦å·æ¥è¡¨ç¤ºä¸åŒç±»å‹çš„æäº¤ï¼Œè€Œ Conventional Commits è§„èŒƒä½¿ç”¨æ–‡æœ¬æ ‡è¯†ç¬¦æ¥è¡¨ç¤ºã€‚</p></li></ul><h1 id="Commit-è¯­æ³•æ£€æµ‹"><a href="#Commit-è¯­æ³•æ£€æµ‹" class="headerlink" title="Commit è¯­æ³•æ£€æµ‹"></a>Commit è¯­æ³•æ£€æµ‹</h1><p><a target="_blank" rel="noopener" href="https://commitlint.js.org/#/?id=getting-started">Commitlint â†—</a> æ˜¯ä¸€ä¸ªç”¨äºæ£€æŸ¥ commit message æ˜¯å¦ç¬¦åˆè§„èŒƒçš„å·¥å…·ï¼Œå¯ä»¥è‡ªå®šä¹‰è§„åˆ™å’Œé…ç½®ã€‚å®ƒæ”¯æŒå¤šç§è§„èŒƒï¼Œå¦‚ Angular è§„èŒƒã€Conventional Commits è§„èŒƒã€ESLint è§„èŒƒç­‰ã€‚</p><p><a target="_blank" rel="noopener" href="https://commitlint.js.org/#/?id=getting-started">Commitlint â†—</a> çš„ä½œç”¨ä»…ä»…æ˜¯æ£€æµ‹ Commit è¯­æ³•ã€‚è¿˜éœ€è¦ä½¿ç”¨ Git Hook ï¼ˆ<code>commit-msg</code>ï¼‰æ‹¦æˆª <code>git commit</code> åŠ¨ä½œä»¥è¾¾åˆ°å¼ºåˆ¶æ‰§è¡Œè§„èŒƒçš„ç›®çš„ã€‚</p><blockquote><p><strong>commit-msg</strong><br>This hook is invoked by <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-commit">git-commit[1]</a> and <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-merge">git-merge[1]</a>, and can be bypassed with the <code>--no-verify</code> option. It takes a single parameter, the name of the file that holds the proposed commit log message. Exiting with a non-zero status causes the command to abort.</p><p><mark>The hook is allowed to edit the message file in place, and can be used to normalize the message into some project standard format. It can also be used to refuse the commit after inspecting the message file.</mark></p><p>The default commit-msg hook, when enabled, detects duplicate <code>Signed-off-by</code> trailers, and aborts the commit if one is found.</p><p>Refenrence: <a target="_blank" rel="noopener" href="https://git-scm.com/docs/githooks#_commit_msg">githooks - Hooks used by Git</a></p></blockquote><p><a target="_blank" rel="noopener" href="https://typicode.github.io/husky/">Husky â†—</a> æ˜¯ä¸€ä¸ª Git hook å·¥å…·ï¼Œå®ƒå¯ä»¥åœ¨ Git æ‰§è¡Œç‰¹å®šæ“ä½œæ—¶è‡ªåŠ¨è§¦å‘é¢„å®šä¹‰çš„è„šæœ¬ã€‚å¸¸ç”¨äºé…åˆ Commitlint è¿›è¡Œ commit message çš„æ ¡éªŒã€‚ä¸åŸç”Ÿçš„ Git hook ç›¸æ¯”ï¼ŒHusky æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li><p><strong>æ˜“äºä½¿ç”¨</strong>ï¼šHusky æä¾›äº†ç®€å•æ˜“ç”¨çš„ APIï¼Œå¯ä»¥è½»æ¾åœ°åœ¨é¡¹ç›®ä¸­æ·»åŠ å’Œé…ç½® Git hookã€‚ä¸åŸç”Ÿçš„ Git hook ç›¸æ¯”ï¼ŒHusky çš„é…ç½®æ›´åŠ ç›´è§‚å’Œç®€å•ï¼Œä¸éœ€è¦æ‰‹åŠ¨ç¼–å†™è„šæœ¬ã€‚</p></li><li><p><strong>è·¨å¹³å°æ”¯æŒ</strong>ï¼šHusky å¯ä»¥åœ¨ Windowsã€Linuxã€macOS ç­‰å¤šä¸ªå¹³å°ä¸Šè¿è¡Œï¼Œè€ŒåŸç”Ÿçš„ Git hook å¯èƒ½ä¼šå› ä¸ºæ“ä½œç³»ç»Ÿå’Œ shell çš„ä¸åŒè€Œäº§ç”Ÿå…¼å®¹æ€§é—®é¢˜ã€‚</p></li><li><p><strong>æ›´å¼ºå¤§çš„åŠŸèƒ½</strong>ï¼šHusky æ”¯æŒå¤šä¸ª Git hookï¼Œå¯ä»¥åœ¨ä¸åŒçš„ Git æ“ä½œæ—¶è‡ªåŠ¨è§¦å‘ç›¸åº”çš„ä»»åŠ¡ã€‚è€ŒåŸç”Ÿçš„ Git hook åªæ”¯æŒæœ‰é™çš„å‡ ä¸ª hookï¼Œéœ€è¦æ‰‹åŠ¨ç¼–å†™è„šæœ¬æ¥å®ç°æ›´å¤æ‚çš„åŠŸèƒ½ã€‚</p></li><li><p><strong>å®‰å…¨æ€§</strong>ï¼šHusky çš„é…ç½®æ–‡ä»¶å­˜å‚¨åœ¨é¡¹ç›®çš„ package.json æ–‡ä»¶ä¸­ï¼Œè¿™æ„å‘³ç€å¯ä»¥å°†é…ç½®æ–‡ä»¶æäº¤åˆ°ä»£ç ä»“åº“ä¸­è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œä¿è¯é…ç½®çš„å®‰å…¨æ€§å’Œä¸€è‡´æ€§ã€‚è€ŒåŸç”Ÿçš„ Git hook éœ€è¦æ‰‹åŠ¨å°† hook è„šæœ¬æ·»åŠ åˆ° .git&#x2F;hooks ç›®å½•ä¸­ï¼Œå®¹æ˜“è¢«æ„å¤–è¦†ç›–æˆ–åˆ é™¤ã€‚</p></li></ul><p><em>å› æ­¤ï¼Œæ¥ä¸‹æ¥éœ€è¦åšçš„äº‹æƒ…æ˜¯ï¼Œå®‰è£… Huskyï¼Œé…ç½® <code>commit-msg</code> æ‹¦æˆª<code>git commit</code> åŠ¨ä½œï¼Œå†å®‰è£… Commitlint å¯¹æ‹¦æˆªåˆ°çš„ commit ä¿¡æ¯è¿›è¡Œæ ¡éªŒã€‚</em></p><h2 id="å®‰è£…-Husky"><a href="#å®‰è£…-Husky" class="headerlink" title="å®‰è£… Husky"></a>å®‰è£… Husky</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm</span></span><br><span class="line">npm install husky --save-dev</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pnpm</span></span><br><span class="line">pnpm add husky --save-dev</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ Husky å®‰è£… Git Hooks</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npx è°ƒç”¨ å±€éƒ¨å‘½ä»¤ husky</span> </span><br><span class="line">npx husky install</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç›´æ¥è·¯å¾„è®¿é—®å±€éƒ¨å‘½ä»¤ husky</span></span><br><span class="line">./node_modules/.bin/husky install</span><br></pre></td></tr></table></figure><details open><summary><strong>ğŸ’¡ npx æ˜¯ä»€ä¹ˆï¼Ÿ</strong></summary><blockquote><br><p><code>npx</code>æ˜¯ä¸€ä¸ªNode.jså‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼æ¥è¿è¡Œæœ¬åœ°å®‰è£…çš„Node.jsåŒ…ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚npxçš„ä½œç”¨æ˜¯åœ¨ä¸å…¨å±€å®‰è£…åŒ…çš„æƒ…å†µä¸‹ï¼Œè¿è¡Œè¿™äº›åŒ…ä¸­çš„å‘½ä»¤ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨è¿è¡Œå‘½ä»¤è¡Œå·¥å…·æ—¶ï¼Œéœ€è¦å…¨å±€å®‰è£…ç›¸å…³çš„åŒ…å’Œä¾èµ–é¡¹ã€‚ä½†æ˜¯ï¼Œè¿™ç§æ–¹å¼å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚ä¸åŒç‰ˆæœ¬çš„åŒ…ä¹‹é—´çš„å†²çªï¼Œæˆ–è€…éœ€è¦æ‰‹åŠ¨æ›´æ–°å…¨å±€å®‰è£…çš„åŒ…ç­‰ã€‚<code>npx</code>æä¾›äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥åœ¨ä¸å…¨å±€å®‰è£…åŒ…çš„æƒ…å†µä¸‹ï¼Œè¿è¡Œè¿™äº›åŒ…ä¸­çš„å‘½ä»¤ã€‚</p><p>ä½¿ç”¨<code>npx</code>ï¼Œå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šéœ€è¦è¿è¡Œçš„åŒ…å’Œå‘½ä»¤ï¼Œ<code>npx</code>å°†ä¼šè‡ªåŠ¨æŸ¥æ‰¾å¹¶è¿è¡Œè¯¥åŒ…ä¸­çš„å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œ&quot;<code>create-react-app</code>&quot;åŒ…ä¸­çš„å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„Reactåº”ç”¨ç¨‹åºï¼š</p><pre><code>npx create-react-app my-app</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>npx</code>å°†åœ¨æœ¬åœ°æŸ¥æ‰¾&quot;<code>create-react-app</code>&quot;åŒ…ï¼Œå¹¶è¿è¡Œå®ƒä¸­çš„&quot;<code>create-react-app</code>&quot;å‘½ä»¤ï¼Œç„¶åä½¿ç”¨&quot;<code>my-app</code>&quot;ä½œä¸ºåº”ç”¨ç¨‹åºçš„åç§°åˆ›å»ºä¸€ä¸ªæ–°çš„Reactåº”ç”¨ç¨‹åºã€‚</p><p>æ›´å¤š npx ç›¸å…³ä¿¡æ¯å¯å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v9/commands/npx">Npx | Run a command from a local or remote npm package</a></p><br></blockquote></details><br><p>æ·»åŠ  <code>prepare</code> è„šæœ¬åˆ° <code>package.json</code> çš„ <code>scripts</code> ä¸­ï¼Œä½¿å¾—åœ¨æ–°ç¯å¢ƒåˆå§‹åŒ–é¡¹ç›®æ—¶ï¼Œè‡ªåŠ¨å®‰è£… Git Hooksã€‚</p><p>ğŸ“¢ <em>æ­¤ä¸ºå¯é€‰æ“ä½œï¼Œä¸åšä¹Ÿä¸å½±å“åç»­æ“ä½œï¼Œä½†æ˜¯æ¨èæ‰§è¡Œ</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">npm pkg set scripts.prepare=&quot;husky install&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰§è¡Œä»¥ä¸Šå‘½ä»¤å¾—åˆ°çš„ç»“æœæ˜¯ï¼š</span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">+    &quot;prepare&quot;: &quot;husky install&quot; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>prepare (since <a href="mailto:npm@4.0.0">&#x6e;&#x70;&#x6d;&#64;&#52;&#x2e;&#x30;&#x2e;&#x30;</a>)</strong></p><p>Runs BEFORE the package is packed<br>Runs BEFORE the package is published<br><mark>Runs on local â€œnpm installâ€ without any arguments</mark><br>Run AFTER <code>prepublish</code>, but BEFORE <code>prepublishOnly</code><br>NOTE: If a package being installed through git contains a <code>prepare</code> script, its <code>dependencies</code> and <code>devDependencies</code> will be installed, and the prepare script will be run, before the package is packaged and installed.</p><p>Refenrence: <a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v9/using-npm/scripts">How npm handles the â€œscriptsâ€ field</a></p></blockquote><p>Husky é…ç½® Hooks çš„æ–¹å¼å¦‚ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npx husky add .husky/&lt;git hook&gt; &quot;&lt;command that needs to be executed when the hook is triggered&gt;&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">e.g.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å°†åœ¨ `git commit` æ‰§è¡Œå‰è§¦å‘ `npm <span class="built_in">test</span>` å‘½ä»¤</span></span><br><span class="line">npx husky add .husky/pre-commit &quot;npm test&quot;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼ŒGit Hooks çš„å‡†å¤‡å·¥ä½œå·²ç»å®Œæˆï¼Œ<code>commit-msg</code> é’©å­çš„é…ç½®è¦åœ¨ commitlint å®‰è£…å®Œæˆåé…ç½®ã€‚</p><h2 id="å®‰è£…-Commitlint"><a href="#å®‰è£…-Commitlint" class="headerlink" title="å®‰è£… Commitlint"></a>å®‰è£… Commitlint</h2><p><code>@commitlint</code> æ˜¯ä¸€ä¸ªç”±å¤šä¸ªç›¸å…³åŒ…ç»„æˆçš„é›†åˆï¼Œå¯ä»¥æ ¹æ®éœ€è¦å®‰è£…å’Œé…ç½®è¿™äº›åŒ…æ¥å®ç°ä¸åŒçš„åŠŸèƒ½ã€‚</p><p><code>@commitlint</code> çš„æ ¸å¿ƒåŒ…æ˜¯<code>@commitlint/cli</code>ï¼Œå®ƒæä¾›äº†å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºæ£€æŸ¥æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒã€‚<code>@commitlint/cli</code>å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æ¥æŒ‡å®šè§„èŒƒï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥æŒ‡å®šè§„èŒƒã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨<code>@commitlint/config-conventional</code>åŒ…æ¥å®šä¹‰ä¸€ä¸ªå¸¸è§„çš„æäº¤ä¿¡æ¯è§„èŒƒï¼Œç„¶åä½¿ç”¨<code>@commitlint/cli</code>æ¥æ£€æŸ¥æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆè¯¥è§„èŒƒã€‚</p><p>é™¤äº†<code>@commitlint/cli</code>ä¹‹å¤–ï¼Œ@commitlintè¿˜æä¾›äº†å…¶ä»–å‡ ä¸ªç›¸å…³åŒ…ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><code>@commitlint/load</code>: æä¾›äº†ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåŠ è½½é…ç½®æ–‡ä»¶å¹¶è§£æå®ƒä»¬ï¼Œä»¥ä¾¿<code>@commitlint/cli</code>å¯ä»¥ä½¿ç”¨å®ƒä»¬è¿›è¡Œæ£€æŸ¥ã€‚</li><li><code>@commitlint/config-conventional</code>: æä¾›äº†ä¸€ç»„å¸¸è§çš„è§„èŒƒï¼Œç”¨äºæ£€æŸ¥å¸¸è§„çš„Gitæäº¤ä¿¡æ¯æ ¼å¼ã€‚</li><li><code>@commitlint/config-angular</code>: æä¾›äº†ä¸€ä¸ªç”¨äºæ£€æŸ¥Angularé¡¹ç›®çš„æäº¤ä¿¡æ¯è§„èŒƒã€‚</li><li><code>@commitlint/config-lerna-scopes</code>: æä¾›äº†ä¸€ä¸ªç”¨äºæ£€æŸ¥Lernaé¡¹ç›®çš„æäº¤ä¿¡æ¯è§„èŒƒã€‚</li><li><a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/commitlint/tree/master/%40commitlint">æ›´å¤šç›¸å…³åŒ…â€¦</a></li></ul><p>è¿™äº›åŒ…å¯ä»¥æ ¹æ®å…·ä½“éœ€è¦è¿›è¡Œå®‰è£…å’Œé…ç½®ã€‚</p><hr><p>ğŸ“¢ <em>æ ¹æ®å½“å‰çš„éœ€æ±‚ï¼Œæ¥ä¸‹æ¥åˆ™å®‰è£… <code>@commitlint/cli</code> å’Œ <code>@commitlint/config-conventional</code>(Conventional Commits è§„èŒƒ)</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm</span></span><br><span class="line">npm install --save-dev @commitlint/config-conventional @commitlint/cli</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pnpm</span></span><br><span class="line">pnpm add --save-dev @commitlint/config-conventional @commitlint/cli</span><br></pre></td></tr></table></figure><p>æ·»åŠ  é…ç½®æ–‡ä»¶</p><p><code>@commitlint/cli</code> æ”¯æŒä»¥ä¸‹è¿™äº›é»˜è®¤çš„é…ç½®æ–‡ä»¶åï¼š</p><ul><li><code>commitlint.config.js</code></li><li><code>.commitlintrc.js</code></li><li><code>.commitlintrc</code></li><li><code>.commitlintrc.json</code></li><li><code>.commitlintrc.yml</code></li></ul><p>ä¸ºäº†é¿å…åˆ‡æ¢æ¨¡å—åŒ–è¯­æ³•é—®é¢˜ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨ <code>.commitlintrc.yml</code> ä½œä¸ºé…ç½®æ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .commitlintrc.yml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ extends å¼•ç”¨ @commitlint/config-conventional è§„èŒƒ</span></span><br><span class="line"><span class="attr">extends:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#x27;@commitlint/config-conventional&#x27;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šçš„é…ç½®é¡¹å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://commitlint.js.org/#/reference-configuration?id=configuration">Commitlint &gt; Configuration</a></p><p><img src="test_commitlint.gif" alt="Test Commitlint-CLI"></p><h2 id="Husky-Commitlint"><a href="#Husky-Commitlint" class="headerlink" title="Husky + Commitlint"></a>Husky + Commitlint</h2><p>ä½¿ç”¨ Husky è®¾ç½® <code>commit-msg</code> é’©å­æ‰§è¡Œ <code>commitlint-cli</code>, å¯¹ <code>git commit</code> åŠ¨ä½œæäº¤çš„ä¿¡æ¯è¿›è¡Œæ ¡éªŒã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx husky add .husky/commit-msg  &#x27;npx --no -- commitlint --edit $&#123;1&#125;&#x27;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼Œ<code>--no</code> å‚æ•°æ˜¯ç”¨æ¥ç¦ç”¨ <code>npx</code> çš„é»˜è®¤è¡Œä¸ºçš„ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>npx</code> ä¼šåœ¨è¿è¡Œç›®æ ‡å‘½ä»¤ä¹‹å‰æ£€æŸ¥æœ¬åœ°æ˜¯å¦å·²ç»å®‰è£…äº†ç›®æ ‡å‘½ä»¤æ‰€åœ¨çš„åŒ…ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…ï¼Œåˆ™ä¼šå…ˆå®‰è£…è¯¥åŒ…ï¼Œç„¶åå†è¿è¡Œç›®æ ‡å‘½ä»¤ã€‚è¿™ç§è¡Œä¸ºé€šå¸¸æ˜¯æœ‰ç”¨çš„ï¼Œå› ä¸ºå®ƒå¯ä»¥ç¡®ä¿è¿è¡Œçš„å‘½ä»¤ä½¿ç”¨çš„æ˜¯æœ€æ–°çš„åŒ…ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¯ä»¥é¿å…ä¸åŒç‰ˆæœ¬ä¹‹é—´çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¸æƒ³è®© <code>npx</code> è‡ªåŠ¨å®‰è£…åŒ…ï¼Œè€Œæ˜¯å¸Œæœ›ä½¿ç”¨æœ¬åœ°å·²ç»å®‰è£…çš„åŒ…ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>--no</code> å‚æ•°æ¥ç¦ç”¨ <code>npx</code> çš„é»˜è®¤è¡Œä¸ºï¼Œä»¥ä¾¿ç›´æ¥ä½¿ç”¨æœ¬åœ°å®‰è£…çš„åŒ…ã€‚</p><p>åœ¨è¿™ä¸ªå…·ä½“çš„å‘½ä»¤ä¸­ï¼Œ<code>--no</code> å‚æ•°ç”¨æ¥ç¦ç”¨ <code>npx</code> è‡ªåŠ¨å®‰è£… <code>commitlint</code> åŒ…ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å·²ç»å®‰è£…çš„ <code>commitlint</code> åŒ…ã€‚</p><p><code>--edit $&#123;1&#125;</code> æ˜¯ç”¨æ¥ç¼–è¾‘æŒ‡å®šæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„æäº¤ä¿¡æ¯ï¼Œ<code>$&#123;1&#125;</code> ä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ã€‚è¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯ä½¿ç”¨æœ¬åœ°å®‰è£…çš„ <code>commitlint</code> åŒ…æ¥æ£€æŸ¥æŒ‡å®šæ–‡ä»¶çš„æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œå¹¶åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œä»¥ä¾¿ä¿®æ”¹æäº¤ä¿¡æ¯ã€‚</p><p><img src="commitlint_by_hook.gif" alt="Commitlint by hook"></p><h2 id="åŠè‡ªåŠ¨ç¼–å†™-Commit"><a href="#åŠè‡ªåŠ¨ç¼–å†™-Commit" class="headerlink" title="åŠè‡ªåŠ¨ç¼–å†™ Commit"></a>åŠè‡ªåŠ¨ç¼–å†™ Commit</h2><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ Markdown è¡¨æ ¼è¾“å‡º @commitlint&#x2F;prompt-cli å’Œ Commitizen çš„ä¿¡æ¯ï¼š</p><table><thead><tr><th>å·¥å…·åç§°</th><th>æè¿°</th><th>npmå‘¨ä¸‹è½½é‡ï¼ˆ2023&#x2F;07&#x2F;17ï¼‰</th></tr></thead><tbody><tr><td><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/@commitlint/prompt-cli">@commitlint&#x2F;prompt-cli â†—</a></td><td>ä¸€ä¸ªå‘½ä»¤è¡Œäº¤äº’å¼å·¥å…·ï¼Œç”¨äºå¸®åŠ©å¼€å‘äººå‘˜è§„èŒƒåŒ–æäº¤ä¿¡æ¯ã€‚å®ƒä½¿ç”¨ <code>commitlint</code> é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„è§„åˆ™æ¥æ£€æŸ¥æäº¤ä¿¡æ¯ï¼Œç¡®ä¿å®ƒä»¬ç¬¦åˆé¢„å®šçš„æ ¼å¼å’Œé£æ ¼ã€‚è¯¥å·¥å…·è¿˜æä¾›äº†ä¸€äº›æç¤ºï¼Œå¸®åŠ©å¼€å‘äººå‘˜æ›´å¥½åœ°ç†è§£å¦‚ä½•ç¼–å†™ç¬¦åˆè§„åˆ™çš„æäº¤ä¿¡æ¯ã€‚</td><td><em>67,802</em></td></tr><tr><td><a href="cz-cli">Commitizen â†—</a></td><td>ä¸€ä¸ªå‘½ä»¤è¡Œäº¤äº’å¼å·¥å…·ï¼Œç”¨äºå¸®åŠ©å¼€å‘äººå‘˜è§„èŒƒåŒ–æäº¤ä¿¡æ¯ã€‚å®ƒä½¿ç”¨é¢„å®šä¹‰çš„æäº¤ä¿¡æ¯æ¨¡æ¿æ¥å¼•å¯¼å¼€å‘äººå‘˜ç¼–å†™ç¬¦åˆè§„åˆ™çš„æäº¤ä¿¡æ¯ï¼Œå¹¶æ ¹æ®æ¨¡æ¿ä¸­çš„è§„åˆ™è¿›è¡ŒéªŒè¯ã€‚ä¸@commitlint&#x2F;prompt-cliä¸åŒçš„æ˜¯ï¼ŒCommitizenä¸æ£€æŸ¥æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆcommitlinté…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„è§„åˆ™ï¼Œè€Œæ˜¯ä¾é æ¨¡æ¿ä¸­çš„è§„åˆ™æ¥ç¡®ä¿æäº¤ä¿¡æ¯çš„æ­£ç¡®æ€§ã€‚æ­¤å¤–ï¼ŒCommitizenè¿˜æä¾›äº†ä¸€äº›åŠŸèƒ½ï¼Œä¾‹å¦‚è‡ªåŠ¨å¡«å……æäº¤ä¿¡æ¯ï¼Œä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´å¿«åœ°ç¼–å†™æäº¤ä¿¡æ¯ã€‚</td><td><em>917,033</em></td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm</span></span><br><span class="line">npm add @commitlint/prompt-cli --save-dev</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pnpm</span></span><br><span class="line">pnpm add @commitlint/prompt-cli --save-dev</span><br></pre></td></tr></table></figure><p><img src="test_prompt-cli.gif" alt="Test prompt-cli"></p><h1 id="ç‰ˆæœ¬ç®¡ç†"><a href="#ç‰ˆæœ¬ç®¡ç†" class="headerlink" title="ç‰ˆæœ¬ç®¡ç†"></a>ç‰ˆæœ¬ç®¡ç†</h1><p>Node.js éµå¾ªçš„ç‰ˆæœ¬å·å‘½åè§„èŒƒæ˜¯ <strong>è¯­ä¹‰åŒ–ç‰ˆæœ¬å·</strong>ï¼ˆSemVerï¼‰è§„èŒƒã€‚å¾ˆå¤š Node.js æ¨¡å—å’Œåº“çš„ç‰ˆæœ¬å·ä¹ŸåŒæ ·å¦‚æ­¤ã€‚</p><p>SemVer è§„èŒƒå®šä¹‰äº†ä¸€ä¸ªä¸‰ä½æ•°å­—çš„ç‰ˆæœ¬å·ï¼Œæ ¼å¼ä¸º <code>MAJOR.MINOR.PATCH</code>ï¼Œå…¶ä¸­ï¼š</p><ul><li><code>MAJOR</code>ï¼šä¸»ç‰ˆæœ¬å·ï¼Œè¡¨ç¤ºä¸å…¼å®¹çš„ API å˜åŒ–æˆ–é‡å¤§åŠŸèƒ½å˜åŒ–ã€‚</li><li><code>MINOR</code>ï¼šæ¬¡ç‰ˆæœ¬å·ï¼Œè¡¨ç¤ºå‘åå…¼å®¹çš„æ–°åŠŸèƒ½æ·»åŠ ã€‚</li><li><code>PATCH</code>ï¼šè¡¥ä¸ç‰ˆæœ¬å·ï¼Œè¡¨ç¤ºå‘åå…¼å®¹çš„ bug ä¿®å¤ã€‚</li></ul><p>é™¤äº†è¿™ä¸‰ä½æ•°å­—ä¹‹å¤–ï¼ŒSemVer è§„èŒƒè¿˜å¯ä»¥åŒ…å«ä¸€ä¸ªé¢„å‘å¸ƒç‰ˆæœ¬å·å’Œä¸€ä¸ªæ„å»ºç‰ˆæœ¬å·ã€‚é¢„å‘å¸ƒç‰ˆæœ¬å·ä»¥è¿å­—ç¬¦ <code>-</code> å¼€å¤´ï¼Œæ„å»ºç‰ˆæœ¬å·ä»¥åŠ å· <code>+</code> å¼€å¤´ï¼Œä¾‹å¦‚ <code>1.2.3-beta+build.123</code> è¡¨ç¤ºé¢„å‘å¸ƒç‰ˆæœ¬å·ä¸º <code>beta</code>ï¼Œæ„å»ºç‰ˆæœ¬å·ä¸º <code>build.123</code>ã€‚</p><p>é¢„å‘å¸ƒç‰ˆæœ¬å·å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ ‡è¯†ç¬¦ï¼š</p><ul><li><p><code>alpha</code>ï¼šè¡¨ç¤ºå†…éƒ¨æµ‹è¯•ç‰ˆæœ¬æˆ–ä»åœ¨å¼€å‘ä¸­çš„ä¸ç¨³å®šç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šåŒ…å«è¾ƒå¤šçš„ bugï¼Œä¸å»ºè®®ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚</p></li><li><p><code>beta</code>ï¼šè¡¨ç¤ºå…¬å¼€æµ‹è¯•ç‰ˆæœ¬ï¼Œå·²ç»å®Œæˆäº†ä¸»è¦åŠŸèƒ½çš„å¼€å‘ï¼Œä½†ä»éœ€è¦è¿›è¡Œæµ‹è¯•å’Œ bug ä¿®å¤ï¼Œå»ºè®®ç”¨äºæµ‹è¯•ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒã€‚</p></li><li><p><code>rc</code>ï¼šè¡¨ç¤ºå€™é€‰ç‰ˆæœ¬ï¼ˆRelease Candidateï¼‰ï¼Œå·²ç»å®Œæˆäº†æ‰€æœ‰çš„åŠŸèƒ½å¼€å‘å’Œæµ‹è¯•ï¼Œå¯ä»¥ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œä½†ä»éœ€è¦è¿›è¡Œæœ€åçš„æµ‹è¯•å’ŒéªŒè¯ã€‚</p></li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åŒçš„é¡¹ç›®å¯èƒ½ä¼šæœ‰è‡ªå·±çš„é¢„å‘å¸ƒç‰ˆæœ¬å·çº¦å®šï¼Œä»¥ä¸Šæ ‡è¯†ç¬¦ä»…æ˜¯è¯­ä¹‰åŒ–ç‰ˆæœ¬å·è§„èŒƒä¸­å¸¸è§çš„é¢„å‘å¸ƒç‰ˆæœ¬å·æ ‡è¯†ç¬¦ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¯ä»¥æ ¹æ®é¡¹ç›®çš„ç‰¹ç‚¹å’Œéœ€æ±‚ï¼Œè‡ªå®šä¹‰é¢„å‘å¸ƒç‰ˆæœ¬å·æ ‡è¯†ç¬¦ã€‚</p><p><img src="Snipaste_2023-07-25_18-24-32.png" alt="SemVer Manage"></p><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p><em>ä»¥ä¸‹æ˜¯å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š</em></p><ul><li>è¡¥ä¸ï¼ˆpatchï¼‰é¢„å‘å¸ƒç‰ˆæœ¬</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm-version</span></span><br><span class="line">npm version prepatch --preid &lt;preid-1&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">~ or ~</span></span><br><span class="line">npm version prepatch --preid=&lt;preid-1&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version --release-as patch --prerelease &lt;preid-1&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">~ or ~</span></span><br><span class="line">npx standard-version -r patch -p &lt;preid-1&gt;</span><br></pre></td></tr></table></figure><ul><li>æ¬¡ï¼ˆminorï¼‰é¢„å‘å¸ƒç‰ˆæœ¬</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm-version</span></span><br><span class="line">npm version preminor --preid=&lt;preid-1&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -r minor -p &lt;preid-1&gt;</span><br></pre></td></tr></table></figure><ul><li>ä¸»ï¼ˆmajorï¼‰é¢„å‘å¸ƒç‰ˆæœ¬</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm-version</span></span><br><span class="line">npm version premajor --preid=&lt;preid-1&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -r major -p &lt;preid-1&gt;</span><br></pre></td></tr></table></figure><ul><li>åŸºäºå½“å‰é¢„å‘å¸ƒçš„ <code>preid</code> è‡ªå¢é¢„å‘å¸ƒç‰ˆå·</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm-version</span></span><br><span class="line">npm version prerelease</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -p</span><br></pre></td></tr></table></figure><ul><li>åˆ‡æ¢è‡³ä¸‹ä¸€ä¸ªé˜¶æ®µçš„ <code>preid</code></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm-version</span></span><br><span class="line">npm version prerelease --preid=&lt;preid-next&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -p &lt;preid-next&gt;</span><br></pre></td></tr></table></figure><ul><li>æ­£å¼å‘å¸ƒ</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœæœ€åˆæ˜¯ä»¥ npm version prepatch å¼€å§‹</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm-version</span></span><br><span class="line">npm version patch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">~ or ~</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -r patch</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœæœ€åˆæ˜¯ä»¥ npm version preminor å¼€å§‹</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm-version</span></span><br><span class="line">npm version minor</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">~ or ~</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -r minor</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœæœ€åˆæ˜¯ä»¥ npm version premajor å¼€å§‹</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm-version</span></span><br><span class="line">npm version major</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">~ or ~</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -r major</span><br></pre></td></tr></table></figure><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p><em>ä¸‹é¢ä»¥å‘å¸ƒè¡¥ä¸çš„é¢„å‘å¸ƒç‰ˆæœ¬ä¸ºä¾‹ï¼Œå‡å®šåˆå§‹ç‰ˆæœ¬æ˜¯ <code>0.0.1</code></em></p><p><strong>Step-1</strong>ï¼šæ›´æ–°è¡¥ä¸çš„ <code>alpha</code> é¢„å‘å¸ƒç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm version prepatch --preid=alpha</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">output: 0.0.2-alpha.0</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version --release-as patch --prerelease alpha</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">~ or ~</span></span><br><span class="line">npx standard-version -r patch -p alpha</span><br></pre></td></tr></table></figure><p><strong>Step-2</strong>ï¼šæ›´æ–°è¡¥ä¸çš„ <code>alpha</code> é¢„å‘å¸ƒç‰ˆæœ¬ç‰ˆå·è‡ªå¢</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm version prerelease</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">output: 0.0.2-alpha.1</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -p</span><br></pre></td></tr></table></figure><p><strong>Step-3</strong>ï¼šæ›´æ–°è¡¥ä¸çš„ä¸‹ä¸€ä¸ªé˜¶æ®µçš„é¢„å‘å¸ƒç‰ˆæœ¬ï¼Œ<code>beta</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ‡æ¢é¢„å‘å¸ƒç‰ˆæœ¬è‡³ beta</span></span><br><span class="line">npm version prerelease --preid=beta</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">output: 0.0.2-beta.0</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -p beta</span><br></pre></td></tr></table></figure><p><strong>Step-4</strong>ï¼šæ›´æ–°è¡¥ä¸çš„ <code>beta</code> é¢„å‘å¸ƒç‰ˆæœ¬ç‰ˆå·è‡ªå¢</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨betaä¸Šï¼Œè‡ªå¢é¢„å‘å¸ƒç‰ˆå·</span></span><br><span class="line">npm version prerelease</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">output: 0.0.2-beta.1</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -p</span><br></pre></td></tr></table></figure><p><strong>Step-5</strong>ï¼šæ›´æ–°è¡¥ä¸çš„ä¸‹ä¸€ä¸ªé˜¶æ®µçš„é¢„å‘å¸ƒç‰ˆæœ¬ï¼Œ<code>rc</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ‡æ¢é¢„å‘å¸ƒç‰ˆæœ¬è‡³ rc</span></span><br><span class="line">npm version prerelease --preid=rc</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">output: 0.0.2-rc.0</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -p rc</span><br></pre></td></tr></table></figure><p><strong>Step-6</strong>ï¼šæ›´æ–°è¡¥ä¸çš„ <code>rc</code> é¢„å‘å¸ƒç‰ˆæœ¬ç‰ˆå·è‡ªå¢</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨rcä¸Šï¼Œè‡ªå¢é¢„å‘å¸ƒç‰ˆå·</span></span><br><span class="line">npm version prerelease</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">output: 0.0.2-rc.1</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -p</span><br></pre></td></tr></table></figure><p><strong>Step-7</strong>: å‘å¸ƒæ­£å¼ç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm version patch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">output: 0.0.2</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">npx standard-version -r patch</span><br></pre></td></tr></table></figure><p><img src="Snipaste_2023-07-25_18-23-41.png" alt="Example for version manage"></p><h2 id="Npm-Versionç”Ÿå‘½å‘¨æœŸ"><a href="#Npm-Versionç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Npm-Versionç”Ÿå‘½å‘¨æœŸ"></a>Npm-Versionç”Ÿå‘½å‘¨æœŸ</h2><p>åœ¨ä»‹ç» <code>conventional-changelog-cli</code> ä½¿ç”¨çš„ç« èŠ‚ä¸­ï¼Œå®ƒé…åˆäº† <code>package.json</code> çš„ <code>scripts</code> è„šæœ¬ä½¿ç”¨ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># package.json</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;conventional-changelog -p angular -i CHANGELOG.md -s &amp;&amp; git add CHANGELOG.md&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡ <code>npm version &lt;patch | minor | major ...&gt;</code> å‘½ä»¤ç”Ÿæˆ CHANGELOGã€‚</p><p>â“ <em>ä¸ºä»€ä¹ˆæ˜¯ <code>version</code> è„šæœ¬ï¼Ÿ</em></p><p>â“ <em>ä¸ºä»€ä¹ˆæ˜¯ <code>npm version</code> è€Œä¸æ˜¯ <code>npm run version</code>ï¼Ÿ</em></p><p>ä¸‹é¢å°†å¸¦ç€è¿™ä¸¤ä¸ªç–‘é—®æ‹†è§£ <code>npm-version</code> çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><hr><p><code>npm version &lt;cmd&gt;</code> åœ¨æ‰§è¡Œåï¼ŒæŒ‰é¡ºåºå…ˆåæ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼š</p><ol><li><p>æ‰§è¡Œ <code>preversion</code> è„šæœ¬ï¼ˆå¦‚æœæœ‰å®šä¹‰ï¼‰ï¼›</p></li><li><p>æ›´æ–° <code>package.json</code> æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·ï¼›</p></li><li><p>æ‰§è¡Œ <code>version</code> è„šæœ¬ï¼ˆå¦‚æœæœ‰å®šä¹‰ï¼‰ï¼›</p></li><li><p>æäº¤ç‰ˆæœ¬æ›´æ–°ï¼›</p></li><li><p>åˆ›å»º Git æ ‡ç­¾ï¼›</p></li><li><p>æ‰§è¡Œ <code>postversion</code> è„šæœ¬ï¼ˆå¦‚æœæœ‰å®šä¹‰ï¼‰ï¼›</p></li></ol><p><img src="Snipaste_2023-07-26_11-28-57.png" alt="LifeCycle of npm-version"></p><p><em>ä¾‹å¦‚ï¼Œæ‰§è¡Œ <code>npm version patch</code> å‘½ä»¤ä¼šè§¦å‘ä»¥ä¸‹æ“ä½œï¼š</em></p><p><strong>1. æ‰§è¡Œ <code>preversion</code> è„šæœ¬ï¼ˆå¦‚æœæœ‰å®šä¹‰ï¼‰</strong>ï¼šåœ¨æ‰§è¡Œç‰ˆæœ¬æ›´æ–°æ“ä½œä¹‹å‰æ‰§è¡Œ <code>preversion</code> è„šæœ¬ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨ <code>package.json</code> æ–‡ä»¶ä¸­å®šä¹‰äº†ä»¥ä¸‹ <code>preversion</code> è„šæœ¬ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;preversion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run lint&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>åˆ™åœ¨æ‰§è¡Œ <code>npm version patch</code> å‘½ä»¤æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œ <code>npm run lint</code> å‘½ä»¤ï¼Œæ£€æŸ¥ä»£ç æ˜¯å¦ç¬¦åˆè§„èŒƒã€‚</p><p><strong>2. æ›´æ–° <code>package.json</code> æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·</strong>ï¼š<code>npm version patch</code> å‘½ä»¤ä¼šå°† <code>package.json</code> æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·è‡ªåŠ¨åŠ 1ï¼Œå¹¶å°†æ–°ç‰ˆæœ¬å·å†™å› <code>package.json</code> æ–‡ä»¶ä¸­ã€‚</p><p><strong>3. æ‰§è¡Œ <code>version</code> è„šæœ¬ï¼ˆå¦‚æœæœ‰å®šä¹‰ï¼‰</strong>ï¼šåœ¨æ›´æ–°ç‰ˆæœ¬å·ä¹‹åæ‰§è¡Œ <code>version</code> è„šæœ¬ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨ <code>package.json</code> æ–‡ä»¶ä¸­å®šä¹‰äº†ä»¥ä¸‹ <code>version</code> è„šæœ¬ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run build&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>åˆ™åœ¨æ‰§è¡Œ <code>npm version patch</code> å‘½ä»¤æ—¶ï¼Œä¼šæ‰§è¡Œ <code>npm run build</code> å‘½ä»¤ï¼Œè‡ªåŠ¨ç”Ÿæˆæ„å»ºæ–‡ä»¶ã€‚</p><p><strong>4. æäº¤ç‰ˆæœ¬æ›´æ–°</strong>ï¼š<code>npm version patch</code> å‘½ä»¤ä¼šè‡ªåŠ¨æ‰§è¡Œ <code>git add</code> å’Œ <code>git commit</code> å‘½ä»¤ï¼Œå°†æ›´æ–°åçš„ <code>package.json</code> æ–‡ä»¶æäº¤åˆ° Git ä»“åº“ä¸­ã€‚æäº¤ä¿¡æ¯é»˜è®¤ä¸º <code>&quot;v&lt;new-version&gt;&quot;</code>ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæ–°ç‰ˆæœ¬å·ä¸º 1.0.1ï¼Œåˆ™æäº¤ä¿¡æ¯ä¸º â€œv1.0.1â€ã€‚</p><p><strong>5. åˆ›å»º Git æ ‡ç­¾</strong>ï¼š<code>npm version patch</code> å‘½ä»¤ä¼šè‡ªåŠ¨æ‰§è¡Œ <code>git tag</code> å‘½ä»¤ï¼Œä¸ºå½“å‰æäº¤åˆ›å»ºä¸€ä¸ªæ–°çš„ Git æ ‡ç­¾ã€‚æ ‡ç­¾åé»˜è®¤ä¸º <code>&quot;v&lt;new-version&gt;&quot;</code>ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæ–°ç‰ˆæœ¬å·ä¸º 1.0.1ï¼Œåˆ™æ ‡ç­¾åä¸º â€œv1.0.1â€ã€‚</p><p><strong>6. æ‰§è¡Œ <code>postversion</code> è„šæœ¬ï¼ˆå¦‚æœæœ‰å®šä¹‰ï¼‰</strong>ï¼šåœ¨æäº¤ç‰ˆæœ¬æ›´æ–°ä¹‹åæ‰§è¡Œ <code>postversion</code> è„šæœ¬ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨ <code>package.json</code> æ–‡ä»¶ä¸­å®šä¹‰äº†ä»¥ä¸‹ <code>postversion</code> è„šæœ¬ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;postversion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm publish&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>åˆ™åœ¨æ‰§è¡Œ <code>npm version patch</code> å‘½ä»¤å¹¶æˆåŠŸæäº¤ç‰ˆæœ¬æ›´æ–°åï¼Œä¼šæ‰§è¡Œ <code>npm publish</code> å‘½ä»¤ï¼Œå°†æ–°ç‰ˆæœ¬å‘å¸ƒåˆ° npm ä»“åº“ä¸­ã€‚</p><hr><p>ä¸Šé¢æåˆ°äº† <code>standard-version</code> å’Œ <code>conventional-changelog-cli</code>ï¼Œå®ƒä»¬éƒ½è¢«ç”¨äºç”Ÿæˆ CHANGELOGã€‚</p><p>åœ¨ä½¿ç”¨ <code>conventional-changelog-cli</code> æ—¶ï¼Œç”Ÿæˆ CHANGELOG çš„å‘½ä»¤è¢«è®¾ç½®åˆ°äº† <code>package.json</code> ä¸­çš„ <code>scripts.version</code>:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># package.json</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;conventional-changelog -p angular -i CHANGELOG.md -s &amp;&amp; git add CHANGELOG.md&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>â“ <em>ä¸ºä»€ä¹ˆæ˜¯ <code>npm version</code> è€Œä¸æ˜¯ <code>npm run version</code>ï¼Ÿ</em></p><p>ä»ä¸Šé¢å¯ä»¥çŸ¥é“ï¼Œ<code>version</code> è„šæœ¬çš„è§¦å‘ï¼Œæ˜¯ <code>npm-version</code> ç”Ÿå‘½å‘¨æœŸçš„ä¸€éƒ¨åˆ†ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡ <code>npm-version</code> å‘½ä»¤æ›´æ–°ç‰ˆæœ¬çš„åŒæ—¶è§¦å‘ <code>version</code> è„šæœ¬ç”Ÿæˆ CHANGELOGã€‚</p><p>â“ <em>ä¸ºä»€ä¹ˆæ˜¯ <code>version</code> è„šæœ¬ï¼Ÿ</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conventional-changelog -p angular -i CHANGELOG.md -s \</span><br><span class="line">  &amp;&amp; git add CHANGELOG.md</span><br></pre></td></tr></table></figure><p>è¿™æ®µå‘½ä»¤åŒ…å«äº†ä¸¤éƒ¨åˆ†ï¼š</p><ul><li><p>ç”Ÿæˆ CHANGELOG, <code>conventional-changelog -p angular -i CHANGELOG.md -s</code>;</p></li><li><p>å°†æ–°ç‰ˆæœ¬å¯¹åº”çš„ CHANGELOG å˜åŠ¨æ·»åŠ åˆ° Git ä»“åº“çš„æš‚å­˜åŒºï¼Œ<code>git add CHANGELOG.md</code>ã€‚</p></li></ul><p><code>version</code> è„šæœ¬çš„è§¦å‘ä»‹ä¹äº â€œæ›´æ–° package.json æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·â€ ä¸ â€œæäº¤ç‰ˆæœ¬æ›´æ–°â€ ä¹‹é—´ã€‚</p><p>ç”Ÿæˆ CHANGELOG éœ€è¦çŸ¥é“ æ–°çš„ç‰ˆå·ã€‚<code>version</code> è„šæœ¬çš„è§¦å‘åœ¨ â€œæäº¤ç‰ˆæœ¬æ›´æ–°â€ ä¹‹å‰ï¼Œæ‰€ä»¥åªè¦åœ¨ <code>version</code> è§¦å‘æ—¶å°†å˜åŠ¨æ·»åŠ åˆ°Gitä»“åº“æš‚å­˜åŒºï¼Œâ€œæäº¤ç‰ˆæœ¬æ›´æ–°â€ çš„ commit å°±å¯ä»¥åŒ…å« CHANGELOG çš„å˜åŠ¨ã€‚</p><h2 id="Standard-Versionçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Standard-Versionçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Standard-Versionçš„ç”Ÿå‘½å‘¨æœŸ"></a>Standard-Versionçš„ç”Ÿå‘½å‘¨æœŸ</h2><p>åœ¨ä¸Šä¸€èŠ‚ <a href>Npm-versionç”Ÿå‘½å‘¨æœŸ</a> ä¸­æåˆ°äº† <code>conventional-changelog-cli</code>ï¼Œä½†æ˜¯æ²¡æœ‰æåˆ° <code>standard-version</code>ã€‚å› ä¸º <code>standard-version</code> æœ‰å®ƒè‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œè€Œä¸”åœ¨ä½¿ç”¨ <code>standard-version</code> åšç‰ˆæœ¬å·æ›´æ–°å’Œ CHANGELOG ç”Ÿæˆæ—¶ï¼Œ<strong>å¹¶ä¸ä¼šè§¦å‘ <code>npm-version</code> çš„è„šæœ¬ï¼ˆ<code>preversion</code>ã€<code>version</code> å’Œ <code>postversion</code>ï¼‰</strong>ï¼</p><p><strong><code>standard-version</code> çš„ç”Ÿå‘½å‘¨æœŸ:</strong></p><ol><li><p>æ›´æ–°é¡¹ç›®ç‰ˆæœ¬å·ï¼›</p></li><li><p>ç”Ÿæˆ CHANGELOGï¼›</p></li><li><p>æäº¤ç‰ˆæœ¬ commitï¼ˆåŒ…å« package.jsonçš„version å’Œ changelogçš„å˜åŠ¨ï¼‰ï¼›</p></li><li><p>åˆ›å»ºç‰ˆæœ¬çš„ <code>git-tag</code>ï¼›</p></li></ol><p><img src="Snipaste_2023-07-26_21-57-36.png" alt="lifecycle of standard-version"></p><p>ğŸ“¢ <strong>æ³¨æ„</strong>ï¼š<em>ä¸Šå›¾ä¸­çš„è¿™å¥å‘½ä»¤å¹¶æ²¡æœ‰æ‰§è¡Œï¼Œä»…ä»…æ˜¯æç¤ºï¼</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Run `git push --follow-tags origin master &amp;&amp; npm publish --tag prerelease` to publish</span><br></pre></td></tr></table></figure><p><strong><code>standard-version</code> çš„ç”Ÿå‘½å‘¨æœŸä¸­è§¦å‘çš„è„šæœ¬</strong></p><ul><li><p><code>prerelease</code>: åœ¨ä»»ä½•äº‹æƒ…å‘ç”Ÿä¹‹å‰æ‰§è¡Œã€‚ å¦‚æœ <code>prerelease</code> è„šæœ¬è¿”å›éé›¶é€€å‡ºä»£ç ï¼ˆ<code>process.exit()</code>ï¼‰ï¼Œç‰ˆæœ¬æ§åˆ¶å°†ä¸­æ­¢ï¼Œä½†å¯¹è¿›ç¨‹æ²¡æœ‰å…¶ä»–å½±å“ã€‚</p></li><li><p><code>prebump/postbump</code>: åœ¨ç‰ˆæœ¬æ›´æ–°ä¹‹å‰å’Œä¹‹åæ‰§è¡Œã€‚ å¦‚æœ <code>prebump</code> è„šæœ¬è¿”å›ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œå°†ä½¿ç”¨å®ƒè€Œä¸æ˜¯ <code>standard-version</code> è®¡ç®—çš„ç‰ˆæœ¬ã€‚</p></li><li><p><code>prechangelog/postchangelog</code>: åœ¨ç”Ÿæˆ CHANGELOG ä¹‹å‰å’Œä¹‹åæ‰§è¡Œã€‚</p></li><li><p><code>precommit/postcommit</code>: åœ¨æäº¤ç‰ˆæœ¬ commit ä¹‹å‰å’Œä¹‹åè°ƒç”¨ã€‚</p></li><li><p><code>pretag/posttag</code>: åœ¨æ·»åŠ  <code>git-tag</code> æ­¥éª¤ä¹‹å‰å’Œä¹‹åè°ƒç”¨ã€‚</p></li></ul><blockquote><p><strong>Lifecycle Scripts</strong><br>standard-version supports lifecycle scripts. These allow you to execute your own supplementary commands during the release. The following hooks are available and execute in the order documented:</p><ul><li><p><code>prerelease</code>: executed before anything happens. If the <code>prerelease</code> script returns a non-zero exit code, versioning will be aborted, but it has no other effect on the process.</p></li><li><p><code>prebump/postbump</code>: executed before and after the version is bumped. If the <code>prebump</code> script returns a version #, it will be used rather than the version calculated by <code>standard-version</code>.</p></li><li><p><code>prechangelog/postchangelog</code>: executes before and after the CHANGELOG is generated.</p></li><li><p><code>precommit/postcommit</code>: called before and after the commit step.</p></li><li><p><code>pretag/posttag</code>: called before and after the tagging step.</p></li></ul></blockquote><p><img src="Snipaste_2023-07-27_04-51-22.png"></p><p><strong>ğŸ“¢ æ³¨æ„</strong>ï¼š*<code>standard-version</code> è§¦å‘çš„è„šæœ¬æ˜¯ <code>strandard-version.scripts.*</code>ï¼Œè€Œä¸æ˜¯ <code>scripts.*</code>ã€‚*</p><p><img src="Snipaste_2023-07-26_20-14-55.png"></p><h3 id="å°ç»“-2"><a href="#å°ç»“-2" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p><code>standard-version</code> å¹¶éåŸºäº <code>npm-version</code> å®ç°ï¼Œå®ƒä¸ <code>npm-version</code> ç›¸äº’ç‹¬ç«‹ã€‚<code>standard-version</code> æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸ <code>npm-version</code> ä¸é‡åˆï¼Œåœ¨ <code>standard-version</code> å·¥ä½œè¿‡ç¨‹ä¸­ä¸ä¼šè§¦å‘ <code>npm-version</code> ç”Ÿå‘½å‘¨æœŸè„šæœ¬ï¼ˆ<code>preversion</code>ã€<code>version</code> å’Œ <code>postversion</code>ï¼‰ã€‚</p><p><code>standard-version</code> çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œ<em>åŒ…å« 4 ä¸ªå·¥ä½œç‚¹</em>ï¼š</p><ul><li><p>æ›´æ–°é¡¹ç›®ç‰ˆæœ¬å·ï¼›</p></li><li><p>ç”Ÿæˆ CHANGELOGï¼›</p></li><li><p>æäº¤ç‰ˆæœ¬ commitï¼ˆåŒ…å« package.jsonçš„version å’Œ changelogçš„å˜åŠ¨ï¼‰ï¼›</p></li><li><p>åˆ›å»ºç‰ˆæœ¬çš„ <code>git-tag</code>ï¼›</p></li></ul><p><em>åŒ…å« 9 ä¸ªé’©å­è„šæœ¬</em>ï¼š</p><ul><li><p><code>prerelease</code></p></li><li><p><code>prebump/postbump</code></p></li><li><p><code>prechangelog/postchangelog</code></p></li><li><p><code>precommit/postcommit</code></p></li><li><p><code>pretag/posttag</code></p></li></ul><p><code>standard-version</code> ä¸ <code>npm-version</code> åœ¨ <code>package.json</code> ä¸­å®šä¹‰è„šæœ¬çš„æ ¼å¼ä¸ä¸€æ ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm-version</span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;preversion&quot;: &quot;&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">standard-version</span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;standard-version&quot;: &#123;</span><br><span class="line">    &quot;scripts&quot;: &#123;</span><br><span class="line">      &quot;prerelease&quot;: &quot;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="CHANGELOGè‡ªåŠ¨åŒ–"><a href="#CHANGELOGè‡ªåŠ¨åŒ–" class="headerlink" title="CHANGELOGè‡ªåŠ¨åŒ–"></a>CHANGELOGè‡ªåŠ¨åŒ–</h1><h2 id="conventional-changelog-cli"><a href="#conventional-changelog-cli" class="headerlink" title="conventional-changelog-cli"></a>conventional-changelog-cli</h2><p><code>conventional-changelog-cli</code> æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºç”Ÿæˆç¬¦åˆè§„èŒƒçš„ changelogã€‚å®ƒå¯ä»¥æ ¹æ®é¡¹ç›®çš„ commit message æ ¼å¼ï¼Œè‡ªåŠ¨è§£æ commit ä¿¡æ¯ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºäººç±»å¯è¯»çš„ changelogã€‚</p><p>è¿™ä¸ªå·¥å…·çš„åŸºæœ¬åŸç†æ˜¯å°†ç¬¦åˆè§„èŒƒçš„ commit message æŒ‰ç…§ç±»å‹ï¼ˆtypeï¼‰å’Œ scope ç­‰ä¿¡æ¯è¿›è¡Œåˆ†ç±»ï¼Œç„¶åæ ¹æ®åˆ†ç±»çš„ç»“æœç”Ÿæˆ changelogã€‚</p><p><code>conventional-changelog-cli</code> æ”¯æŒä½¿ç”¨å¤šç§é¢„è®¾ï¼ˆpresetï¼‰æ¥ç”Ÿæˆ changelogï¼ŒåŒ…æ‹¬ <code>angular</code>ã€<code>atom</code>ã€<code>codemirror</code>ã€<code>conventionalcommits</code>ã€<code>ember</code>ã€<code>eslint</code>ã€<code>express</code>ã€<code>jquery</code> å’Œ <code>jshint</code> ç­‰ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶æ¥ç”Ÿæˆ changelogã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>conventional-changelog-cli</code> çš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š</p><ul><li><p><code>conventional-changelog</code>: ç”Ÿæˆ changelogï¼Œé»˜è®¤ä½¿ç”¨ Angular è§„èŒƒã€‚</p></li><li><p><code>conventional-changelog -p [preset]</code>: ç”ŸæˆæŒ‡å®šé¢„è®¾çš„ changelogã€‚</p></li><li><p><code>conventional-changelog -i [file]</code>: å°† changelog å†™å…¥åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚</p></li><li><p><code>conventional-changelog -s</code>: å°† changelog æ·»åŠ åˆ°æ–‡ä»¶çš„å¼€å¤´è€Œä¸æ˜¯ç»“å°¾ã€‚</p></li><li><p><code>conventional-changelog --release-count [number]</code>: æŒ‡å®šè¦åŒ…æ‹¬çš„ç‰ˆæœ¬æ•°é‡ã€‚</p></li><li><p><code>conventional-changelog --config [file]</code>: ä½¿ç”¨è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶ç”Ÿæˆ changelogã€‚</p></li></ul><p>é€šè¿‡ <code>conventional-changelog-cli</code>ï¼Œä½ å¯ä»¥æ–¹ä¾¿åœ°ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ changelogï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œè‡ªå®šä¹‰é…ç½®å’Œé¢„è®¾ï¼Œä»¥æ»¡è¶³é¡¹ç›®çš„éœ€æ±‚ã€‚</p><p>ğŸ“¢ <em>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>conventional-changelog-cli</code> ä¼šåŒ¹é… <code>feat</code>ã€<code>fix</code> ç±»å‹çš„commitsï¼Œå¹¶æ ¹æ®å®ƒä»¬ç”ŸæˆCHANGELOG</em></p><blockquote><br><pre><code class="language-shell">npm install -g conventional-changelog-cli
  cd my-project
  conventional-changelog -p angular -i CHANGELOG.md -s
  </code></pre><p>This will not overwrite any previous changelogs. <mark>The above generates a changelog based on commits since the last semver tag that matches the pattern of &quot;Feature&quot;, &quot;Fix&quot;, &quot;Performance Improvement&quot; or &quot;Breaking Changes&quot;.</mark></p><br></blockquote><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm</span></span><br><span class="line">npm install conventional-changelog-cli --save-dev</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pnpm</span></span><br><span class="line">pnpm add conventional-changelog-cli --save-dev</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx conventional-changelog -p conventionalcommits -i CHANGELOG.md -s</span><br></pre></td></tr></table></figure><ul><li><p><code>-p conventionalcommit</code>ï¼šæŒ‡å®šä½¿ç”¨ conventionalcommit è§„èŒƒç”Ÿæˆ CHANGELOG æ–‡ä»¶ã€‚<code>conventionalcommit</code> æ˜¯ä¸€ç§å¸¸è§çš„è§„èŒƒï¼Œé€‚ç”¨äºå¤§å¤šæ•°é¡¹ç›®ã€‚</p></li><li><p><code>-i CHANGELOG.md</code>ï¼šæŒ‡å®šå°†ç”Ÿæˆçš„ CHANGELOG æ–‡ä»¶è¾“å‡ºåˆ°åä¸º <code>CHANGELOG.md</code> çš„æ–‡ä»¶ä¸­ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šåˆ›å»ºå®ƒï¼›å¦‚æœå·²å­˜åœ¨ï¼Œåˆ™ä¼šè¦†ç›–å®ƒã€‚</p></li><li><p><code>-s</code>ï¼šæŒ‡å®šç”Ÿæˆçš„ CHANGELOG æ–‡ä»¶ä¸­æ˜¯å¦åº”åŒ…å«å½“å‰ç‰ˆæœ¬ä¹‹å‰çš„æ‰€æœ‰ç‰ˆæœ¬çš„å˜æ›´è®°å½•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåªä¼šç”Ÿæˆå½“å‰ç‰ˆæœ¬çš„å˜æ›´è®°å½•ã€‚</p></li></ul><p><strong>ç»“åˆ <code>npm version</code> ä½¿ç”¨</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">package.json</span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;version&quot;: &quot;conventional-changelog -p angular -i CHANGELOG.md -s &amp;&amp; git add CHANGELOG.md&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">cli</span></span><br><span class="line">npm version &lt;version&gt;</span><br></pre></td></tr></table></figure><p>å…·ä½“æ¥è¯´ï¼Œå½“æ‚¨æ‰§è¡Œ <code>npm version</code> å‘½ä»¤æ—¶ï¼Œä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š</p><ul><li><p>æ‰§è¡Œ <code>scripts.version</code> è„šæœ¬ï¼Œå¦‚æœå·²ç»å®šä¹‰çš„è¯ã€‚<code>scripts.version</code> è„šæœ¬ä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ–°çš„ç‰ˆæœ¬å·ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ <code>scripts.version</code> è„šæœ¬ï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„ SemVer è§„èŒƒç”Ÿæˆç‰ˆæœ¬å·ã€‚</p></li><li><p>å°†æ–°çš„ç‰ˆæœ¬å·æ›´æ–°åˆ° package.json æ–‡ä»¶ä¸­ã€‚</p></li><li><p>è‡ªåŠ¨åŒ–æ‰§è¡Œ Git æ“ä½œï¼ŒåŒ…æ‹¬æ·»åŠ ä¿®æ”¹çš„ package.json å’Œç”Ÿæˆçš„ changelog æ–‡ä»¶ã€æäº¤ä»£ç å¹¶æ‰“ Git tagã€‚</p></li></ul><p>å› æ­¤æ‰§è¡Œ <code>npm version &lt;version&gt;</code>çš„ç»“æœæ˜¯ï¼š1ï¼‰æ›´æ–° <code>package.json</code> çš„ <code>version</code> å­—æ®µï¼›2ï¼‰æ›´æ–° CHANGELOGï¼›3ï¼‰ç”ŸæˆåŒ…å« 1ã€2 çš„ commit å’Œ git-tagã€‚</p><p><strong>ä¿®æ”¹ version-commit</strong></p><p>é»˜è®¤çš„ <code>version-commit</code> æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">commit 1d37dcf6dc685d0a49319d0c2e0a0a272af8fa7a (tag: v3.3.8)</span><br><span class="line">Author: isaaxite &lt;isaacgun@outlook.com&gt;</span><br><span class="line">Date:   Tue Jul 25 05:00:36 2023 +0800</span><br><span class="line"></span><br><span class="line">    3.3.8</span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶è¿™æ ·æ˜¯ä¸ç¬¦åˆè§„èŒƒçš„ã€‚ä¸‹é¢æœ‰ 2 ä¸ªæ–¹æ³•å¯æ˜¯ä½¿ä¹‹åˆä¹è§„èŒƒã€‚</p><p><em>æ‰‹åŠ¨è®¾ç½®</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">%s æ˜¯ç‰ˆæœ¬å·çš„å ä½ç¬¦</span></span><br><span class="line"></span><br><span class="line">npm version patch -m &quot;chore: bump version to %s&quot;</span><br></pre></td></tr></table></figure><p><em>é…ç½®æ–‡ä»¶è®¾ç½®</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">.npmrc</span></span><br><span class="line"></span><br><span class="line">commit-hooks=true</span><br><span class="line">tag-version-prefix=v</span><br><span class="line">message=&quot;chore: bump version to %s&quot;</span><br></pre></td></tr></table></figure><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>ä» <code>conventional-changelog-cli</code> çš„ README ä¸­æ²¡æœ‰å¤ªå¤šå…³äºé…ç½®çš„ä¿¡æ¯ï¼Œä»…ä»…æ˜¯å¼•å¯¼å»æŸ¥é˜… <code>conventional-changelog</code> å’Œ <code>conventional-changelog-core</code>ã€‚</p><p>ä»å…¶ä»–çš„ä¸€äº›å‚è€ƒèµ„æ–™ç¡®å®æœ‰ä»‹ç» <code>conventional-changelog-cli</code> æ˜¯åŸºäº <code>conventional-changelog-core</code> å¼€å‘çš„ã€‚</p><blockquote><p>To fully customize the tool, please checkout <mark>conventional-changelog</mark> and <mark>conventional-changelog-core</mark> docs. You can find more details there. Note: config here can work with preset, which is different than options.config in conventional-changelog.</p></blockquote><p>ä½†æ˜¯ï¼Œå®é™…ä¸Š <code>conventional-changelog</code> å¹¶æ²¡æœ‰å¤ªå¤šå…³äºé…ç½®çš„ä¿¡æ¯ï¼Œä»…ä»…æ˜¯ä¸€ä¸ªç±»ä¼¼ä¸€ä¸ªä¸€çº§å¼•å¯¼é¡µçš„README!</p><p>è€Œ <code>conventional-changelog-core</code> ç›¸å¯¹æœ‰ç”¨ä¸€ç‚¹ï¼Œä¼šä»‹ç» API çš„å‚æ•°ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ˜ç¡®é‚£äº›å‚æ•°æ˜¯å¯ä»¥å¤ç”¨åˆ°é…ç½®æ–‡ä»¶ä¸Šçš„ã€‚</p><p>ä½¿ç”¨ <code>conventional-changelog --help</code> æœ‰çœ‹åˆ°å…³äºé…ç½®ç›¸å…³çš„æè¿°ï¼š</p><blockquote><p><code>-n, --config</code> A filepath of your config script Example of a config script: <a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/conventional-changelog/blob/master/packages/conventional-changelog-cli/test/fixtures/config.js">https://github.com/conventional-changelog/conventional-changelog/blob/master/packages/conventional-changelog-cli/test/fixtures/config.js</a></p></blockquote><p>æ‰“å¼€çš„æ˜¯ä¸€ä¸ªè¿‡äºç®€å•çš„é¡µé¢ï¼Œå¹¶æ²¡æœ‰æ³¨é‡Šä»‹ç»å‚æ•°ä½œç”¨ï¼Œæœ‰ç”¨çš„å‚è€ƒä¿¡æ¯çº¦ç­‰äºæ²¡æœ‰ï¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">writerOpts</span>: &#123;</span><br><span class="line">    <span class="attr">mainTemplate</span>: <span class="string">&#x27;&#123;&#123;commitGroups.[0].commits.[0].type&#125;&#125;&#123;&#123;testContext&#125;&#125;template&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>ç»¼åˆä»¥ä¸Šï¼ŒåŸºæœ¬å¯ä»¥è®¤è¯†åˆ°ä¸€ä¸ªäº‹å®ï¼š</em></p><p><strong><code>conventional-changelog-cli</code> å…·å¤‡é…ç½®çš„èƒ½åŠ›ï¼Œä½†æ˜¯ç¼ºå°‘é…ç½®æŒ‡å¼•ï¼Œä»¥è‡´é…ç½®ä½“éªŒä¸å‹å¥½ã€‚åŸºæœ¬å¯ä»¥è®¤ä¸ºè¿™ä¸ªå·¥å…·çš„é…ç½®èƒ½åŠ›çº¦ç­‰äºâ€œæ— â€</strong></p><hr><p><em>æœ¬ç€ç ”ç©¶çš„æ€åº¦é˜…è¯» <code>conventional-changelog-cli</code> çš„æºç ï¼Œæ¢ç´¢å®ƒçš„é…ç½®è¯¦æƒ…ï¼</em></p><p>é€šè¿‡é˜…è¯» <code>conventional-changelog-cli/cli.js</code> ä»£ç ï¼Œå‘ç°ä»¥ä¸‹5ä¸ªé…ç½®é¡¹å¯ä»¥ä»ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–ï¼š</p><ul><li><p><code>options</code></p></li><li><p><code>templateContext</code></p></li><li><p><code>gitRawCommitsOpts</code></p></li><li><p><code>parserOpts</code></p></li><li><p><code>writerOpts</code></p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (flags.<span class="property">context</span>) &#123;</span><br><span class="line">|   templateContext = <span class="built_in">require</span>(<span class="title function_">resolve</span>(process.<span class="title function_">cwd</span>(), flags.<span class="property">context</span>))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (flags.<span class="property">config</span>) &#123;</span><br><span class="line">|   config = <span class="built_in">require</span>(<span class="title function_">resolve</span>(process.<span class="title function_">cwd</span>(), flags.<span class="property">config</span>))</span><br><span class="line">    options.<span class="property">config</span> = config</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (config.<span class="property">options</span>) &#123;</span><br><span class="line">|     options = &#123;</span><br><span class="line">        ...options,</span><br><span class="line">        ...config.<span class="property">options</span>,</span><br><span class="line">        <span class="attr">pkg</span>: &#123;</span><br><span class="line">          ...options.<span class="property">pkg</span>,</span><br><span class="line">          ...config.<span class="property">options</span>.<span class="property">pkg</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    config = &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to get file. &#x27;</span> + err)</span><br><span class="line">  process.<span class="title function_">exit</span>(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> gitRawCommitsOpts = &#123;</span><br><span class="line">| ...config.<span class="property">gitRawCommitsOpts</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> changelogStream = <span class="title function_">conventionalChangelog</span>(</span><br><span class="line">  options, </span><br><span class="line">  templateContext, </span><br><span class="line">  gitRawCommitsOpts, </span><br><span class="line">| config.<span class="property">parserOpts</span>, </span><br><span class="line">| config.<span class="property">writerOpts</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>åœ¨æºç ä¸­å¯ä»¥çŸ¥é“, ä»¥ä¸Š 5 ä¸ªé…ç½®é¡¹åˆ†åˆ«è¯»å–è‡ªä¸åŒçš„2ä¸ªæ–‡ä»¶ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ <code>context</code> é…ç½®æ–‡ä»¶ å’Œ <code>config</code> é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// context</span></span><br><span class="line">templateContext = <span class="built_in">require</span>(<span class="title function_">resolve</span>(process.<span class="title function_">cwd</span>(), flags.<span class="property">context</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// config</span></span><br><span class="line">config = <span class="built_in">require</span>(<span class="title function_">resolve</span>(process.<span class="title function_">cwd</span>(), flags.<span class="property">config</span>))</span><br></pre></td></tr></table></figure><p><code>context</code> é…ç½®æ–‡ä»¶ï¼š</p><ul><li><code>templateContext</code></li></ul><p><code>config</code> é…ç½®æ–‡ä»¶ï¼š</p><ul><li><p><code>options</code></p></li><li><p><code>gitRawCommitsOpts</code></p></li><li><p><code>parserOpts</code></p></li><li><p><code>writerOpts</code></p></li></ul><p><code>npx conventional-changelog --help</code> ä¸­å…³äº <code>context</code> é…ç½®æ–‡ä»¶ å’Œ <code>config</code> é…ç½®æ–‡ä»¶çš„æè¿°</p><blockquote><p><code>-c, --context</code> A filepath of a json that is used to define template variables</p><p><code>-n, --config</code> A filepath of your config script. Example of a config script: <a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/conventional-changelog/blob/master/packages/conventional-changelog-cli/test/fixtures/config.js">https://github.com/conventional-changelog/conventional-changelog/blob/master/packages/conventional-changelog-cli/test/fixtures/config.js</a></p></blockquote><p>ç»“åˆ <code>--help</code>çš„æè¿°å’Œé…ç½®æ–‡ä»¶çš„å¼•å…¥æ–¹å¼ï¼ˆ<code>require</code>ï¼‰ï¼Œå¯ä»¥æ¨æ–­ <code>context</code> é…ç½®æ–‡ä»¶ å’Œ <code>config</code> é…ç½®æ–‡ä»¶çš„å†…å®¹å’Œè¯­æ³•ã€‚</p><p><em><code>context</code> é…ç½®æ–‡ä»¶</em></p><p>æ”¯æŒçš„é…ç½®é¡¹åŠå…¶è¯¦æƒ…å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-writer#context">conventional-changelog-writer &gt; context</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">conventional-changelog.context.js</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ”¯æŒçš„é…ç½®é¡¹å‚è€ƒï¼š</span></span><br><span class="line"><span class="comment">https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-writer#context</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>context</code> é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx conventional-changelog --context conventional-changelog.context.js</span><br></pre></td></tr></table></figure><p><em><code>config</code> é…ç½®æ–‡ä»¶</em></p><p>æ”¯æŒçš„4ä¸ªé…ç½®é¡¹åŠå…¶è¯¦æƒ…å‚è€ƒï¼š</p><ul><li><p><code>gitRawCommitsOpts</code>: <a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/git-raw-commits#gitopts">conventional-changelog&#x2F;packages&#x2F;git-raw-commits &gt; gitopts</a></p></li><li><p><code>parserOpts</code>: <a target="_blank" rel="noopener" href="https://github.com/conventional-changelog-archived-repos/conventional-commits-parser#options">conventional-commits-parser &gt; options</a></p></li><li><p><code>writerOpts</code>: <a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-writer#options">conventional-changelog-writer &gt; options</a></p></li><li><p><code>options</code>: <a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-core#options">conventional-changelog-core &gt; options</a></p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// conventional-changelog.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// å‚è€ƒï¼šhttps://github.com/conventional-changelog/conventional-changelog/tree/master/packages/git-raw-commits#gitopts</span></span><br><span class="line">  <span class="attr">gitRawCommitsOpts</span>: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‚è€ƒï¼šhttps://github.com/conventional-changelog-archived-repos/conventional-commits-parser#conventionalcommitsparseroptions</span></span><br><span class="line">  <span class="attr">parserOpts</span>: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‚è€ƒï¼šhttps://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-writer#options</span></span><br><span class="line">  <span class="attr">writerOpts</span>: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‚è€ƒï¼šhttps://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-core#options</span></span><br><span class="line">  <span class="attr">options</span>: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>config</code> é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx conventional-changelog --config conventional-changelog.config.js</span><br></pre></td></tr></table></figure><h3 id="preset"><a href="#preset" class="headerlink" title="preset"></a>preset</h3><p>Standard Version æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ç”¨äºè‡ªåŠ¨ç”Ÿæˆç¬¦åˆè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒçš„ç‰ˆæœ¬æ ‡ç­¾å’Œ CHANGELOGã€‚å®ƒä½¿ç”¨ Git å…ƒæ•°æ®ï¼ˆå¦‚æäº¤æ¶ˆæ¯ï¼‰æ¥ç¡®å®šä¸‹ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œç„¶åç”Ÿæˆæ ‡ç­¾å’Œæ›´æ–°æ—¥å¿—ã€‚</p><p><code>standard-version</code> å’Œ <code>conventional-changelog-cli</code> éƒ½æ˜¯åŸºäº <code>conventional-changelog</code> å®ç°çš„å·¥å…·ã€‚</p><p>ä½†æ˜¯æœ‰åˆ«äº <code>conventional-changelog-cli</code>, <code>standard-version</code> æ˜¯æ˜ç¡®æ”¯æŒé…ç½®æ–‡ä»¶ï¼Œå¹¶ä¸”æœ‰è¾ƒä¸ºè¯¦ç»†çš„æŒ‡å¼•ä»‹ç»å¦‚ä½•é…ç½®(<a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/standard-version#configuration">Standard Version &gt; configuration</a>)ã€‚</p><blockquote><p><strong>Configuration</strong></p><p>You can configure <code>standard-version</code> either by:</p><p>Placing a <code>standard-version</code> stanza in your package.json (assuming your project is JavaScript).<br><mark>Creating a â€˜.versionrcâ€™, â€˜.versionrc.jsonâ€™ or â€˜.versionrc.jsâ€™.</mark><br>If you are using a <code>.versionrc.js</code> your default export must be a configuration object, or a function returning a configuration object.<br>Any of the command line parameters accepted by <code>standard-version</code> can instead be provided via configuration. <mark>Please refer to the <a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/conventional-changelog-config-spec/">conventional-changelog-config-spec</a> for details on available configuration options.</mark></p></blockquote><p><code>standard-version</code> é…ç½®æ–‡ä»¶çš„åŒ…å«å…¨éƒ¨è®¾ç½®é¡¹çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .versionrc.js</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">header</span>: <span class="string">&#x27;# Changelog&#x27;</span>,</span><br><span class="line">  <span class="attr">types</span>: [</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;feat&#x27;</span>, <span class="attr">section</span>: <span class="string">&#x27;Features&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;fix&#x27;</span>, <span class="attr">section</span>: <span class="string">&#x27;Bug Fixes&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;chore&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;docs&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;style&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;refactor&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;perf&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;test&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">preMajor</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">commitUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;owner&#125;&#125;/&#123;&#123;repository&#125;&#125;/commit/&#123;&#123;hash&#125;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">compareUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;owner&#125;&#125;/&#123;&#123;repository&#125;&#125;/compare/&#123;&#123;previousTag&#125;&#125;...&#123;&#123;currentTag&#125;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">issueUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;owner&#125;&#125;/&#123;&#123;repository&#125;&#125;/issues/&#123;&#123;id&#125;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">userUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;user&#125;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">releaseCommitMessageFormat</span>: <span class="string">&#x27;chore(release): &#123;&#123;currentTag&#125;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">issuePrefixes</span>: [ <span class="string">&#x27;#&#x27;</span> ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>ä¸¤è€…éƒ½åŸºäºç›¸åŒä¸Šæ¸¸åº“å¼€å‘ï¼Œä½†æ˜¯åªæœ‰ <code>standard-version</code> æ”¯æŒé…ç½®ï¼Œè€Œä¸”æ˜¯æœ‰åˆ«äºä¸Šé¢ <code>conventional-changelog-cli</code> ä»‹ç»è¿‡çš„é…ç½®æ–¹å¼ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</em></p><p><em>æŠ±ç€è¿™ä¸ªç–‘é—®é˜…è¯» <code>standard-version</code> ç›¸å…³çš„ä»£ç ï¼</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// standard-version/lib/lifecycles/changelog.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> changelogStream = <span class="title function_">conventionalChangelog</span>(&#123;</span><br><span class="line">  <span class="attr">debug</span>: args.<span class="property">verbose</span> &amp;&amp; <span class="variable language_">console</span>.<span class="property">info</span>.<span class="title function_">bind</span>(<span class="variable language_">console</span>, <span class="string">&#x27;conventional-changelog&#x27;</span>),</span><br><span class="line">  <span class="attr">preset</span>: <span class="title function_">presetLoader</span>(args),</span><br><span class="line">  <span class="attr">tagPrefix</span>: args.<span class="property">tagPrefix</span></span><br><span class="line">&#125;, context, &#123; <span class="attr">merges</span>: <span class="literal">null</span>, <span class="attr">path</span>: args.<span class="property">path</span> &#125;)</span><br></pre></td></tr></table></figure><p><strong>ğŸ”¬ é€šè¿‡â€œæ‰“å°â€çš„æ–¹å¼ç¡®è®¤äº†æ˜¯ <code>presetLoader(args)</code> å¼•å…¥äº† <code>.versionrc.js</code> çš„é…ç½®å†…å®¹</strong></p><p><em>ä¸ä¸Šé¢ä¾‹å­æœ‰æ‰€åŒºåˆ«æ˜¯ï¼Œåœ¨ä¾‹å­çš„åŸºç¡€ä¸Šæœ‰å¢äº† <code>name</code> å±æ€§ï¼š</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;/home/isaac/workspace/temp/node_modules/.pnpm/conventional-changelog-conventionalcommits@4.6.3/node_modules/conventional-changelog-conventionalcommits/index.js&#x27;</span>,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä» <code>npx conventional-changelog --help</code> çš„æè¿°ä¸Šçœ‹ï¼Œ<code>--preset</code> æ˜¯æŒ‡å®š commit è§„èŒƒã€‚è€Œ <code>--preset</code> çš„è®¾ç½®å€¼ä»…ä»…ä¸€ä¸ªè¾ƒçŸ­å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸Šé¢æ¢ç´¢åˆ°çš„å¯¹è±¡å½¢å¼çš„å€¼ã€‚</p><blockquote><p><code>-p, --preset</code> Name of the preset you want to use. Must be one of the following: angular, atom, codemirror, conventionalcommits, ember, eslint, express, jquery or jshint</p></blockquote><p>ä»ä¸Šé¢ <code>standard-version</code> çš„æºç å¯çŸ¥é“ï¼Œ <code>preset</code> æ˜¯å¯¹åº”åˆ°å‰æ–‡ <code>conventional-changelog.config.js</code> ä¸­çš„ <code>options.preset</code>ï¼ŒåŸºäºä»¥ä¸Šä¿¡æ¯ï¼Œè¿›è¡Œä¸‹é¢çš„å°è¯•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// conventional-changelog.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">options</span>: &#123;</span><br><span class="line">    <span class="attr">preset</span>: &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;/home/isaac/workspace/temp/node_modules/.pnpm/conventional-changelog-conventionalcommits@4.6.3/node_modules/conventional-changelog-conventionalcommits/index.js&#x27;</span>,</span><br><span class="line">      <span class="attr">header</span>: <span class="string">&#x27;# Changelog&#x27;</span>,</span><br><span class="line">      <span class="attr">types</span>: [</span><br><span class="line">        &#123; <span class="attr">type</span>: <span class="string">&#x27;feat&#x27;</span>, <span class="attr">section</span>: <span class="string">&#x27;Features&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">type</span>: <span class="string">&#x27;fix&#x27;</span>, <span class="attr">section</span>: <span class="string">&#x27;Bug Fixes&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">type</span>: <span class="string">&#x27;chore&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">type</span>: <span class="string">&#x27;docs&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">type</span>: <span class="string">&#x27;style&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">type</span>: <span class="string">&#x27;refactor&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">type</span>: <span class="string">&#x27;perf&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">type</span>: <span class="string">&#x27;test&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">preMajor</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">commitUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;owner&#125;&#125;/&#123;&#123;repository&#125;&#125;/commit/&#123;&#123;hash&#125;&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">compareUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;owner&#125;&#125;/&#123;&#123;repository&#125;&#125;/compare/&#123;&#123;previousTag&#125;&#125;...&#123;&#123;currentTag&#125;&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">issueUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;owner&#125;&#125;/&#123;&#123;repository&#125;&#125;/issues/&#123;&#123;id&#125;&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">userUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;user&#125;&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">releaseCommitMessageFormat</span>: <span class="string">&#x27;chore(release): &#123;&#123;currentTag&#125;&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">issuePrefixes</span>: [ <span class="string">&#x27;#&#x27;</span> ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¯¦ç»†è®¾ç½®é¡¹å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/conventional-changelog-config-spec/">conventional-changelog-config-spec</a></p><p><strong>ç»“è®ºæ˜¯å¯ä»¥çš„ï¼</strong></p><p>ä½†æ˜¯ï¼Œå¹¶ä¸æ˜¯å…¨éƒ¨å±æ€§éƒ½æœ‰æ•ˆæœï¼ä¸‹é¢æ˜¯å‡ ä¸ªå°è¯•åå¾—åˆ°çš„ç»“è®ºï¼š</p><ul><li><p><code>name</code>ï¼Œå¿…é€‰è®¾ç½®ï¼Œpreset çš„è®¾ç½®é¡¹ç”Ÿæ•ˆçš„å‰ææ˜¯ä»¬éœ€è¦è®¾ç½® <code>name</code> å±æ€§ã€‚è¿™æ˜¯æµ‹è¯•å‡ºæ¥çš„ç»“æœï¼Œæ²¡æœ‰ç»§ç»­æ·±æŒ–ï¼<code>name</code> å±æ€§åœ¨ä¸¤ç§è®¾ç½®æ–¹å¼ä¸‹æœ‰æ•ˆï¼š1ï¼‰å¦‚ä¸Šé¢æ–‡ä»¶çš„ï¼›2ï¼‰<code>name: &#39;conventional-changelog-conventionalcommits&#39;</code>;</p></li><li><p><code>header</code>ï¼Œæ— æ•ˆã€‚æŸ¥é˜…äº† <code>standard-version</code> çš„æºç ã€‚å…³äº header çš„å®ç°ï¼Œæ˜¯ç‹¬ç«‹ä¸ <code>conventional-changelog</code> çš„ï¼Œæ‰€ä»¥ä¸ç”Ÿæ•ˆä¹Ÿæ­£å¸¸ã€‚</p></li><li><p><code>types</code>ï¼Œæ­£å¸¸æœ‰æ•ˆçš„ã€‚</p></li><li><p>å…¶ä»–ï¼Œæ­£å¸¸æœ‰æ•ˆã€‚</p><ul><li><code>preMajor</code></li><li><code>commitUrlFormat</code></li><li><code>compareUrlFormat</code></li><li><code>issueUrlFormat</code></li><li><code>userUrlFormat</code></li><li><code>releaseCommitMessageFormat</code></li><li><code>issuePrefixes</code></li></ul></li></ul><h4 id="å°ç»“-3"><a href="#å°ç»“-3" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>é€šè¿‡ preset é…ç½® <code>conventional-changelog-cli</code> æ˜¯ä»æºç ä¸­å¾—åˆ°çš„éæ­£é“çš„çŸ¥è¯†ï¼Œåœ¨ conventional-changelog çš„å·¥å…·é›†ä¸­å¹¶æ²¡æœ‰ç›¸å…³çš„èµ„æ–™è¯´æ˜å¯ä»¥ä½¿ç”¨preseté€šè¿‡å¯¹è±¡å½¢å¼å€¼å»é…ç½®ã€‚æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªä¸æ¨èåœ¨ç”Ÿäº§é¡¹ç›®ä¸‹ä½¿ç”¨çš„åŠŸèƒ½ï¼Œæ˜¯ä¸ªä¸è¢«ä¿è¯çš„åŠŸèƒ½ã€‚</p><h2 id="Standard-Version"><a href="#Standard-Version" class="headerlink" title="Standard Version"></a>Standard Version</h2><p>Standard Version å’Œ conventional-changelog-cli éƒ½æ˜¯ç”¨äºè‡ªåŠ¨ç”Ÿæˆç‰ˆæœ¬æ›´æ–°å’Œ CHANGELOG çš„å‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒä»¬éƒ½æ˜¯åŸºäº <code>conventional-changelog</code> äº‹å…ˆã€‚</p><p>Standard Version é™¤äº†èƒ½å¤Ÿç”Ÿæˆ CHANGELOG ä¹‹å¤–ï¼Œè¿˜èƒ½å¤Ÿè‡ªåŠ¨åˆ›å»º Git æ ‡ç­¾ã€å¢åŠ ç‰ˆæœ¬å·ï¼Œä»¥åŠè‡ªåŠ¨æ¨é€æ ‡ç­¾åˆ° Git ä»“åº“ç­‰ã€‚conventional-changelog-cli åˆ™åªæ˜¯ç”Ÿæˆ CHANGELOG æ–‡ä»¶ã€‚</p><p>Standard Version çš„ç¤¾åŒºæ”¯æŒåº¦ç›¸å¯¹æ¥è¯´æ›´é«˜ï¼Œæœ‰è¾ƒå¤šçš„ç”¨æˆ·å’Œè´¡çŒ®è€…ï¼Œå¼€å‘ç»´æŠ¤æ›´æ–°ä¹Ÿæ›´åŠ é¢‘ç¹ã€‚è€Œ conventional-changelog-cli çš„ç¤¾åŒºæ”¯æŒåº¦ç›¸å¯¹è¾ƒä½ï¼Œå¼€å‘ç»´æŠ¤æ›´æ–°ä¹Ÿä¸å¦‚ Standard Version é¢‘ç¹ã€‚</p><h3 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm</span></span><br><span class="line">npm install standard-version --save-dev</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pnpm</span></span><br><span class="line">pnpm add standard-version --save-dev</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;release&quot;</span>: <span class="string">&quot;standard-version&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Standard Version æ˜¯æ¨èä½¿ç”¨å®ƒæ¥ä»£æ›¿ <code>npm version</code> è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„ã€‚</p><p>Standard Version å°†ç‰ˆæœ¬ç®¡ç†ä¸ CHANGELOG ç»“åˆåœ¨ä¸€èµ·ï¼Œåœ¨ä½¿ç”¨ <code>standard-version</code> æ›´æ–°ç‰ˆæœ¬å·æ—¶ï¼Œä¼šè‡ªåŠ¨è§¦å‘ CHANGELOG çš„æ›´æ–°ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">release</span></span><br><span class="line">npx standard-version -r 0.0.1</span><br><span class="line"></span><br><span class="line">npx standard-version -r 0.0.1-0</span><br><span class="line">npx standard-version -r 0.0.1-1</span><br><span class="line"></span><br><span class="line">npx standard-version -r 0.0.1-beta.0</span><br><span class="line">npx standard-version -r 0.0.1-beta.1</span><br></pre></td></tr></table></figure><h3 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>é»˜è®¤çš„é…ç½®æ–‡ä»¶åæ˜¯ï¼š<code>.versionrc</code>, <code>.versionrc.json</code> or <code>.versionrc.js</code></p><p>è¯¦ç»†è®¾ç½®é¡¹å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/conventional-changelog-config-spec/">conventional-changelog-config-spec</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .versionrc.js</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">header</span>: <span class="string">&#x27;# Changelog&#x27;</span>,</span><br><span class="line">  <span class="attr">types</span>: [</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;feat&#x27;</span>, <span class="attr">section</span>: <span class="string">&#x27;Features&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;fix&#x27;</span>, <span class="attr">section</span>: <span class="string">&#x27;Bug Fixes&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;chore&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;docs&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;style&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;refactor&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;perf&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">type</span>: <span class="string">&#x27;test&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">preMajor</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">commitUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;owner&#125;&#125;/&#123;&#123;repository&#125;&#125;/commit/&#123;&#123;hash&#125;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">compareUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;owner&#125;&#125;/&#123;&#123;repository&#125;&#125;/compare/&#123;&#123;previousTag&#125;&#125;...&#123;&#123;currentTag&#125;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">issueUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;owner&#125;&#125;/&#123;&#123;repository&#125;&#125;/issues/&#123;&#123;id&#125;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">userUrlFormat</span>: <span class="string">&#x27;&#123;&#123;host&#125;&#125;/&#123;&#123;user&#125;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">releaseCommitMessageFormat</span>: <span class="string">&#x27;chore(release): &#123;&#123;currentTag&#125;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">issuePrefixes</span>: [ <span class="string">&#x27;#&#x27;</span> ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="å·¥ä½œæµ-1"><a href="#å·¥ä½œæµ-1" class="headerlink" title="å·¥ä½œæµ"></a>å·¥ä½œæµ</h1><p><img src="Snipaste_2023-07-26_11-57-45.png" alt="work flow"></p><p><strong>1. åˆ›å»ºå¼€å‘åˆ†æ”¯</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin main</span><br><span class="line"></span><br><span class="line">git checkout -b feat/xxx origin/main</span><br></pre></td></tr></table></figure><p><strong>2. Commit å˜åŠ¨</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…¨æ‰‹åŠ¨commitï¼Œè®©commitlintæ£€æµ‹</span></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line">git commit -m &quot;feat(scope): add a new feat&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åŠè‡ªåŠ¨è¾…åŠ©ç¼–è¾‘commit</span></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line">npx commit</span><br></pre></td></tr></table></figure><p><strong>3. Pushå¼€å‘åˆ†æ”¯</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin feat/xxx</span><br></pre></td></tr></table></figure><p><strong>4. åˆå¹¶å¼€å‘åˆ†æ”¯</strong></p><p><strong>5. ç‰ˆæœ¬ç®¡ç†</strong></p><p>åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ï¼Œå¹¶æ›´æ–°åˆ°æœ€æ–°çš„commitç‚¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout main</span><br><span class="line"></span><br><span class="line">git fetch origin main &amp;&amp; git pull origin main</span><br></pre></td></tr></table></figure><p>åˆ›å»ºç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx standard-version -r patch -p alpha</span><br></pre></td></tr></table></figure><p><strong>6. å‘å¸ƒ</strong></p><p>æ¨é€commit ä¸ git-tag åˆ°è¿œç«¯gitä»“åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin main &amp;&amp; git push --tags</span><br></pre></td></tr></table></figure><p>å‘å¸ƒåˆ° npm</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç™»å½•</span></span><br><span class="line">npm login</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‘å¸ƒ</span></span><br><span class="line">npm publish --tag alpha</span><br></pre></td></tr></table></figure><h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="Huskyæ”¯æŒçš„-Git-hook"><a href="#Huskyæ”¯æŒçš„-Git-hook" class="headerlink" title="Huskyæ”¯æŒçš„ Git hook"></a>Huskyæ”¯æŒçš„ Git hook</h2><p>Husky æ”¯æŒå¤§éƒ¨åˆ† Git hookï¼Œä»¥ä¸‹æ˜¯ Husky æ”¯æŒçš„ Git hook åˆ—è¡¨ï¼š</p><ul><li><code>applypatch-msg</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git am</code> å‘½ä»¤æ—¶è§¦å‘</li><li><code>pre-applypatch</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git am</code> å‘½ä»¤å‰è§¦å‘</li><li><code>post-applypatch</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git am</code> å‘½ä»¤åè§¦å‘</li><li><code>pre-commit</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git commit</code> å‘½ä»¤å‰è§¦å‘</li><li><code>prepare-commit-msg</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git commit</code> å‘½ä»¤å‰è§¦å‘ï¼Œç”¨äºç¼–è¾‘æäº¤ä¿¡æ¯</li><li><code>commit-msg</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git commit</code> å‘½ä»¤åè§¦å‘ï¼Œç”¨äºéªŒè¯æäº¤ä¿¡æ¯</li><li><code>post-commit</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git commit</code> å‘½ä»¤åè§¦å‘</li><li><code>pre-rebase</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git rebase</code> å‘½ä»¤å‰è§¦å‘</li><li><code>post-checkout</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git checkout</code> å‘½ä»¤åè§¦å‘</li><li><code>post-merge</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git merge</code> å‘½ä»¤åè§¦å‘</li><li><code>pre-push</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git push</code> å‘½ä»¤å‰è§¦å‘</li><li><code>pre-receive</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git push</code> å‘½ä»¤æ—¶ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°æ•°æ®ä¹‹å‰è§¦å‘</li><li><code>update</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git push</code> å‘½ä»¤æ—¶ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°æ•°æ®ä¹‹åè§¦å‘</li><li><code>post-receive</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git push</code> å‘½ä»¤åè§¦å‘</li><li><code>post-update</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git push</code> å‘½ä»¤åè§¦å‘</li><li><code>pre-auto-gc</code>ï¼šåœ¨ Git æ‰§è¡Œè‡ªåŠ¨åƒåœ¾å›æ”¶ä¹‹å‰è§¦å‘</li><li><code>post-rewrite</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git filter-branch</code> å’Œ <code>git commit --amend</code> å‘½ä»¤åè§¦å‘</li><li><code>sendemail-validate</code>ï¼šåœ¨ Git æ‰§è¡Œ <code>git send-email</code> å‘½ä»¤å‰è§¦å‘</li></ul><p>ä»¥ä¸Š Git hook å…·ä½“ä½œç”¨å¯ä»¥å‚è€ƒ Git çš„å®˜æ–¹æ–‡æ¡£ã€‚Husky å¯ä»¥é€šè¿‡åœ¨ package.json æ–‡ä»¶çš„ <code>husky.hooks</code> ä¸­å®šä¹‰ç›¸åº”çš„å‘½ä»¤ï¼Œæ¥è‡ªåŠ¨è§¦å‘è¿™äº› Git hookã€‚ä¾‹å¦‚ï¼Œåœ¨ <code>husky.hooks</code> ä¸­å®šä¹‰ <code>pre-commit</code> å‘½ä»¤ï¼Œå°±å¯ä»¥åœ¨æ¯æ¬¡æ‰§è¡Œ <code>git commit</code> å‘½ä»¤æ—¶è‡ªåŠ¨è§¦å‘è¯¥å‘½ä»¤ã€‚</p><h2 id="post-merge-é’©å­è§¦å‘promptå¤±è´¥"><a href="#post-merge-é’©å­è§¦å‘promptå¤±è´¥" class="headerlink" title="post-merge é’©å­è§¦å‘promptå¤±è´¥"></a>post-merge é’©å­è§¦å‘promptå¤±è´¥</h2><p>é…ç½® post-merge é’©å­ï¼Œåˆå¹¶å¼€å‘åˆ†æ”¯åè§¦å‘ç‰ˆæœ¬æ›´æ–°é€»è¾‘ã€‚ç‰ˆæœ¬ç®¡ç†é€‰æ‹©ä½¿ç”¨ <code>@isubo-org/version</code>ï¼Œå®ƒæ˜¯promptå·¥å…·ï¼Œé€‰æ‹©çš„æ–¹å¼è®¾å®šæ–°ç‰ˆå·ã€‚</p><p><em>é…ç½® post-merge é’©å­</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx husky add .husky/post-merge  &#x27;npm run post-merge&#x27;</span><br></pre></td></tr></table></figure><p><em>é…ç½®post-mergeè„šæœ¬</em></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;post-merge&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npx isubo-version&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœæ˜¯ï¼šè¡Œä¸é€šï¼</p><p>åˆå¹¶åç¡®å®å¯ä»¥è§¦å‘è„šæœ¬ï¼Œä½†æ˜¯å®Œå…¨è·³è¿‡é€‰æ‹©æµç¨‹</p><p><img src="Snipaste_2023-08-07_00-58-17.png"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a target="_blank" rel="noopener" href="https://git-scm.com/docs/githooks#_commit_msg">githooks - Hooks used by Git</a></li><li><a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v9/using-npm/scripts">How npm handles the â€œscriptsâ€ field</a></li><li><a target="_blank" rel="noopener" href="https://commitlint.js.org/#/reference-configuration?id=configuration">Commitlint &gt; Configuration</a></li><li><a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v9/commands/npx">Npx | Run a command from a local or remote npm package</a></li><li><a target="_blank" rel="noopener" href="https://typicode.github.io/husky/">Husky | Modern native git hooks made easy</a></li><li><a target="_blank" rel="noopener" href="https://commitlint.js.org/#/">Commitlint | Helps your team adhere to a commit convention</a></li></ul></div><footer class="post-footer"><div class="reward-container"><div>Buy me a coffee</div><button>èµèµ</button><div class="post-reward"><div><img src="/blog/images/wechatpay.jpg" alt="Isaac Kam å¾®ä¿¡"> <span>å¾®ä¿¡</span></div><div><img src="/blog/images/alipay.jpg" alt="Isaac Kam æ”¯ä»˜å®"> <span>æ”¯ä»˜å®</span></div></div></div><div class="post-copyright"><ul><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Isaac Kam</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/" title="è‡ªåŠ¨åŒ–CHANGELOGï¼ŒæŒç»­é›†æˆ">https://isaaxite.github.io/blog/resources/Automated-Changelog-Manual/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div><div class="followme"><span>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¶å®ƒå‘å¸ƒæ¸ é“</span><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="https://www.zhihu.com/people/issac-79"><span class="icon"><i class="fab | fa-zhihu"></i> </span><span class="label">Zhihu</span></a></div><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i> </span><span class="label">WeChat</span> </span><img class="social-item-img" src="/blog/images/wechat_qrcode.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/blog/atom.xml"><span class="icon"><i class="fa fa-rss"></i> </span><span class="label">RSS</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://github.com/isaaxite"><span class="icon"><i class="fab fa-github"></i> </span><span class="label">GitHub</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="isaacgun:isaacgun@outlook.com"><span class="icon"><i class="fa fa-envelope"></i> </span><span class="label">E-Mail</span></a></div></div></div><div class="post-tags"><a href="/blog/tags/CHANGELOG/" rel="tag"><i class="fa fa-tag"></i> CHANGELOG</a> <a href="/blog/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/" rel="tag"><i class="fa fa-tag"></i> è‡ªåŠ¨åŒ–</a> <a href="/blog/tags/Commit%E8%A7%84%E8%8C%83/" rel="tag"><i class="fa fa-tag"></i> Commitè§„èŒƒ</a> <a href="/blog/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" rel="tag"><i class="fa fa-tag"></i> ç‰ˆæœ¬æ§åˆ¶</a> <a href="/blog/tags/Git-Hook/" rel="tag"><i class="fa fa-tag"></i> Git Hook</a></div><div class="post-nav"><div class="post-nav-item"><a href="/blog/resources/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%A9%E5%B1%95%E7%A8%8B%E5%BA%8F/" rel="prev" title="ä¸€æ¬¡æ€§ææ‡‚æµè§ˆå™¨æ‰©å±•ç¨‹åºå¼€å‘"><i class="fa fa-chevron-left"></i> ä¸€æ¬¡æ€§ææ‡‚æµè§ˆå™¨æ‰©å±•ç¨‹åºå¼€å‘</a></div><div class="post-nav-item"><a href="/blog/resources/Get-Start-Of-Github-Action/" rel="next" title="Github Action å…¥é—¨æŒ‡å—">Github Action å…¥é—¨æŒ‡å— <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments utterances-container"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Isaac Kam</span></div><div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨</div></div></footer><div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><div class="reading-progress-bar"></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script><script src="/blog/js/comments.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/motion.js"></script><script src="/blog/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/blog/js/third-party/search/local-search.js"></script><script src="/blog/js/third-party/fancybox.js"></script><script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"isaaxite/blog","issue_term":"title","theme":"github-light"}</script><script src="/blog/js/third-party/comments/utterances.js"></script></body></html>