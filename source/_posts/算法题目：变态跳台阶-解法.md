---
title: 算法题目：变态跳台阶||解法
date: 2019-08-17 16:31:09
tags:
- 算法题
- 旧文迁移
categories:
- 算法题
---

# 题目描述

一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法。

<!-- more -->

# 程序
```js
function jumpFloorII(n) {
  if (n === 1) {
    return 1;
  } else {
    return 2 * jumpFloorII(n - 1);
  }
}
```

# 分析
看程序就知道，这个解法不是单纯依赖平常思维写的，`2 * jumpFloorII(n - 1)`这句代码明显就是个规律，所以就是找规律！

设有`f(n)，n=台阶数`为算出“跳上一个n级的台阶总共有多少种跳法”的函数。

只关心第一次跳多少个台阶，剩下的就交给这个`f(n)`来解决！
那么有n个台阶，第一次可以选择跳的台阶数就可以是1级，或2级，或3级，……，或n级。
当第一次跳1级时，那么剩下就有n-1级，那么剩下n-1级台阶就有f(n-1)种跳法；
当第一次跳2级时，那么剩下就有n-2级，那么剩下n-2级台阶就有f(n-2)种跳法；
当第一次跳3级时，那么剩下就有n-3级，那么剩下n-3级台阶就有f(n-3)种跳法；
……
当第一次跳n-1级时，那么剩下就有n-(n-1)级，那么剩下n-(n-1)级台阶就有f(n-(n-1))种跳法；
当第一次跳n级时，那么剩下就有n-n级，那么剩下n-n级台阶就有f(n-n)种跳法。

上面已经将“跳上一个n级的台阶总共有多少种跳法”这个问题做了拆分，拆分为：以第一次跳的级数作为分类，由上面的排比就知道分成了n类方式（是不是很熟悉，排列组合中[分类加法计数原理](https://baike.baidu.com/item/%E5%88%86%E7%B1%BB%E5%8A%A0%E6%B3%95%E8%AE%A1%E6%95%B0%E5%8E%9F%E7%90%86/467166)）。

显然将这n类方式的跳法加起来就是题目的问题，即：
```
f(n) = f(n-1) + f(n-2) + f(n-3) + ... + f(n-(n-1)) + f(n-n)
```
整理一下这个代数式就是
```
f(n) = f(n-1) + f(n-2) + f(n-3) + ... + f(1) + f(0)
```
根据这个代数式，你可以推导出f(n-1)的代数式是：
```
f(n-1) = f(n-2) + f(n-3) + ... + f(1) + f(0)
```
结合一下，就有最终的式子：
```
f(n) = f(n-1) + f(n-1) = 2 * f(n-1)
```
到现在，只是知道代数关系，还是不知道f(n)这个函数的具体逻辑！但是有这个关系，就可以将问题向下转化！比如我们不知道f(2)等于多少，但是知道`f(2) = 2 * f(1)`，而f(1)是很轻松就可以知道的！
f(1)就是第一次跳了n-1级的台阶，剩下的台阶数就只有1级，显然就只有1种跳法，即*f(1) = 1*!
然后就知道f(2) = 2；这样就可以将所有未知转化为已知！

然后就有了：
```js
function jumpFloorII(n) {
  if (n === 1) {
    return 1;
  } else {
    return 2 * jumpFloorII(n - 1);
  }
}
```
